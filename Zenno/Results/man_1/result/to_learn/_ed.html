
<!--+++++++++++++++++++++++++++++++++++++++++++  0  +++++++++++++++++++++++++++++++++++++++++++--->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Проект OpenNet: MAN ed (1) Команды и прикладные программы пользовательского уровня (FreeBSD и Linux)</title><meta name="KeyWords" content="man, manual, MAN, системное руководство, linux, FreeBSD, OpenBSD, Solaris, ядро, программы, системный вызов, ed"><meta name="viewport" content="width=device-width, initial-scale=1"></head>


<body link="#0000FF" vlink="#000080" text="#000000" bgcolor="#E3E4D0" alink="#FF00FF">
<link rel="stylesheet" href="/opennet4.css" type="text/css">
<!--htdig_noindex-->
<form method="get" action="https://www.opennet.ru/search.shtml">
<aside>
<div style="width: 100%; text-align: right; font-size: 70%; background: #E9EAD6; margin-bottom:-10px;">
Профиль: <b><a href="/~" rel="nofollow" title="/~ - сводная страница участника"><u>Аноним</u></a></b> (<a href="https://www.opennet.ru/cgi-bin/openforum/vsluhboard.cgi?az=login">вход</a> | <a href="https://www.opennet.ru/cgi-bin/openforum/vsluhboard.cgi?az=user_register">регистрация</a>)</div>

<table cellspacing="0" cellpadding="0" width="100%" border="0">
<tbody><tr>
<td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left" valign="BOTTOM" bgcolor="#E9EAD6" width="300">
<a href="https://www.opennet.ru/"><img src="/opennet2.gif" alt="The OpenNET Project" height="60" width="249" border="0"></a><br>
</td>
<td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left" bgcolor="#E9EAD6" align="CENTER" width="100">

</td><td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left;padding-bottom:10px;" bgcolor="#E9EAD6" align="CENTER" width="50%">
<table width="100%" border="0">
<tbody><tr>
<td width="22%">
 <a href="https://www.opennet.ru/opennews/" class="h"><b>НОВОСТИ</b></a> (<a href="https://www.opennet.ru/news/opennet.shtml" class="h">+</a>)
</td><td width="18%%">
  <a href="https://www.opennet.ru/mp/" class="h"><b>КОНТЕНТ</b></a>
</td><td width="14%">
  <a href="http://wiki.opennet.ru" class="h"><b>WIKI</b></a>
</td><td width="14%">
   <a href="https://www.opennet.ru/man.shtml" class="h"><b>MAN'ы</b></a>
</td><td width="16%">
   <a href="https://www.opennet.ru/forum/" class="h"><b>ФОРУМ</b></a>
</td><td width="16%">
<a href="https://www.opennet.ru/search.shtml" class="h" onmouseover="document.getElementById('form12').style.display='block';">Поиск</a>&nbsp;(<a href="https://www.opennet.ru/keywords/" class="h">теги</a>)
<input id="form12" style="display: none;" size="10" name="words" value="" title="для поиска в google наберите &quot;g фраза&quot;" type="text">
</td></tr>
</tbody></table>

</td><td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left;padding-bottom:5px;" bgcolor="#E9EAD6" align="right" width="20%">

<a href="https://www.opennet.ru/opennews/opennews_all_utf.rss"><img src="/img/rss.png" alt="RSS" title="RSS" height="16" width="16" border="0"></a>&nbsp;<a href="https://twitter.com/opennetru"><img src="/twitter.png" alt="twitter" title="Twitter" height="16" width="16" border="0"></a>&nbsp;<a href="https://vk.com/opennet"><img src="/img/vkontakte.gif" title="ВКонтакте" height="16" width="16" border="0"></a>&nbsp;<a href="https://zen.yandex.ru/opennet"><img src="/img/zen.gif" title="Yandex Zen" height="16" width="16" border="0"></a>&nbsp;<a href="https://www.facebook.com/OpenNet.News/"><img src="/img/facebook.gif" title="Facebook" height="16" width="16" border="0"></a>&nbsp;<a href="https://telegram.space/opennet_ru"><img src="/img/telegram2.png" title="Telegram" height="16" width="16" border="0"></a>
</td></tr></tbody></table>
</aside>

<style>
    .hdr_mobile {
	text-align: center; 
	display: none;
	margin: 0px;
	padding: 0px;
    }
</style>
<div class="hdr_mobile">
<div style="margin-left: auto; margin-right: auto; width: 100%; height: 70px; border:1px solid #b0b190; min-width: 360px; max-width: 600px; background: #E9EAD6 url('/back.gif') repeat-x bottom left;">
<div style="float:left; width: 249px; height: 60px; margin-top: 10px;">
<a href="https://www.opennet.ru"><img src="/opennet2_lite.gif" style="height: 60px; width: 249px; border: 1px;" alt="The OpenNET Project / Index page"></a>
</div>
<div style="float: left; text-align: center; height: 70px; width: 331px; padding: 5px; margin-left: 10px;">
<br><small>[ <a href="/opennews/">новости</a>&nbsp;/<a href="/opennews/?full_lines=15&amp;lines=15&amp;mid_lines=00">+++</a> | <a href="/forum/">форум</a> | <a href="http://wiki.opennet.ru">wiki</a> | <a href="/keywords/">теги</a>
| <a href="tg://resolve?domain=opennet_ru"><img src="/img/telegram2.png" title="Telegram" style="margin-bottom: -4px;" height="16" width="16" border="0"></a>
]</small>
</div>
</div>
</div>
<div style="clear: both;"></div>


<div style="float: left; width: 279; text-align: left;padding-right: 60px;" id="adv">
</div>
<div style="padding-top: 0px;position:absolute;left:50%;margin-left:-235px;width:470px;" id="adv2">
</div>
<div style="width: 279;float: right;" id="adv3">
</div>
<div style="clear: both;"></div>
<br>
</form>
<!--/htdig_noindex-->

<center><h3><font color="#000088">Интерактивная система просмотра системных руководств (man-ов)</font></h3></center>
<form method="GET" action="/man.shtml"> 
<table cellspacing="0" cellpadding="1" bgcolor="#B0B190" align="center" width="600" border="0">
<tbody><tr>
<td valign="TOP">

<table cellspacing="0" cellpadding="0" bgcolor="#E9EAD6" align="center" width="100%" border="0">
<tbody><tr><td>&nbsp;<font color="#555555">Тема</font></td><td><font color="#555555">Набор</font></td><td><font color="#555555">Категория</font></td><td>&nbsp;</td></tr>
<tr><td>

&nbsp;<input size="20" name="topic" value="ed" type="text"></td><td><select name="russian">
<option value="4">Solaris man
</option><option value="1">FreeBSD man
</option><option value="3">Разные man
</option><option value="0" selected="">Русские man
</option><option value="2">Linux man
</option><option value="5">POSIX man
</option></select></td>
<td><select size="1" name="category">
	  <option value="" selected="">All
	  </option><option value="1">1
	  </option><option value="2">2
	  </option><option value="3">3
	  </option><option value="4">4
	  </option><option value="5">5
	  </option><option value="6">6
	  </option><option value="7">7
	  </option><option value="8">8
	  </option><option value="9">9
</option></select></td>

<td><input name="submit" value="Показать man" type="submit"></td></tr>
<script async="" src="https://www.google-analytics.com/analytics.js"></script><script language="JavaScript" src="/print.js"></script>
<tr><td colspan="4" align="left">&nbsp;[<a href="/man.shtml">Cписок руководств</a> | <a href="#" onclick="pr('none');">Печать</a>]</td></tr>
</tbody></table>
</td></tr></tbody></table>
</form>
<h3></h3><font size="+2">ed (1)</font><hr><li> <a href="/man.shtml?topic=ed&amp;category=1&amp;russian=4"><u>ed</u></a> (1) <font color="#555555"> ( Solaris man: Команды и прикладные программы пользовательского уровня )</font></li><li> <a href="/man.shtml?topic=ed&amp;category=1&amp;russian=1"><u>ed</u></a> (1) <font color="#555555"> ( FreeBSD man: Команды и прикладные программы пользовательского уровня )</font></li><li>&gt;&gt; <a href="/man.shtml?topic=ed&amp;category=1&amp;russian=0"><u>ed</u></a> (1) <font color="#555555"> ( Русские man: Команды и прикладные программы пользовательского уровня )</font></li><li> <a href="/man.shtml?topic=ed&amp;category=1&amp;russian=2"><u>ed</u></a> (1) <font color="#555555"> ( Linux man: Команды и прикладные программы пользовательского уровня )</font></li><li> <a href="/man.shtml?topic=ed&amp;category=1&amp;russian=5"><u>ed</u></a> (1) <font color="#555555"> ( POSIX man: Команды и прикладные программы пользовательского уровня )</font></li><li> <a href="/man.shtml?topic=ed&amp;category=4&amp;russian=1"><u>ed</u></a> (4) <font color="#555555"> ( FreeBSD man: Специальные файлы /dev/* )</font></li><li><font color="#555555">Ключ <a href="/keywords/ed.html"><u>ed</u></a> обнаружен в базе ключевых слов.</font></li>
<table width="100%" border="0">
<tbody><tr>
<td><h1>ed(1)</h1></td>
<td><h1 align="right">ed(1)</h1></td>
</tr>
</tbody></table>

<h2>НАЗВАНИЕ</h2>
<p><b>ed</b>, <b>red</b> - текстовый редактор</p>

<h2>СИНТАКСИС</h2>
<dl><dt></dt>
  <dd><tt>
	ed [-s] [-p <b>строка</b>] [-x] [-C] [<b>файл</b>]<br>
	red [-s] [-p <b>строка</b>] [-x] [-C] [<b>файл</b>]
</tt></dd></dl>

<h2><a name="desc">ОПИСАНИЕ</a></h2>
<p><b>ed</b> - это стандартный текстовый редактор. Если указан аргумент <b>файл</b>, <b>ed</b>
применяет к нему команду <b>e</b> (см. <a href="#e">ниже</a>); т.е. файл считывается в буфер <b>ed</b>, чтобы 
его можно было редактировать. Как <b>ed</b>, так и <b>red</b> обрабатывают <i>символы 
дополнительного набора</i> (supplementary code set characters) в файле и распознают 
их в строке приглашения, указанной в опции <b>-p</b> (см. <a href="#p">ниже</a>), в соответствии с 
локалью, указанной в переменной среды <b>LC_CTYPE</b> (см. <b>LANG</b> в <a href="/man.shtml?topic=environ&amp;category=5"><b>environ(5)</b></a>). 
В регулярных выражениях поиск шаблонов осуществляется над символами, а не 
над байтами, как описано ниже.</p>

<table cellspacing="4" width="100%" border="0">
<tbody><tr><td width="15%"><b>-s</b></td>
<td>
Подавляет выдачу количества байтов командами <b>e</b>, <b>E</b>, <b>r</b> и <b>w</b>, 
выдачу диагностики командами <b>e</b> и <b>q</b>, а также выдачу 
приглашения <b>!</b> после команды <b>!shell</b>.</td></tr>
<tr><td><b>-p</b></td>
<td>
Позволяет пользователю указывать строку приглашения. 
Строка может содержать символы дополнительного набора.</td></tr>
<tr><td><b>-x</b></td>
<td>
Опция шифрования; при ее использовании, <b>ed</b> имитирует 
команду <b>X</b> и предлагает пользователю ввести пароль. Этот 
ключ используется для шифрования и дешифрования текста с 
помощью алгоритма <a href="/man.shtml?topic=crypt&amp;category=1"><b>crypt(1)</b></a>. Команда <b>X</b> сама делает 
предположение, является ли считываемый текст 
зашифрованным или нет. Файл временного буфера также 
шифруется с помощью преобразованной версии ключа, 
введенного для опции <b>-x</b>. См. <a href="/man.shtml?topic=crypt&amp;category=1"><b>crypt(1)</b></a>. См. также раздел 
<a href="#notes"><b>"ПРИМЕЧАНИЯ"</b></a> в конце этой страницы справочного 
руководства.</td></tr>
<tr><td><b>-C</b></td>
<td>
Опция шифрования; то же, что и опция <b>-x</b>, но <b>ed</b> имитирует 
команду <b>C</b>. Команда <b>C</b> действует аналогично команде <b>X</b>, но все 
считываемые тексты считаются зашифрованными.</td></tr>
</tbody></table><p><b>ed</b> работает с копией редактируемого файла; сделанные в копии изменения не 
влияют на файл, пока не будет дана команда <b>w</b> (запись). Копия редактируемого 
текста находится во временном файле, который называется <i>буфером</i>. Имеется 
только один буфер.</p><p><b>red</b> - это ограниченная версия <b>ed</b>. Он позволяет редактировать файлы только в 
текущем каталоге. Он запрещает выполнение команд интерпретатора с 
помощью команды <b>!shell</b>. Попытки обойти эти ограничения ведут к выдаче 
сообщения об ошибке (<tt>UX:ed: ERROR: Restricted shell</tt>).</p><p><b>ed</b> и <b>red</b> поддерживают возможность форматирования fspec. Если включить 
строку спецификации формата в качестве первой строки файла и вызвать <b>ed</b> с 
терминала, работающего в режиме <b>stty -tabs</b> или <b>stty tab3</b>, заданные шаги 
табуляции будут автоматически использоваться при сканировании файла. 
Например, если первая строка файла содержала:<br>
<tt>&lt;:t5,10,15 s72:&gt;</tt><br>
табуляции будут установлены в столбцах 5, 10 и 15, и максимальная длина 
строки будет предполагаться равной 72 символам. <i><b>ПРИМЕЧАНИЕ:</b></i> при вводе 
текста в файл этот формат не действует; вместо этого, поскольку терминал 
работает в режиме <b>stty -tabs</b> или <b>stty tab3</b>, табуляции устанавливаются в каждом 
восьмом столбце.</p><p>Команды редактора <b>ed</b> имеют простую и регулярную структуру: ноль, один или 
два адреса, за которыми идет односимвольная команда, после которой могут 
быть указаны параметры команды. Эти адреса указывают одну или несколько 
строк буфера. Каждая команда, требующая указания адреса, имеет адреса по 
умолчанию, поэтому очень часто адреса можно не указывать.</p><p>В общем случае, в строке можно задавать только одну команду. Некоторые 
команды разрешают вводить текст. Этот текст помещается в  соответствующее 
место в буфере. Когда <b>ed</b> воспринимает текст, говорят, что он находится в 
<i>режиме ввода</i>. В этом режиме команды не распознаются; все введенные 
символы просто накапливаются. Чтобы выйти из режима ввода, введите точку (<b>.</b>) 
в начале строки и сразу же нажмите клавишу Enter.</p><p><b>ed</b> поддерживает ограниченную форму записи <i>регулярных выражений</i> (regular 
expressions); регулярные выражения используются в адресах для указания строк 
и в некоторых командах (например, <b>s</b>) для задания частей строки, подлежащих 
замене. Регулярное выражение задает множество символьных строк. Говорят, 
что элемент этого множества строк <i>сопоставляется</i> с регулярным выражением. 
(Полная информация о регулярных выражениях представлена на странице 
справочного руководства <a href="/man.shtml?topic=grep&amp;category=1"><b>grep(1)</b></a>.)</p><p>Чтобы понять адресацию в <b>ed</b>, необходимо помнить, что в любой момент 
имеется <i>текущая строка</i>. В общем случае, текущая строка - это последняя 
строка, затронутая командой; конкретное влияние на текущую строку 
указывается в описании каждой команды. Адреса строятся следующим образом:</p><ol>
<li>	Символ . указывает на текущую строку.</li>
<li>	Символ $ указывает на последнюю строку в буфере.</li>
<li>	Десятичное число <b>n</b> указывает на <b>n</b>-ную строку в буфере.</li>
<li>	<b>'x</b> указывает на строку, помеченную символом <b>x</b>, который должен быть 
символом нижнего регистра (<b>a-z</b>). Строки помечаются с помощью 
команды <b>k</b>, которая описана ниже.</li>
<li>	Регулярное выражение в косых чертах (<b>/</b>) указывает на первую строку, 
найденную при поиске вперед от текущей строки до конца буфера и 
сопоставляющуюся с этим регулярным выражением. При необходимости, 
поиск продолжается с начала буфера включительно до текущей строки, 
так что просматривается весь буфер. См. также <a href="#last">последний абзац</a> раздела 
<a href="#descr"><b>"ОПИСАНИЕ"</b></a> ниже.</li>
<li>	Регулярное выражение в знаках вопроса (<b>?</b>) указывает на первую строку, 
найденную при поиске назад от текущей строки до конца буфера и 
сопоставляющуюся с этим регулярным выражением. При необходимости, 
поиск продолжается с конца буфера включительно до текущей строки, 
так что просматривается весь буфер. См. также последний абзац раздела 
<a href="#descr"><b>"ОПИСАНИЕ"</b></a> ниже.</li>
<li>	Адрес, за которым идет знак плюс (<b>+</b>) или знак минус (<b>-</b>), за которым идет 
десятичное число, указывает на этот адрес плюс (соответственно, минус) 
указанное число строк. В качестве сокращения для <b>.+5</b> можно 
использовать <b>.5</b>.</li>
<li>	Если адрес начинается с <b>+</b> или <b>-</b>, добавление или вычитание 
осуществляется по отношению к данной строке; например, <b>, -5</b> означает 
<b>.-5</b>.</li>
<li>	Если адрес заканчивается знаком <b>+</b> или <b>-</b>, то к адресу добавляется 1 или 
от адреса отнимается 1, соответственно. Вследствие этого правила и 
Правила 8 выше, адрес - указывает на строку, предшествующую текущей. 
(Чтобы сохранить совместимость с более ранними версиями редактора, 
символ ^ в контексте адреса полностью эквивалентен -.) Более того, 
хвостовые символы + и - имеют кумулятивный эффект, так что -- 
указывает на текущую строку минус 2.</li>
<li>	Для удобства, запятая (<b>,</b>) соответствует паре адресов <b>1,$</b>, а точка с запятой 
(<b>;</b>) - паре <b>.,$.</b></li>
</ol><p>Команды могут требовать ноль, один или два адреса. Для команд, не требующих 
адреса, указание адреса считается ошибкой. Команды, воспринимающие один 
или два адреса, используют адреса по умолчанию вместо недостающих адресов; 
если задано больше адресов, чем требуется такой команде, используются 
последние из указанных.</p><p>Обычно, адреса разделяются запятой (<b>,</b>). Они также могут разделяться точкой с 
запятой (<b>;</b>). В последнем случае вычисляется первый адрес, текущая строка (<b>.</b>) 
устанавливается в это значение, а затем вычисляется второй адрес. Эту 
возможность можно использовать для определения начальной строки при 
поисках вперед и назад (см. Правила 5 и 6 выше). Второй адрес в любой паре 
адресов должен соответствовать строке в буфере, идущей <b>после</b> строки, 
соответствующей первому адресу.</p><p>В следующем списке команд <b>ed</b> скобки перед командой не являются частью 
адреса; они просто показывают адрес(а) по умолчанию для этой команды.</p><p>Аргументы <b>файл</b> команд <b>e</b>, <b>E</b>, <b>f</b>, <b>r</b>, <b>w</b> и <b>W</b> подлежат расширению как шаблоны 
имен файлов в <a href="/man.shtml?topic=sh&amp;category=1"><b>sh(1)</b></a>. Они должны отделяться от буквы, задающей команду, 
одним или несколькими пробелами или символами табуляции.</p><p>В общем случае недопустимо указание в строке более одной команды. Однако, 
после любой команды (кроме <b>e</b>, <b>f</b>, <b>r</b> и <b>w</b>) можно указать суффикс <b>l</b>, <b>n</b> или <b>p</b>, при 
этом, соответственно, будет выдана, выдана с номером или напечатана текущая 
строка, как описано ниже для команд <b>l</b>, <b>n</b> и <b>p</b>.</p><dl>
<dt><b>(.)<a name="a">a</a><br>
&lt;текст&gt;<br>
.</b></dt>
<dd>
Команда добавления (append) воспринимает ноль или более строк и 
добавляет их после указанной строки в буфер. Текущей строкой (<b>.</b>) 
остается последняя вставленная строка или, если ни одна строка не 
вставлена, строка, указанная в адресе. Для этой команды допустим адрес 
0: он вызывает помещение "добавляемого" текста в начало буфера. 
Максимально в одной строке с терминала можно ввести <b>LINE_MAX</b> 
байтов (включая символ новой строки). Параметр <b>LINE_MAX</b> определен 
в файле <b>limits.h</b>.</dd>
<dt><b>(.)<a name="c">c</a><br>
&lt;текст&gt;<br>
.</b></dt>
<dd>
Команда изменения (change) удаляет указанные строки из буфера, а затем 
воспринимает ноль или более строк текста, которые заменяют в буфере 
удаленные строки. Текущей строкой (<b>.</b>) становится последняя введенная 
строка или, если ни одна строка не была введена, первая не удаленная 
строка.</dd>
<dt><b><a name="C">C</a></b></dt>
<dd>
То же, что и команда <b>X</b>, описанная ниже, но <b>ed</b> предполагает, что весь 
текст, считываемый командами <b>e</b> и <b>r</b>, является зашифрованным, если 
только он не пустой.
</dd><dt><b>(.,.)<a name="d">d</a></b></dt>
<dd>
Команда удаления (delete) удаляет из буфера все указанные строки. 
Текущей становится строка, следующая за последней удаленной; если 
удаленные строки находились в конце буфера, текущей становится новая 
последняя строка.</dd>
<dt><b><a name="e">e</a> файл</b></dt>
<dd>
Команда редактирования (edit) удаляет все содержимое буфера, а затем 
считывает в буфер содержимое файла. Текущей строкой (<b>.</b>) становится 
последняя строка буфера. Если <b>файл</b> не указан, используется последнее 
запомненное имя файла, если оно есть (см. команду <a href="#f"><b>f</b></a>). Выдается 
количество прочитанных символов; <b>файл</b> запоминается для возможного 
использования в качестве имени файла по умолчанию в последующих 
командах <b>e</b>, <b>r</b> и <b>w</b>. Если вместо <b>файла</b> указать <b>!</b>, остаток строки 
рассматривается как команда интерпретатора shell (<a href="/man.shtml?topic=sh&amp;category=1"><b>sh(1)</b></a>), выходной 
поток которой должен быть считан. Такая команда интерпретатора shell 
не запоминается в качестве текущего имени файла. См. также раздел 
<a href="#diag"><b>"ДИАГНОСТИКА"</b></a> ниже.</dd>
<dt><b><a name="E">E</a> файл</b></dt>
<dd>
Команда <b>E</b> аналогична <b>e</b>, но редактор не проверяет, были ли сделаны в 
буфере какие-либо изменения после последней команды <b>w</b>.
</dd><dt><b><a name="f">f</a> файл</b></dt>
<dd>
Если <b>файл</b> указан, команда запоминания имени файла (file-name) 
изменяет текущее запомненное имя файла на указанное; в противном 
случае, она выдает текущее запомненное имя файла.</dd>
<dt><b>(1,$)<a name="g">g</a>/регулярное_выражение/список_команд</b></dt>
<dd>
В глобальной (global) команде первым шагом является пометка каждой 
строки, сопоставляющейся с указанным <b>регулярным_выражением</b>. 
Затем, для каждой такой строки выполняется заданный <b>список_команд</b>, 
причем текущая строка (<b>.</b>) предварительно устанавливается в данную. 
Единственная команда или первая из <b>списка_команд</b> в строке 
выполняется как глобальная. Все строки многострочного 
<b>списка_команд</b>, кроме последней, должны заканчиваться обратной 
косой (<b>\</b>); команды <b>a</b>, <b>i</b> и <b>c</b>, а также соответствующий ввод, допустимы. 
Точку (<b>.</b>), завершающую режим ввода, можно не указывать, если она 
будет последней строкой <b>списка_команд</b>. Пустой <b>список_команд</b> 
эквивалентен команде <b>p</b>. Команды <b>g</b>, <b>G</b>, <b>v</b> и <b>V</b> в <b>списке_команд</b> 
использовать нельзя. См. раздел <a href="#notes"><b>"ПРИМЕЧАНИЯ"</b></a> и <a href="#last">последний абзац</a> 
раздела <b>"ОПИСАНИЕ"</b> ниже.</dd>
<dt><b>(1,$)<a name="G">G</a>/регулярное_выражение/</b></dt>
<dd>
В интерактивной глобальной команде (Global), первым шагом является 
пометка каждой строки, сопоставляющейся с указанным 
<b>регулярным_выражением</b>. Затем, каждая такая строка печатается, 
текущая строка (<b>.</b>) устанавливается в данную и можно ввести и 
выполнить любую одиночную команду (кроме команд <b>a</b>, <b>c</b>, <b>i</b>, <b>g</b>, <b>G</b>, <b>v</b> и <b>V</b>). 
После выполнения этой команды печатается следующая помеченная 
строка и т.д.; новая строка действует как пустая команда; ввод <b>&amp;</b>
вызывает повторное выполнение последней команды, выполненной в 
рамках текущего вызова <b>G</b>. Учтите, что команды, вводимые в ходе 
выполнения команды <b>G</b>, могут обращаться и влиять на любые строки в 
буфере. Команду G можно прекратить, послав сигнал прерывания (ASCII 
<b>DEL</b> или <b>BREAK</b>).</dd>
<dt><b><a name="h">h</a></b></dt>
<dd>
Команда получения справки (help) выдает краткое сообщение об ошибке, 
объясняющее причину выдачи последнего диагностического сообщения 
<b>?</b>.</dd>
<dt><b><a name="H">H</a></b></dt>
<dd>
Команда <b>H</b> заставляет <b>ed</b> войти в режим, в котором сообщения об 
ошибках печатаются для всех последующих диагностических сообщений 
<b>?</b>. Она также даст объяcнения по предыдущему <b>?</b>, если он был. Команда 
<b>H</b> включает и отключает этот режим; первоначально он отключен.</dd>
<dt><b>(.)<a name="i">i</a><br>
&lt;текст&gt;<br>
.</b></dt>
<dd>
Команда вставки (insert) воспринимает ноль или более строк <b>текста</b>  и 
вставляет их в буфер перед указанной строкой. Текущей строкой (<b>.</b>) 
становится последняя вставленная строка или, если ни одна строка не 
вставлена, строка, указанная в адресе. Эта команда отличается от 
команды a только тем, куда помещается введенный текст. Адрес 0 для 
этой команды недопустим. Максимально в одной строке с терминала 
можно ввести <b>LINE_MAX</b> байтов (включая символ новой строки). 
Параметр <b>LINE_MAX</b> определен в файле <b>limits.h</b>.</dd>
<dt><b>(.,.+1)<a name="j">j</a></b></dt>
<dd>
Команда соединения (join) соединяет подряд идущие строки путем 
удаления соответствующих символов новой строки. Если указан один 
адрес, эта команда ничего не делает.</dd>
<dt><b>(.)<a name="k">k</a>x</b></dt>
<dd>
Команда пометки (mark) помечает указанную строку символом x, 
который должен быть буквой нижнего регистра (<b>a-z</b>). Адрес <b>'x</b> после 
этого будет указывать на данную строку; текущая строка (<b>.</b>) не 
изменяется.</dd>
<dt><b>(.,.)<a name="l">l</a></b></dt>
<dd>
Команда выдачи (list) выдает указанные строки в недвусмысленном виде: 
некоторые непечатные символы (например, символы табуляции или 
забоя) представляются визуальными мнемоничными эквивалентами. Все 
остальные непечатные символы печатаются в виде восьмеричных кодов, 
длинные строки переносятся и конец каждой строки помечается 
символом <b>$</b>. Команду <b>l</b> можно добавлять к любой команде, кроме <b>e</b>, <b>f</b>, <b>r</b> и 
<b>w</b>.</dd>
<dt><b>(.,.)<a name="m">m</a>a</b></dt>
<dd>
Команда перемещения (move) переставляет указанную строку или строки 
после строки с адресом <b>a</b>. При использовании адреса 0 в качестве <b>a</b> 
указанная строка или строки перемещаются в начало файла. Если адрес<b>a</b>
попадает в диапазон перемещаемых строк, это является ошибкой; 
текущей строкой (<b>.</b>) становится последняя из перенесенных строк.</dd>
<dt><b>(.,.)<a name="n">n</a></b></dt>
<dd>
Команда нумерации (number) выдает указанные строки, предваряя 
каждую номером строки и символом табуляции; текущей строкой (<b>.</b>) 
становится последняя выданная строка. Команду n можно добавлять к 
любой команде, кроме <b>e</b>, <b>f</b>, <b>r</b> и <b>w</b>.</dd>
<dt><b>(.,.)<a name="p">p</a></b></dt>
<dd>
Команда печати (print) выдает (печатает) указанные строки; текущей 
строкой (<b>.</b>) становится последняя выданная строка. Команду <b>p</b> можно 
добавлять к любой команде, кроме <b>e</b>, <b>f</b>, <b>r</b> и <b>w</b>. Например, <b>dp</b> удаляет 
текущую строку и печатает новую текущую строку.</dd>
<dt><b><a name="P">P</a></b></dt>
<dd>
Редактор будет выдавать приглашение <b>*</b> для ввода всех последующих 
команд. Команда <b>P</b> переключает этот режим; первоначально он 
отключен.</dd>
<dt><b><a name="q">q</a></b></dt>
<dd>
Команда выхода (quit) заставляет <b>ed</b> прекратить работу. Автоматическая 
запись изменений в файл не выполняется; см. однако раздел 
<a href="#diag"><b>"ДИАГНОСТИКА"</b></a> ниже.</dd>
<dt><b><a name="Q">Q</a></b></dt>
<dd>
Происходит выход из редактора без проверки, были ли сделаны 
изменения в буфере с момента выполнения последней команды <b>w</b>.</dd>
<dt><b>($)<a name="r">r</a> файл</b></dt>
<dd>
Команда чтения (read) читает содержимое <b>файла</b> в буфер. Если <b>файл</b> не 
указан, используется текущее запомненное имя файла, если оно есть (см. 
команды <b><a href="#e">e</a></b> и <b><a href="#f">f</a></b>). Текущее запомненное имя файла не изменяется, если это 
только не самое первое имя файла, упомянутое с момента вызова <b>ed</b>. 
Адрес 0 допустим для <b>r</b> и вызывает считывание файла в начало буфера. 
Если чтение выполнено успешно, выдается количество прочитанных 
символов; текущей строкой (<b>.</b>) становится последняя прочитанная строка. 
Если вместо файла указан <b>!</b>, остаток строки рассматривается как команда 
интерпретатора shell (см. <a href="/man.shtml?topic=sh&amp;category=1"><b>sh(1)</b></a>), стандартный выходной поток которой 
должен быть считан.<br>
<br>
Например, <b>$r !ls</b> добавляет текущий каталог к концу редактируемого 
файла. Такая команда shell не запоминается в качестве текущего имени 
файла.<br>
</dd>
<dt><b>(.,.)<a name="s">s</a>/регулярное_выражение/замена/</b><br>
или <b>(.,.)s/регулярное_выражение/замена/g</b><br>
или <b>(.,.)s/регулярное_выражение/замена/n&nbsp;&nbsp;	n = 1-512</b>
</dt>
<dd>
Команда подстановки (substitute) проверяет каждую указанную строку на 
вхождение указанного <b>регулярного_выражения</b>. В каждой строке, в 
которой найдено сопоставление, все (непересекающиеся) вхождения 
сопоставившихся подстрок заменяются на указанную <b>замену</b>, если после 
команды указан индикатор глобальной замены <b>g</b>. Если глобальный 
индикатор не указан, заменяется только первое вхождение 
сопоставившейся подстроки. Если после команды указано число <b>n</b>, 
только <b>n</b>-ное вхождение сопоставившейся подстроки заменяется в 
каждой указанной строке. Если ни в одной из указанных строк замену 
осуществить не удалось, это рассматривается как ошибка. Вместо / для 
ограничения <b>регулярного_выражения</b> и <b>замены</b> можно использовать 
любой символ, кроме пробела и новой строки; текущей строкой (<b>.</b>) 
становится последняя строка, в которой произошла замена. См. также 
<a href="#last">последний абзац</a> в разделе <b>"ОПИСАНИЕ"</b> ниже.<br>
<br>
Амперсанд (<b>&amp;</b>) в строке <b>замены</b> заменяется подстрокой, 
сопоставившейся с регулярным выражением в текущей строке. 
Специальную интерпретацию символа <b>&amp;</b> в этом контексте можно 
отменить, предварив его символом <b>\</b>. В качестве более общего свойства, 
символы <b>\n</b>, где <b>n</b> - цифра, заменяются на текст, сопоставившийся с <b>n</b>-
ным подвыражением указанного регулярного_выражения, 
находящимся между <b>\(</b> и <b>\)</b>. В случае вложенных подвыражений в круглых 
скобках, <b>n</b> определяется путем подсчета вхождений <b>\(</b>, начиная слева. 
Если символ <b>%</b> является единственным символом в <b>замене</b>, в качестве 
замены в текущей команде подстановки используется <b>замена</b> из 
последней выполненной команды подстановки. Символ <b>%</b> теряет свое 
специальное значение, если в строке замены есть и другие символы или 
когда перед ним стоит <b>\</b>.<br>
<br>
Строку можно разбить на несколько, подставляя в нее символы новой 
строки. Символ новой строк в <b>замене</b> должен быть замаскирован путем 
ввода перед ним обратной косой (<b>\</b>). Такая подстановка недопустима как 
часть <b>списка_команд</b> в командах <b><a href="#g">g</a></b> и <b><a href="#v">v</a></b>.</dd>
<dt><b>(.,.)<a name="t">t</a>a</b></dt>
<dd>
Эта команда работает так же, как команда <b>m</b>, но после адреса <b>a</b> (который 
может быть <b>0</b>) помещается копия указанных строк; текущей строкой (<b>.</b>) 
становится последняя скопированная строка.</dd>
<dt><b><a name="u">u</a></b></dt>
<dd>
Команда отмены (undo) отменяет действие последней команды, 
изменившей что-либо в буфере, а именно последней из команд <b>a</b>, <b>c</b>, <b>d</b>, <b>g</b>, <b>i</b>, 
<b>j</b>, <b>m</b>, <b>r</b>, <b>s</b>, <b>t</b>, <b>v</b>, <b>G</b> или <b>V</b>.</dd>
<dt><b>(1,$)<a name="v">v</a>/регулярное_выражение/список_команд</b></dt>
<dd>
Эта команда аналогична глобальной команде <a href="#g"><b>g</b></a>, но на первом шаге 
помечаются строки, не сопоставившиеся с <b>регулярным_выражением</b>.</dd>
<dt><b>(1,$)<a name="V">V</a>/регулярное_выражение/</b></dt>
<dd>
Эта команда аналогична интерактивной глобальной команде <b><a href="#G">G</a></b>, но на 
первом шаге помечаются строки, не сопоставившиеся с 
<b>регулярным_выражением</b>.</dd>
<dt><b>(1,$)<a name="w">w</a> файл</b></dt>
<dd>
Команда записи (write) записывает указанные строки в <b>файл</b>. Если <b>файл</b> 
не существует, он создается с режимом <b>666</b> (доступен на чтение и запись 
для всех), если только маска создания файла не требует другого режима; 
см. описание специальной команды <b>umask</b> в <a href="/man.shtml?topic=sh&amp;category=1"><b>sh(1)</b></a>. Текущее запомненное 
имя файла не изменяется, если только <b>файл</b> - не первое имя файла, 
указанное с момента вызова  <b>ed</b>. Если <b>файл</b> не указан, используется 
текущее запомненное имя файла, если оно есть (см. команды <a href="#e"><b>e</b></a> и <a href="#f"><b>f</b></a>); 
текущая строка (<b>.</b>) не изменяется. Если команда выполнена успешно, 
выдается количество записанных символов. Если вместо <b>файла</b> указать <b>!</b>, 
остаток строки рассматривается как команда интерпретатора shell, 
стандартным входным потоком для которой будут указанные строки. 
Такая команда shell не запоминается в качестве текущего имени файла.</dd>
<dt><b>(1,$)<a name="W">W</a> файл</b></dt>
<dd>
Эта команда аналогична описанной выше команде записи, за 
исключением того, что добавляет указанные строки в конец <b>файла</b>, если 
он существует. Если <b>файл</b> не существует, он создается, как описано выше 
для команды <b>w</b>.</dd>
<dt><b><a name="X">X</a></b></dt>
<dd>
Выдается приглашение ввести ключ, который используется в 
последующих командах <a href="#e"><b>e</b></a>, 
<a href="#r"><b>r</b></a> и <a href="#w"><b>w</b></a> для дешифрования и шифрования текста 
с помощью алгоритма <b>crypt(1)</b>. Редактор сам делает предположение о 
том, является ли текст, считанный командами <b>e</b> и <b>r</b>, зашифрованным. 
Пустой ключ отключает шифрование. См. также опцию <b>-x</b> командной 
строки <b>ed</b>.</dd>
<dt><b>($)<a name="=">=</a></b></dt>
<dd>
Выдается номер указанной строки; эта команда не изменяет текущую 
строку (<b>.</b>).</dd>
<dt><b><a name="!">!</a>команда_shell</b></dt>
<dd>
Остаток строки после <b>!</b> посылается командному интерпретатору системы 
UNIX для интерпретации в качестве команды. См. <a href="/man.shtml?topic=sh&amp;category=1"><b>sh(1)</b></a>. В тексте этой 
команды незамаскированный символ <b>%</b> заменяется запомненным именем 
файла; если в качестве первого символа <b>команды_shell</b> указан <b>!</b>, он 
заменяется текстом предыдущей команды shell. Так что <b>!!</b> повторит 
последнюю выполненную команду shell. Если выполнялось любое 
расширение командной строки, выдается строка после расширения; 
текущая строка (<b>.</b>) не изменяется.</dd>
<dt><b>(.+1)&lt;новая_строка&gt;</b></dt>
<dd>
Адрес в строке без команды вызывает выдачу указанной строки. Просто 
новая строка, без адреса, эквивалентна команде <b>.+1p</b>; таким образом, 
нажатие клавиши Enter удобно использовать для прохода по буферу.</dd>
</dl><p>Если послан сигнал прерывания (ASCII <b>DEL</b> или <b>BREAK</b>), 
<b>ed</b> выдает <b>?</b> и 
возвращается в режим ввода команд.</p><p>Некоторые ограничения размеров: не более <b>LINE_MAX</b> байтов в строке, 256 
байтов в списке команд глобальной команды и <b>PATH_MAX</b> байтов в полных 
именах файлов (включая символы косой черты). Параметры <b>LINE_MAX</b> и 
<b>PATH_MAX</b> определены в файле <b>limits.h</b>. Ограничение на количество строк 
зависит от объема памяти: каждая строка занимает одно слово.</p><p>При чтении файла <b>ed</b> игнорирует символы ASCII <b>NUL</b>.</p><p>Если файл не заканчивается символом перевода строки, <b>ed</b> добавляет его и 
выдает сообщение, объясняющее, что было сделано.</p><p><a name="last">Если</a> закрывающий разделитель регулярного выражения или строки замены 
(например, /) будет последним символом перед новой строкой, этот 
ограничитель можно не вводить. При этом будет напечатана указанная строка. 
Следующие пары команд эквивалентны:</p><dl><dt></dt><dd>
<pre>s/s1/s2	s/s1/s2/p
g/s1		g/s1/p
?s1		?s1?
</pre>
</dd></dl><h3>&nbsp;&nbsp;&nbsp;   Ошибки</h3><table>









































</table><table cellspacing="4" width="100%" border="0">
<tbody><tr><td width="15%"><b>?</b></td>
<td>Ошибка команды.</td></tr>
<tr><td><b>?файл</b></td>
<td>Недопустимый файл. (Для получения детальных разъяснений 
используйте команды <a href="#h"><b>h</b></a> и <a href="#H"><b>H</b></a>).</td></tr>
</tbody></table>

<p>Если в буфере были сделаны изменения после выполнения последней команды 
<b>w</b>, записавшей весь буфер, <b>ed</b> предупреждает пользователя при попытке 
уничтожить буфер <b>ed</b> с помощью команд <b>e</b> или <b>q</b>. Он выдает <b>?</b> и позволяет 
продолжить редактирование. Повторная команда <b>e</b> или <b>q</b> после этого будет 
выполнена. Опция командной строки <b>-s</b> подавляет эту возможность.</p>

<h3>&nbsp;&nbsp;&nbsp;   Файлы</h3>

<dl>
<dt><b>$TMPDIR</b></dt>
<dd>
если эта переменная среды имеет не пустое значение, оно используется 
вместо <b>/var/tmp</b> в качестве имени каталога для хранения временного 
рабочего файла.</dd>
<dt><b>/var/tmp</b></dt>
<dd>
если каталог <b>/var/tmp</b> существует, он используется в качестве каталога 
для хранения временного рабочего файла.</dd>
<dt><b>/tmp</b></dt>
<dd>если переменная среды <b>TMPDIR</b> не существует или имеет пустое 
значение и если не существует каталог <b>/var/tmp</b>, то каталог <b>/tmp</b> 
используется для хранения временного рабочего файла.</dd>
<dt><b>ed.hup</b></dt>
<dd>
в этом файле сохраняются результаты редактирования, если отключается 
терминал.</dd>
<dt><b>/usr/lib/locale/локаль/LC_MESSAGES/uxcore.abi</b></dt>
<dd>
файл сообщений для текущего языка (См. <b>LANG</b> в <a href="/man.shtml?topic=environ&amp;category=5"><b>environ(5)</b></a>.)</dd>
</dl>

<h2>ССЫЛКИ</h2>
<dl><dt></dt><dd>
	<a href="/man.shtml?topic=edit&amp;category=1"><b>edit(1)</b></a>, 
	<a href="/man.shtml?topic=ex&amp;category=1"><b>ex(1)</b></a>, 
	<a href="/man.shtml?topic=fspec&amp;category=4"><b>fspec(4)</b></a>, 
	<a href="/man.shtml?topic=grep&amp;category=1"><b>grep(1)</b></a>, 
	<a href="/man.shtml?topic=regexp&amp;category=5"><b>regexp(5)</b></a>, 
	<a href="/man.shtml?topic=sed&amp;category=1"><b>sed(1)</b></a>, 
	<a href="/man.shtml?topic=sh&amp;category=1"><b>sh(1)</b></a>, 
	<a href="/man.shtml?topic=stty&amp;category=1"><b>stty(1)</b></a>, 
	<a href="/man.shtml?topic=umask&amp;category=1"><b>umask(1)</b></a>, 
	<a href="/man.shtml?topic=vi&amp;category=1"><b>vi(1)</b></a>
</dd></dl>

<h2><a name="notes">ПРИМЕЧАНИЯ</a></h2>
<p>
Опция <b>-</b>, хотя и продолжает поддерживаться, заменена в документации опцией 
<b>-s</b>, соответствующей стандарту синтаксиса команд (Command Syntax Standard - 
см. <a href="/man.shtml?topic=intro&amp;category=1"><b>intro(1)</b></a>).</p>

<p>Опции и команды шифрования поставляются в пакете утилит шифрования 
(Encryption Utilities), который доступен только в Соединенных Штатах.</p>

<p>Команда <a href="#!"><b>!</b></a> не может использоваться в глобальных командах <b>g</b> и <b>v</b>.</p>

<p>Команду <b>!</b> и <b>!</b> в качестве имени файла в командах 
<a href="#e"><b>e</b></a>, <a href="#r"><b>r</b></a> и 
<a href="#r"><b>w</b></a> нельзя использовать, 
если редактор вызван из ограниченного командного интерпретатора 
(см. <a href="/man.shtml?topic=sh&amp;category=1"><b>sh(1)</b></a>).</p>

<p>Последовательность <b>\n</b> в регулярных выражениях не сопоставляется с символом 
новой строки.</p>

<p>Если входной поток редактора получается из командной строки (например, <br><b>ed 
файл &lt; файл_команд_ed</b>), при первой же ошибке происходит выход из 
редактора.</p>

<p>На работу <b>ed</b> влияют следующие переменные среды: <b>LANG</b>, <b>LC_ALL</b>, 
<b>LC_CTYPE</b>, <b>LC_MESSAGES</b>, <b>LC_TIME</b>, <b>TZ</b> 
(см. <b>LANG</b> в <a href="/man.shtml?topic=environ&amp;category=5"><b>environ(5)</b></a>).</p>

<p align="center"><font size="-2">Copyright 1994 Novell, Inc.<br>
Copyright 2000 <a href="mailto:valera@openxs.kiev.ua">В. Кравчук</a>,
<a href="http://ln.com.ua/~openxs">OpenXS Initiative</a>, перевод на русский язык
</font></p> 

<br>
<form method="get" action="/search.shtml">
<font size="-1">
<font color="#555555">Поиск по тексту MAN-ов:&nbsp;</font><input size="30" name="words" value="ed" type="text">
<input name="restrict" value="/man" type="hidden">
<input value="Найти" type="submit">
</font>
<input name="method" value="and" type="hidden">
<input name="format" value="builtin-long" type="hidden">
<input name="sort" value="score" type="hidden">
</form>
<br>
<!--htdig_noindex-->
<noindex>
<br>


</noindex>
<!--/htdig_noindex-->


<!-- footer -->
<!--htdig_noindex-->
<br><br>
<div style="background-color: #E9EAD6; width:100%; height: 61px;">
<div style="margin-right: 20px; float:left; line-height: 61px; vertical-align: middle; margin-left: 10px; font-size: 120%;">
Спонсоры:
</div>
<div style="float:left; height: 60px;  line-height: 60px; margin-left: 20px;">
<a style="align: middle;" target="_blank" href="https://inferno.name/"><img src="/img/inferno2.png" alt="Inferno Solutions" height="57" width="200"></a>
</div>
<div style="float:right; height: 60px;  line-height: 60px;  margin-left: 15px;">
<a style="align: middle;" target="_blank" href="http://hoster.ru/?utm_source=site&amp;utm_medium=banner&amp;utm_campaign=opennet"><img src="/img/dh143x60t.png" alt="Hosting by Hoster.ru" height="60" width="143"></a>
</div>
<div style="float:right;  height: 60px;  line-height: 60px; vertical-align: middle;font-size: 120%;">
Хостинг:
</div>

</div>

<div style="clear: both;"></div>


<br>
<table class="ttxt" style="border-top: 3px solid #C9CaB6;">
<tbody><tr><td width="35%">
<a href="/cgi-bin/opennet/bookmark.cgi">Закладки на сайте</a><br>
<a href="/cgi-bin/opennet/bookmark.cgi?submit=add" target="blank_">Проследить за страницей</a>
</td>
<td align="RIGHT" width="65%">
Created&nbsp;1996-2021&nbsp;by <b><a href="/contact.shtml" title="email maxim.chirkov@gmail.com">Maxim&nbsp;Chirkov</a></b><br>
<a href="https://www.opennet.ru/add.shtml">Добавить</a>, <a href="https://www.opennet.ru/donate.shtml" style="color: #C00000;">Поддержать</a>, <a href="https://www.opennet.ru/banners2.shtml">Вебмастеру</a>
</td>
</tr>
</tbody></table>
<br><br>


<!--/htdig_noindex-->
<!-- end of footer -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-123449-1', 'auto');
    ga('send', 'pageview');
</script>




</body>
<!---------------------------------------------  0  ---------------------------------------------->
