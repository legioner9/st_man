
<!--+++++++++++++++++++++++++++++++++++++++++++  0  +++++++++++++++++++++++++++++++++++++++++++--->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Проект OpenNet: MAN mc (1) Команды и прикладные программы пользовательского уровня (FreeBSD и Linux)</title><meta name="KeyWords" content="man, manual, MAN, системное руководство, linux, FreeBSD, OpenBSD, Solaris, ядро, программы, системный вызов, mc"><meta name="viewport" content="width=device-width, initial-scale=1"></head>


<body link="#0000FF" vlink="#000080" text="#000000" bgcolor="#E3E4D0" alink="#FF00FF">
<link rel="stylesheet" href="/opennet4.css" type="text/css">
<!--htdig_noindex-->
<form method="get" action="https://www.opennet.ru/search.shtml">
<aside>
<div style="width: 100%; text-align: right; font-size: 70%; background: #E9EAD6; margin-bottom:-10px;">
Профиль: <b><a href="/~" rel="nofollow" title="/~ - сводная страница участника"><u>Аноним</u></a></b> (<a href="https://www.opennet.ru/cgi-bin/openforum/vsluhboard.cgi?az=login">вход</a> | <a href="https://www.opennet.ru/cgi-bin/openforum/vsluhboard.cgi?az=user_register">регистрация</a>)</div>

<table cellspacing="0" cellpadding="0" width="100%" border="0">
<tbody><tr>
<td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left" valign="BOTTOM" bgcolor="#E9EAD6" width="300">
<a href="https://www.opennet.ru/"><img src="/opennet2.gif" alt="The OpenNET Project" height="60" width="249" border="0"></a><br>
</td>
<td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left" bgcolor="#E9EAD6" align="CENTER" width="100">

</td><td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left;padding-bottom:10px;" bgcolor="#E9EAD6" align="CENTER" width="50%">
<table width="100%" border="0">
<tbody><tr>
<td width="22%">
 <a href="https://www.opennet.ru/opennews/" class="h"><b>НОВОСТИ</b></a> (<a href="https://www.opennet.ru/news/opennet.shtml" class="h">+</a>)
</td><td width="18%%">
  <a href="https://www.opennet.ru/mp/" class="h"><b>КОНТЕНТ</b></a>
</td><td width="14%">
  <a href="http://wiki.opennet.ru" class="h"><b>WIKI</b></a>
</td><td width="14%">
   <a href="https://www.opennet.ru/man.shtml" class="h"><b>MAN'ы</b></a>
</td><td width="16%">
   <a href="https://www.opennet.ru/forum/" class="h"><b>ФОРУМ</b></a>
</td><td width="16%">
<a href="https://www.opennet.ru/search.shtml" class="h" onmouseover="document.getElementById('form12').style.display='block';">Поиск</a>&nbsp;(<a href="https://www.opennet.ru/keywords/" class="h">теги</a>)
<input id="form12" style="display: none;" size="10" name="words" value="" title="для поиска в google наберите &quot;g фраза&quot;" type="text">
</td></tr>
</tbody></table>

</td><td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left;padding-bottom:5px;" bgcolor="#E9EAD6" align="right" width="20%">

<a href="https://www.opennet.ru/opennews/opennews_all_utf.rss"><img src="/img/rss.png" alt="RSS" title="RSS" height="16" width="16" border="0"></a>&nbsp;<a href="https://twitter.com/opennetru"><img src="/twitter.png" alt="twitter" title="Twitter" height="16" width="16" border="0"></a>&nbsp;<a href="https://vk.com/opennet"><img src="/img/vkontakte.gif" title="ВКонтакте" height="16" width="16" border="0"></a>&nbsp;<a href="https://zen.yandex.ru/opennet"><img src="/img/zen.gif" title="Yandex Zen" height="16" width="16" border="0"></a>&nbsp;<a href="https://www.facebook.com/OpenNet.News/"><img src="/img/facebook.gif" title="Facebook" height="16" width="16" border="0"></a>&nbsp;<a href="https://telegram.space/opennet_ru"><img src="/img/telegram2.png" title="Telegram" height="16" width="16" border="0"></a>
</td></tr></tbody></table>
</aside>

<style>
    .hdr_mobile {
	text-align: center; 
	display: none;
	margin: 0px;
	padding: 0px;
    }
</style>
<div class="hdr_mobile">
<div style="margin-left: auto; margin-right: auto; width: 100%; height: 70px; border:1px solid #b0b190; min-width: 360px; max-width: 600px; background: #E9EAD6 url('/back.gif') repeat-x bottom left;">
<div style="float:left; width: 249px; height: 60px; margin-top: 10px;">
<a href="https://www.opennet.ru"><img src="/opennet2_lite.gif" style="height: 60px; width: 249px; border: 1px;" alt="The OpenNET Project / Index page"></a>
</div>
<div style="float: left; text-align: center; height: 70px; width: 331px; padding: 5px; margin-left: 10px;">
<br><small>[ <a href="/opennews/">новости</a>&nbsp;/<a href="/opennews/?full_lines=15&amp;lines=15&amp;mid_lines=00">+++</a> | <a href="/forum/">форум</a> | <a href="http://wiki.opennet.ru">wiki</a> | <a href="/keywords/">теги</a>
| <a href="tg://resolve?domain=opennet_ru"><img src="/img/telegram2.png" title="Telegram" style="margin-bottom: -4px;" height="16" width="16" border="0"></a>
]</small>
</div>
</div>
</div>
<div style="clear: both;"></div>


<div style="float: left; width: 279; text-align: left;padding-right: 60px;" id="adv">
</div>
<div style="padding-top: 0px;position:absolute;left:50%;margin-left:-235px;width:470px;" id="adv2">
</div>
<div style="width: 279;float: right;" id="adv3">
</div>
<div style="clear: both;"></div>
<br>
</form>
<!--/htdig_noindex-->

<center><h3><font color="#000088">Интерактивная система просмотра системных руководств (man-ов)</font></h3></center>
<form method="GET" action="/man.shtml"> 
<table cellspacing="0" cellpadding="1" bgcolor="#B0B190" align="center" width="600" border="0">
<tbody><tr>
<td valign="TOP">

<table cellspacing="0" cellpadding="0" bgcolor="#E9EAD6" align="center" width="100%" border="0">
<tbody><tr><td>&nbsp;<font color="#555555">Тема</font></td><td><font color="#555555">Набор</font></td><td><font color="#555555">Категория</font></td><td>&nbsp;</td></tr>
<tr><td>

&nbsp;<input size="20" name="topic" value="mc" type="text"></td><td><select name="russian">
<option value="4">Solaris man
</option><option value="1">FreeBSD man
</option><option value="3">Разные man
</option><option value="0" selected="">Русские man
</option><option value="2">Linux man
</option><option value="5">POSIX man
</option></select></td>
<td><select size="1" name="category">
	  <option value="" selected="">All
	  </option><option value="1">1
	  </option><option value="2">2
	  </option><option value="3">3
	  </option><option value="4">4
	  </option><option value="5">5
	  </option><option value="6">6
	  </option><option value="7">7
	  </option><option value="8">8
	  </option><option value="9">9
</option></select></td>

<td><input name="submit" value="Показать man" type="submit"></td></tr>
<script async="" src="https://www.google-analytics.com/analytics.js"></script><script language="JavaScript" src="/print.js"></script>
<tr><td colspan="4" align="left">&nbsp;[<a href="/man.shtml">Cписок руководств</a> | <a href="#" onclick="pr('none');">Печать</a>]</td></tr>
</tbody></table>
</td></tr></tbody></table>
</form>
<h3></h3><font size="+2">mc (1)</font><hr><li> <a href="/man.shtml?topic=mc&amp;category=1&amp;russian=4"><u>mc</u></a> (1) <font color="#555555"> ( Solaris man: Команды и прикладные программы пользовательского уровня )</font></li><li>&gt;&gt; <a href="/man.shtml?topic=mc&amp;category=1&amp;russian=0"><u>mc</u></a> (1) <font color="#555555"> ( Русские man: Команды и прикладные программы пользовательского уровня )</font></li><li> <a href="/man.shtml?topic=mc&amp;category=1&amp;russian=2"><u>mc</u></a> (1) <font color="#555555"> ( Linux man: Команды и прикладные программы пользовательского уровня )</font></li><li><font color="#555555">Ключ <a href="/keywords/mc.html"><u>mc</u></a> обнаружен в базе ключевых слов.</font></li>

<a name="lbAB">&nbsp;</a>
<h2>НАИМЕНОВАНИЕ</h2>

mc - Визуальная оболочка для Unix-подобных систем.

<a name="lbAC">&nbsp;</a>
<h2>СИНТАКСИС</h2>

<b>mc</b>

[-abcCdfhPstuUVx] [-l log] [dir1 [dir2]] [-v file] [-e [файл]]

<a name="lbAD">&nbsp;</a>
<h2>ОПИСАНИЕ</h2>

Что такое Midnight Commander
<p>

Midnight Commander - это программа, предназначенная для просмотра
содержимого каталогов и выполнения основных функций управления файлами в
UNIX-подобных операционных системах.


<a name="lbAE">&nbsp;</a>
</p><h2>КЛЮЧИ</h2>

Ключи запуска программы Midnight Commander
<dl compact="">
<dt><i>-a</i>

</dt><dd>
Отключить использование графических символов для рисования линий.
</dd><dt><i>-b</i>

</dt><dd>
Запуск программы в черно-белом режиме экрана.
</dd><dt><i>-c</i>

</dt><dd>
Включает цветной режим дисплея. Для получения более подробной информации
смотрите раздел

Цвета.

</dd><dt><i>-C arg</i>

</dt><dd>
Используется для того, чтобы задать другой набор цветов в командной
строке. Формат аргумента arg описан в разделе

Цвета.

</dd><dt><i>-d</i>

</dt><dd>
Отключает поддержку мыши.
</dd><dt><i>-D N</i>

</dt><dd>
Используется только если код был скомпилирован с поддержкой

виртуальной файловой системы smbfs

для установки уровня отладочных сообщений smbfs в N (0-10).
</dd><dt><i>-e [файл]</i>

</dt><dd>
Запустить встроенный редактор.  Если параметр файл задан, этот файл
будет открыт при старте.  Смотрите также
<b><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=mcedit&amp;category=1">mcedit</a>(1)</b>.

</dd><dt><i>-f</i>

</dt><dd>
Выводит на экран определенный в процессе компиляции программы путь к
файлам программы Midnight Commander.
</dd><dt><i>-k</i>

</dt><dd>
Восстанавливает значения команд, назначенных функциональным клавишам в
предусмотренные по умолчанию значения, используя базу данных
termcap/terminfo. Этот ключ используется только на терминалах HP, где
функциональные клавиши не работают.
</dd><dt><i>-l файл</i>

</dt><dd>
Сохранить диалог с ftp-сервером, а также отладочную информацию smbfs в
файл file.
</dd><dt><i>-P файл</i>

</dt><dd>
По окончании работы Midnight Commander запишет последний текущий каталог
в указанный файл.  Эту опцию не следует использовать напрямую.  Она
используется специальной функцией оболочки, которая меняет текущий
каталог оболочки на последний каталог, использованный Midnight
Commander.
</dd><dt></dt><dd>
Для того чтобы эта функция была определена, используйте файл
<b>/usr/share/mc/bin/mc.sh</b>

для оболочек bash и zsh, а для оболочки tcsh соответственно файл
<b>/usr/share/mc/bin/mc.csh</b>

</dd><dt><i>-s</i>

</dt><dd>
Включает медленный режим терминала, в котором программа выводит меньше
псевдографических символов (в том числе в меню и экранах помощи) и
отключается вывод дополнительных (избыточных) сообщений.
</dd><dt><i>-t</i>

</dt><dd>
Используется только в том случае, когда код был скомпилирован со Slang и
terminfo: в этом случае Midnight Commander использует значение
переменной
<b>TERMCAP</b>

для получения информации о терминале вместо использования системной базы
терминалов.
</dd><dt><i>-u</i>

</dt><dd>
Отключает использование альтернативных оболочек shell (имеет смысл
только в том случае, когда Midnight Commander был скомпилирован с
поддержкой альтернативной оболочки).
</dd><dt><i>-U</i>

</dt><dd>
Делает возможным использование subshell (имеет смысл только в том
случае, когда Midnight Commander был скомпилирован с поддержкой subshell
как опции).
</dd><dt><i>-v file</i>

</dt><dd>
Запустить встроенную программу просмотра Midnight Commander-а для
просмотра указанного файла. После выхода из режима просмотра вы выходите
из Midnight Commander и оказываетесь в shell.
</dd><dt><i>-V</i>

</dt><dd>
Отображает версию программы.
</dd><dt><i>-x</i>

</dt><dd>
Запускает программу в режиме xterm. Используется только на терминалах,
работающих в режиме xterm (два режима работы экрана и возможность
формировать экранирующие последовательности с помощью мыши) (two screen
modes, and able to send mouse escape sequences).
</dd></dl>
<p>

Первое путевое имя (path name) в командной строке (если указано) задает
каталог, который будет отображаться в активной панели; второй путь -
каталог, отображаемый во второй панели.

<a name="lbAF">&nbsp;</a>
</p><h2>Главное окно программы</h2>

Главное окно программы Midnight Commander состоит из трех полей. Два
поля, называемые "панелями", идентичны по структуре и обычно отображают
перечни файлов и подкаталогов каких-то двух каталогов файловой
структуры. Эти каталоги в общем случае различны, хотя, в частности,
могут и совпасть. Каждая панель состоит из заголовка, списка файлов и
информационной строки.
<p>

Третье поле экрана, расположенное в нижней части экрана, содержит
командную строку текущей оболочки. В этом же поле (самая нижняя строка
экрана) содержится подсказка по использованию функциональных клавиш F1 -
F10. Самая верхняя строка экрана содержит строку

горизонтального меню.

Эта строка может не отображаться на экране; в этом случае доступ к ней
можно получить, щелкнув мышью по верхней рамке или нажав клавишу F9.
</p><p>

Панели Midnight Commander обеспечивают просмотр одновременно двух
каталогов. Одна из панелей является активной в том смысле, что
пользователь может выполнять некоторые операции с отображаемыми в этой
панели файлами и каталогами. В активной панели подсвечено имя одного из
каталогов или файлов, а также выделен цветом заголовок панели в верхней
строке. Этот заголовок совпадает с именем отображаемого в данной панели
каталога, который является текущим каталогом той оболочки, из которой
запущена программа. Вторая панель - пассивна. Почти все операции
выполняются в активной панели, то есть в соответствующем (текущем)
каталоге. Некоторые операции (типа копирования или переноса файлов) по
умолчанию используют каталог, отображаемый в пассивной панели, как место
назначения операции. Более подробное описание панелей дано в подразделе

<i>Панели каталогов</i>


раздела

<i>Меню левой и правой панелей</i>


и в разделе

<i>Меню Файл</i>


</p><p>

Вы можете выполнить любую команду операционной системы или запустить на
исполнение любую программу непосредственно из программы Midnight
Commander, просто набрав имя этой команды (программы) в командной строке
и нажав клавишу Enter. Прочитайте разделы

<i>Командная строка оболочки</i>


и

<i>Редактирование строк ввода</i>


для того, чтобы узнать больше о командной строке.

<a name="lbAG">&nbsp;</a>
</p><h2>Поддержка мыши</h2>

Программа Midnight Commander обеспечивает поддержку мыши. Это свойство
обеспечивается независимо от того, откуда запущен терминал
<b><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=xterm&amp;category=1">xterm</a>(1)</b>

(даже если xterm запущен на удаленном компьютере, используя
соединение через telnet, ssh или rlogin) или если вы работаете за
консолью Linux и запущена программа управления мышью
<b>gpm</b>.

<p>

Если вы щелкаете мышью на имени файла в одной из панелей, файл
выбирается (подсветка перемещается на это имя); если вы щелкнете правой
кнопкой мыши, файл отмечается (или отметка с файла снимается, в
зависимости от предыдущего состояния).
</p><p>

Двойной щелчок мыши на имени файла означает попытку запустить файл на
исполнение (если это исполняемая программа); либо, если

файл расширений

содержит программу, ассоциированную с данным расширением, запускается
эта программа и ей передается на обработку выбранный файл.
</p><p>

Точно также можно выполнить команду, ассоциированную с любой
функциональной клавишей, щелкнув по соответствующей экранной кнопке в
самой нижней строке экрана.
</p><p>

Если щелкнуть мышью по верхней рамке панели, отображающей очень длинный
список файлов, происходит перемещение списка на одну колонку назад.
Щелчок по нижней рамке панели приводит, соответственно, к перемещению по
списку на целую колонку вперед. Этот метод перемещения работает также
при просмотре

встроенной подсказки

и просмотре окна

Дерево каталогов.

</p><p>

По умолчанию скорость эмуляции повторных нажатий на клавишу в случае ее
удержания (auto repeat rate) составляет 400 миллисекунд. Это значение
можно изменить путем изменения параметра
<i>mouse_repeat_rate</i>

в файле

~/.mc/ini

</p><p>

Если Commander запущен с поддержкой мыши, вы можете обойти Commander и
добиться того, что мышь будет вести себя так же, как она ведет себя по
умолчанию (обеспечивая вырезание и вставку текста), если будете
удерживать клавишу Shift.
<a name="lbAH">&nbsp;</a>
</p><h2></h2>


<a name="lbAI">&nbsp;</a>
<h2>Клавиатурные команды</h2>

Некоторые команды в Midnight Commander вызываются с использованием
клавиш
<i>Control</i>

(иногда обозначается как CTRL или CTL) и
<i>Meta</i>

(иногда обозначается ALT или даже Compose). В настоящем руководстве
будут использоваться следующие сокращения:
<p>

C-&lt;символ&gt; означает, что нужно нажать и удерживать клавишу Control и в
это время нажать клавишу &lt;символ&gt;. Так C-f будет означать: нажмите
Control и, удерживая ее, нажмите (коротким щелчком) клавишу f.
</p><p>

Аналогично M-&lt;символ&gt; означает, что надо удерживать в нажатом состоянии
клавишу Meta или Alt во время удара по клавише &lt;символ&gt;. Если на
клавиатуре нет клавиш Meta и Alt, нажмите ESC, отпустите ее, а потом
щелкните по клавише &lt;символ&gt;.
</p><p>

S-&lt;символ&gt; означает, что нужно держать в нажатом состоянии клавишу Shift
во время удара по клавише &lt;символ&gt;.
</p><p>

Все строки ввода в Midnight Commander поддерживают соглашения об
использовании "горячих" клавиш, принятые в редакторе GNU Emacs.
</p><p>

Описания клавиатурных команд даются в нескольких разделах помощи.
Наиболее важными являются следующие разделы:
</p><p>

В разделе

<i>Меню Файл</i>


приведены комбинации клавиш, которые служат для вызова команд,
перечисленных в меню "Файл". В этом же разделе перечислены команды,
ассоциированные с функциональными клавишами. Большинство из этих команд
выполняют действия над подсвеченным файлом или группой отмеченных
файлов.
</p><p>

В секции

<i>Панели каталогов</i>


рассказано о клавишах, которые используются для выбора файла или группы
файлов как объектов некоторого последующего действия (обычно действия из
меню "Файл").
</p><p>

В разделе

<i>Командная строка оболочки (Shell)</i>


перечисляются команды и комбинации клавиш, которые используются для
ввода и редактирования команд в командной строке оболочки. Большая часть
этих команд служит для переноса имен файлов и/или имен каталогов в
командную строку (чтобы уменьшить трудоемкость ввода) или для доступа к
истории команд.
</p><p>

Клавиши

редактирования строк ввода

используются как при редактировании командной строки, так и других строк
ввода, появляющихся в различных запросах программы.

<a name="lbAJ">&nbsp;</a>
</p><h2>  Разные команды</h2>

Имеется несколько действий, ассоциированных с некоторыми комбинациями
клавиш, которые не попадают ни в одну из других категорий:
<p>

<b>Enter</b>.

Если в командной строке (в нижней части экрана) набрано имя какой-либо
команды, запускается соответствующая программа (если команды не
существует, выдается соответствующее сообщение). Если в командной строке
нет никакого текста, и если на активной панели подсвечено имя каталога,
то Midnight Commander выполняет переход
<b><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=chdir&amp;category=2">chdir</a>(2)</b>

в выбранный каталог и отображает его содержимое в этой панели; если
подсвечен исполняемый файл, то он запускается на выполнение. Наконец,
если расширение подсвеченного в активной панели файла совпадает с одним
из расширений, указанных в

файле расширений,

то выполняется команда, связанная с этим расширением.
</p><dl compact="">
<dt><b>C-l.</b>

</dt><dd>
Обновляет всю информацию, отображаемую программой Midnight Commander.
</dd><dt><b>C-x c.</b>

</dt><dd>
Запускает команду

Chmod

для подсвеченного файла или группы отмеченных файлов.
</dd><dt><b>C-x o.</b>

</dt><dd>
Запускает команду

Chown

для подсвеченного файла или группы отмеченных файлов.
</dd><dt><b>C-x l.</b>

</dt><dd>
Запускает команду создания жесткой ссылки.
</dd><dt><b>C-x s.</b>

</dt><dd>
Запускает команду создания символической ссылки.
</dd><dt><b>C-x i.</b>

</dt><dd>
Переводит пассивную панель в режим "Информация".
</dd><dt><b>C-x q.</b>

</dt><dd>
Переводит пассивную панель в режим быстрого просмотра.
</dd><dt><b>C-x !.</b>

</dt><dd>
Выполняется пункт меню

"Критерий панелизации".

</dd><dt><b>C-x h</b>

</dt><dd>
Добавить имя каталога в

"Справочник каталогов".

</dd><dt><b>M-!,</b>

</dt><dd>
Выполняет пункт меню "Просмотр вывода команды", который описан подробнее
в разделе

"Меню "Файл".

</dd><dt><b>M-?,</b>

</dt><dd>
Вызов диалогового окна

"Поиск файла".

</dd><dt><b>M-c,</b>

</dt><dd>
Вызов диалогового окна

"Быстрая смена каталога".

</dd><dt><b>C-o,</b>

</dt><dd>
Если Midnight Commander запущен в консоли Linux или FreeBSD, или через
xterm, вам будет показан вывод предыдущей команды. При этом на
Linux-консоли Midnight Commander использует встроенную программу
(cons.saver) для сохранения выводимой информации и демонстрации ее на
экране.
</dd></dl>
<p>

Если Midnight Commander скомпилирован с поддержкой подоболочки
(subshell), вы можете в процессе выполнения приложения из-под Midnight
Commander в любой момент набрать C-o и вернуться к главному экрану
Midnight Commander-а. Для возврата к вашему приложению достаточно снова
набрать C-o. Если вы застопорите выполнение приложения, использовав этот
прием, вы не сможете запустить других программ из Midnight Commander
пока отложенное приложение не закончит работу, либо пока вы не прервете
его выполнение.

<a name="lbAK">&nbsp;</a>
</p><h2>  Панели каталогов</h2>

В настоящем разделе перечисляются команды, которые позволяют оперировать
с содержимым панелей. Если вы хотите узнать, как изменить вид панели или
способ представления информации на панели, смотрите раздел

Меню левой и правой панелей.

<p>

<b>Tab, C-i.</b>

Сменить текущую (активную) панель. Подсветка перемещается с панели,
которая была активной ранее, в другую панель, которая становится
активной.
</p><p>

<b>Insert, C-t.</b>

Чтобы отметить файл, на который указывает в данный момент подсветка,
используйте клавишу Insert (the kich1 terminfo sequence) или комбинацию
C-t (Control-t). Для снятия отметки с файла используются те же
комбинации.
</p><p>

<b>M-g, M-r, M-j.</b>

Используются для перемещения подсветки, соответственно, на самый
верхний, средний или нижний файл из числа отображаемых в данный момент
на панели.
</p><p>

<b>C-s, M-s.</b>

Инициирует режим поиска имен файлов в текущем каталоге по первым
символам имени. После нажатия одной из этих комбинаций, вводимые символы
отображаются не в командной строке, а в строке поиска. Если режим
<i>Показ мини-статуса</i>

включен, эта строка отображается на месте строки мини-статуса. В
процессе ввода последующих символов линия подсветки перемещается к
следующему файлу, название которого начинается с введенной строки
символов. Клавиши
<i>backspace</i>

или
<i>DEL</i>

могут использоваться для исправления ошибок. Если C-s нажато снова,
осуществляется поиск следующего подходящего файла.
</p><p>

<b>M-t</b>

Циклически переключает режимы отображения списка файлов текущего
каталога. С помощью этой комбинации клавиш можно быстро переключаться из
режима стандартного вывода (long listing) к сокращенному или к режиму,
определяемому пользователем.
</p><p>

<b>C-\\ (control-backslash).</b>

Показать

Справочник каталогов

и перейти к выбранному каталогу.
</p><p>

<b>+ &nbsp;(plus).</b>

Эта клавиша используется для того, чтобы выбрать (отметить) группу
файлов по регулярному выражению, задающему эту группу. Когда включена
опция
<i>Образцы в стиле shell (Shell Patterns)</i>,

регулярные выражения вполне подобны регулярным выражениям оболочки (*
заменяет ноль или большее число символов, а ? заменяет один символ).
Если опция
<i>Образцы в стиле shell</i>

отключена, то отметка на файлы ставится в соответствии с нормальными
регулярными выражениями (смотрите ed (1)).
</p><p>

Если выражения начинаются или оканчиваются слэшем (/), то пометка будет
ставиться на каталоги, а не на файлы.
</p><p>

<b>\\ (backslash).</b>

Клавиша "\" снимает отметку с группы файлов, то есть производит
действие, обратное тому, которое вызывается по клавише "+".
</p><p>

<b>up-key, C-p.</b>

Перемещает подсветку на предыдущую позицию в списке файлов панели.
</p><p>

<b>down-key, C-n.</b>

Перемещает подсветку на следующую позицию в списке файлов панели.
</p><p>

<b>home, a1, M-&lt;.</b>

Перемещает подсветку на первую позицию списка файлов.
</p><p>

<b>end, c1, M-&gt;.</b>

Перемещает подсветку на последнюю позицию списка файлов.
</p><p>

<b>next-page, C-v.</b>

Перемещает подсветку на одну страницу вниз.
</p><p>

<b>prev-page, M-v.</b>

Перемещает подсветку на одну страницу вверх.
</p><p>

<b>M-o,</b>

Сделать текущий каталог активной панели также текущим каталогом
неактивной панели.  Если необходимо, перевести неактивную панель в режим
отображения списка файлов.  Если активная панель находится в режиме
панелизации, неактивная панель не переводится в этот режим.
</p><p>

<b>C-PageUp, C-PageDown</b>

Только если mc запущен с консоли Linux: выполняется, соответственно,
переход (chdir) к родительскому каталогу ("..") или к выделенному
подсветкой каталогу.
</p><p>

<b>M-y</b>

Перемещение к предыдущему каталогу из истории перемещения по каталогам;
эквивалентно нажатию мышкой на символ '&lt;' в верхнем углу панели.
</p><p>

<b>M-u</b>

Перемещение к следующему каталогу из истории перемещения по каталогам;
эквивалентно нажатию мышкой на символ '&gt;'.
</p><p>

<b>M-S-h, M-H</b>

Отображает историю перемещения по каталогам; эквивалентно нажатию мышкой
на символ 'v' в верхнем углу панели.

<a name="lbAL">&nbsp;</a>
</p><h2>  Командная строка оболочки</h2>

В этом разделе перечислены команды, которые позволяют сократить число
нажатий на клавиши во время ввода и редактирования команд в командной
строке.
<p>

<b>M-Enter</b>.

Копирует подсвеченное имя файла или каталога в командную строку.
</p><p>

<b>C-Enter</b>.

То же самое, что M-Enter, но работает только на консоли Linux.
</p><p>

<b>M-Tab</b>.

Пытается выполнить операцию

Завершение ввода (completion)

имени файла, названия команды, переменной, имени пользователя или имени
машины (в зависимости от того, что вы начали набирать и какой элемент
команды вводите).
</p><p>

<b>C-x t, C-x C-t.</b>

Копирует в командную строку имена помеченных файлов (или подсвеченное
имя, если нет помеченных) из активной панели (C-x t) или пассивной
панели (C-x C-T).
</p><p>

<b>C-x p, C-x C-p.</b>

Первая комбинация клавиш копирует в командную строку имя текущего
каталога, а вторая - имя каталога, отображаемого в пассивной панели.
</p><p>

<b>C-q</b>.

Эта команда (the quote command) используется для того, чтобы вставить
символы, которые каким-то образом интерпретируются самим Midnight
Commander-ом (например, символ '+').
</p><p>

<b>M-p, M-n.</b>

Эти комбинации используются для перемещения по истории команд. M-p
вызывает перемещение на команду назад по списку ранее запускавшихся
команд, а M-n - перемещение на одну команду вперед.
</p><p>

<b>M-h</b>.

Выводит историю текущей строки ввода (для командной строки - историю
команд).

<a name="lbAM">&nbsp;</a>
</p><h2>  Клавиши управления перемещением</h2>

Встроенная программа просмотра файлов, программа просмотра подсказки и
программа просмотра каталогов используют один и тот же программный код
для управления перемещением. Следовательно, для перемещения используются
одни и те же комбинации клавиш. Но в каждой подпрограмме имеются и
комбинации, применяющиеся только в ней.
<p>

Другие части Midnight Commander-а тоже используют некоторые из
комбинаций клавиш управления перемещением, так что настоящая секция
руководства может быть также полезна при изучении этих частей.
</p><p>

<b>Up, C-p.</b>

Перемещение на одну строку назад или вверх
</p><p>

<b>Down, C-n.</b>

Перемещение на одну строку вперед
</p><p>

<b>Prev Page, Page Up, M-v.</b>

Перемещение на одну страницу назад
</p><p>

<b>Next Page, Page Down, C-v.</b>

Перемещение на одну страницу вперед
</p><p>

<b>Home, A1.</b>

Перемещение к началу.
</p><p>

<b>End, C1.</b>

Перемещение к концу.
</p><p>

Программы просмотра файлов и помощи воспринимают в дополнение к
перечисленным еще и следующие комбинации:
</p><p>

<b>b, C-b, C-h, Backspace, Delete.</b>

Перемещение на одну страницу назад
</p><p>

<b>Space bar.</b>

Перемещение на одну страницу вперед
</p><p>

<b>u, d.</b>

Перемещение на половину страницы назад или вперед.
</p><p>

<b>g, G.</b>

Перемещение к началу или к концу файла.

<a name="lbAN">&nbsp;</a>
</p><h2>  Редактирование строк ввода</h2>

Строки ввода (это не только

командная строка

оболочки, но и строки в диалоговых окнах различных подпрограмм)
воспринимают следующие управляющие комбинации:
<p>

<b>C-a.</b>

Перемещает курсор в началу строки.
</p><p>

<b>C-e.</b>

Перемещает курсор в конец строки.
</p><p>

<b>C-b, стрелка-влево.</b>

Перемещает курсор на одну позицию влево.
</p><p>

<b>C-f, стрелка-вправо.</b>

Перемещает курсор на одну позицию вправо.
</p><p>

<b>M-f.</b>

Перемещает курсор на одно слово вперед.
</p><p>

<b>M-b.</b>

Перемещает курсор на одно слово назад.
</p><p>

<b>C-h, backspace.</b>

Удаляет символ, предшествующий курсору.
</p><p>

<b>C-d, Delete.</b>

Удаляет символ в позиции курсора.
</p><p>

<b>C-@.</b>

Устанавливает метку для того, чтобы вырезать (скопировать в буфер) часть
текста.
</p><p>

<b>C-w.</b>

Копирует текст, расположенный между курсором и меткой, в буфер, удаляя
текст из строки ввода.
</p><p>

<b>M-w.</b>

Копирует текст, расположенный между курсором и меткой,
в буфер.
</p><p>

<b>C-y.</b>

Вставляет содержимое буфера в строку ввода перед позицией курсора.
</p><p>

<b>C-k.</b>

Удаляет текст от курсора до конца строки.
</p><p>

<b>M-p, M-n.</b>

Эти комбинации используются для перемещения по истории команд. M-p
перемещает к предыдущей команде, M-n - к следующей.
</p><p>

<b>M-C-h, M-Backspace.</b>

Удалить предшествующее слово.
</p><p>

<b>M-Tab</b>.

Пытается выполнить

завершение ввода (completion)

имени файла, команды, переменной, имени пользователя или имени машины.

<a name="lbAO">&nbsp;</a>
</p><h2>Главное меню программы Midnight Commander</h2>

Строка главного меню появляется в верхней части экрана после нажатия
клавиши F9 или щелчка мыши по верхней рамке экрана. Меню состоит из пяти
пунктов: "Левая", "Файл", Команды", Настройки" и "Правая" (в английской
версии соответственно "Left", "File", "Command", "Options" и "Right").
При выборе одного из этих пунктов появляется соответствующее выпадающее
меню.
<p>

Пункты меню

"Левая" и "Правая"

позволяют изменить вид, соответственно, левой и правой панелей, и
характер отображаемой в панели информации, в частности, выполнить
соединения с удаленными компьютерами.
</p><p>

Меню

"Файл"

позволяет выполнить какие-то действия с выбранным файлом или группой
помеченных файлов.
</p><p>

Меню

"Команды"

перечисляет действия, которые имеют более общий характер и не относятся
только к выделенному в данный момент файлу или группе помеченных файлов.
</p><p>

Меню

"Настройки"

служит для задания ряда параметров, определяющих внешний вид и поведение
программы Midnight Commander. Один из пунктов этого меню служит для
сохранения настроек, заданных пользователем.

<a name="lbAP">&nbsp;</a>
</p><h2>Меню левой и правой панелей ('Левая' и 'Правая')</h2>

Вид панелей, в которых отображаются списки файлов и каталогов, может
быть изменен через пункты меню
<b>Левая (Left)</b>

и
<b>Правая (Right).</b>


<a name="lbAQ">&nbsp;</a>
<h2>    Формат списка...</h2>

Этот пункт меню предназначен для определения формата вывода списка
файлов в панели. Вы можете выбрать один из 4 вариантов представления
списка файлов:
<b>Стандартный (Full)</b>,

<b>Укороченный (Brief)</b>,

<b>Расширенный (Long)</b>

и
<b>Определяемый пользователем (User)</b>.

<p>

В стандартном формате отображаются имя файла, его размер и время
последней модификации.
</p><p>

В укороченном (brief) формате отображаются только имена файлов, за счет
чего на панели умещаются две колонки (и видно вдвое больше имен).
</p><p>

В расширенном (long) формате содержимое каталога представляется так, как
это делает команда
<b>ls -l</b>.

В этом формате панель занимает весь экран.
</p><p>

Если вы выберете формат "Определяемый пользователем" ("User"), вы должны
будете задать структуру отображаемой информации.
</p><p>

При задании структуры вначале указывается размер панели: "half"
(половина экрана) или "full" (весь экран).
</p><p>

После размера панели можно указать, что на панели должно быть две
колонки. Это делается добавлением цифры 2 в строку задания формата.
</p><p>

Далее надо перечислить имена полей с необязательным параметром ширины
поля. В качестве имен полей могут использоваться:
</p><dl compact="">
<dt><b>name</b>

</dt><dd>
отображать имя файла.
</dd><dt><b>size</b>

</dt><dd>
отображать размер файла.
</dd><dt><b>bsize</b>

</dt><dd>
отображать размер в альтернативной форме, при которой выводятся размеры
файлов, а для каталогов выводится только надпись "ПОД-КАТ" ("SUB-DIR")
или "ВВЕРХ" ("UP--DIR").
</dd><dt><b>type</b>

</dt><dd>
отображать односимвольное поле типа. Этот символ может принимать
значения из подмножества символов, выводимых командой
<b>ls -F</b>:

<b>*</b>

(asterisk) для исполняемых файлов,
<b>/</b>

(slash) для каталогов,
<b>@</b>

(at-sign) для ссылок (links),
<b>=</b>

(знак равенства) для сокетов (sockets),
<b>-</b>

дефис (hyphen) для байт-ориентированных устройств,
<b>+</b>

для блок-ориентированных устройств,
<b>|</b>

(pipe) для файлов типа FIFO,
<b>~</b>

(тильда) для символических ссылок на каталоги,
<b>!</b>

(восклицательный знак) для оборванных (stale) символических ссылок
(ссылок, указывающих в никуда).
</dd><dt><b>mark</b>

</dt><dd>
Звездочка (asterisk) если файл помечен, пробел - если не помечен.
</dd><dt><b>mtime</b>

</dt><dd>
время последней модификации файла.
</dd><dt><b>atime</b>

</dt><dd>
время последнего обращения к файлу.
</dd><dt><b>ctime</b>

</dt><dd>
время создания файла.
</dd><dt><b>perm</b>

</dt><dd>
строка, показывающая текущие права доступа к файлу.
</dd><dt><b>mode</b>

</dt><dd>
восьмеричное представление текущих прав доступа к файлу.
</dd><dt><b>nlink</b>

</dt><dd>
число ссылок на данный файл.
</dd><dt><b>ngid</b>

</dt><dd>
идентификатор группы (GID, в цифровой форме).
</dd><dt><b>nuid</b>

</dt><dd>
идентификатор пользователя (UID, в цифровой форме).
</dd><dt><b>owner</b>

</dt><dd>
владелец файла.
</dd><dt><b>group</b>

</dt><dd>
группа, имеющая права на файл.
</dd><dt><b>inode</b>

</dt><dd>
номер inode файла.
</dd></dl>
<p>

Вы также можете использовать следующие имена полей для организации
вывода информации на дисплей:
</p><dl compact="">
<dt><b>space</b>

</dt><dd>
Вставить пробел при выводе на дисплей.
</dd><dt><b>|</b>

</dt><dd>
Вставить вертикальную линию при выводе на дисплей.
</dd></dl>
<p>

Для того, чтобы задать фиксированную ширину поля, нужно добавить
двоеточие ':', после которого указать число позиций, которое отводится
под это поле. Если после числа поставить символ '+', то указанное число
будет интерпретироваться как минимальная ширина поля, и, если экран
позволяет, поле будет расширено.
</p><p>

Например,
<b>Стандартный</b>

формат вывода задается строкой:
</p><p>

half type name | size | mtime
</p><p>

а
<b>Расширенный</b>

- строкой:
</p><p>

full perm space nlink space owner space group space size space mtime
space name
</p><p>

А вот пример удобного формата, определяемого пользователем:
</p><p>

half name | size:7 | type mode:3
</p><p>

Помимо того, что может задаваться формат вывода на панель списка файлов,
любую панель можно перевести в один из следующих режимов:
</p><dl compact="">
<dt><b>Информация (Info)</b>

</dt><dd>
В этом режиме на панель выводится информация о подсвеченном в другой
панели файле и о текущей файловой системе (тип, свободное пространство и
число свободных inode).
</dd><dt><b>Дерево (Tree)</b>

</dt><dd>
Режим отображения дерева каталогов подобен тому, который вы увидите,
выбрав пункт

Дерево каталогов

из меню "Команды" ("Commands"). Смотрите соответствующий раздел.
</dd><dt><b>Быстрый просмотр (Quick View)</b>

</dt><dd>
В этом режиме панель переключается на отображение содержимого файла,
подсвеченного в другой панели. Для вывода используется встроенная

программа просмотра файлов,

так что, если переключиться клавишей Tab в панель просмотра, вы сможете
использовать все команды управления просмотром.

</dd></dl>
<a name="lbAR">&nbsp;</a>
<h2>Порядок сортировки...</h2>

Отображение списка файлов в любой из панелей может производиться в
соответствии с одним из восьми порядков сортировки:
<pre>- по имени;
- по расширению;
- по размеру файла;
- по времени модификации;
- по времени последнего обращения к файлу;
- по времени последнего изменения атрибутов файла;
- по номеру узла (inode);
- без сортировки.
</pre>

<p>

Порядок сортировки можно выбрать, вызвав диалоговое окно, в котором
кроме того можно указать, что сортировка производится в обратном
порядке (поставив с помощью клавиши пробела отметку в скобках возле
слова "Обратный (reverse)".
</p><p>

По умолчанию каталоги отображаются в начале списка, но это можно
изменить, проставив отметку возле опции
<b>Смешивать файлы и каталоги (Mix all files)</b>

пункта "Конфигурация" меню

"Настройки".


<a name="lbAS">&nbsp;</a>
</p><h2>    Фильтр...</h2>

Пункт меню "Фильтр" позволяет задать шаблон, которому должны
соответствовать имена файлов, отображаемых в панели (например,
<b>*.tar.gz</b>).

Имена каталогов и ссылки на каталоги отображаются всегда, независимо от
шаблона.

<a name="lbAT">&nbsp;</a>
<h2>    Перечитать (Reread)</h2>

Команда "Перечитать" обновляет список, отображаемый на панели. Это
бывает полезно в тех случаях, когда другие процессы создают или удаляют
файлы. Если вы выполнили пункт меню "Критерий панелизации"
(перенаправление вывода команды на панель), по этой команде будет снова
выведено содержимое каталога, а выведенная на панель информация удалена
(подробнее смотрите секцию

Критерий панелизации).


<a name="lbAU">&nbsp;</a>
<h2>  Файл</h2>

Программа Midnight Commander использует функциональные клавиши F1 - F10
как "горячие" клавиши для команд, включенных в меню "Файл".
Escape-последовательности, генерируемые клавишами F1-F10, соответствуют
функциям terminfo kf1 - kf10. На терминалах без поддержки функциональных
клавиш можно достичь аналогичного эффекта, нажав клавишу ESC, а
затем число в диапазоне от 1 до 9 или 0 (соответствует F1 - F9 и F10).
<p>

Меню "Файл" содержит следующие команды (соответствующие "горячие"
клавиши указываются в скобках):
</p><p>

<b>Помощь (F1)</b>

</p><p>

Вызывает встроенную программу

просмотра гипертекстовой подсказки.

При просмотре файла помощи можно использовать клавишу Tab для выбора
следующей гипертекстовой ссылки и клавишу Enter для перехода по ссылке.
Клавиши пробела и Backspace используются для перемещения вперед и назад
по тексту подсказки. При нажатии на клавишу F1 вы получите полный список
управляющих комбинаций клавиш.
</p><p>

<b>Меню пользователя (F2)</b>

</p><p>

Вызывает

меню пользователя.

Меню пользователя предоставляет простой способ расширения возможностей
Midnight Commander за счет добавления в личное меню пользователя вызова
часто используемых программ.
</p><p>

<b>Просмотр файла (F3, Shift-F3)</b>

</p><p>

Просмотреть файл, на который указывает подсветка. По умолчанию при этом
вызывается

встроенная программа просмотра,

но, сняв отметку с опции "Встроенный просмотр" ("Use internal view") в
пункте "Конфигурация" меню "Настройки" ("Options"), можно вызывать
внешнюю программу просмотра, путь к которой должен быть указан в
переменной окружения
<b>PAGER.</b>

Если переменная
<b>PAGER</b>

не определена, вызывается встроенная программа. Если вместо F3 нажать
Shift-F3, встроенная программа просмотра не выполняет предварительного
форматирования или обработки файла.
</p><p>

<b>Просмотр вывода команды (Filtered View) (M-!)</b>

</p><p>

По этой команде на экране появляется строка ввода, в которой вы можете
ввести любую команду с параметрами (по умолчанию предлагается
использовать в качестве параметра имя подсвеченного файла). Вывод этой
команды будет отображаться на экране через встроенную программу
просмотра.
</p><p>

<b>Редактирование (F4)</b>

</p><p>

Вызывается редактор
<b>vi</b>,

либо редактор, указанный в переменной окружения
<b>EDITOR</b>,

либо

встроенный редактор файлов

(если включена опция "Встроенный редактор"
<i>(use_internal_edit)</i>

в меню "Настройки / Конфигурация").
</p><p>

<b>Копирование (F5)</b>

</p><p>

Вызывается диалоговое окно, в котором предлагается скопировать
подсвеченный файл из каталога, отображаемого в активной панели (или
группу отмеченных файлов, если в активной панели отмечен хотя бы один
файл) в каталог, отображаемый в пассивной панели. Имя каталога, в
который будет производиться копирование, можно изменить. О том, как
задать шаблон для имен копируемых файлов (обычно это * или ^\(.*\)$, в
зависимости от установки опции
<i>Образцы в стиле shell (Shell Patterns),</i>

и о допустимых символах замены (wildcards) в строке целевого каталога вы
можете узнать, просмотрев раздел

Маски файлов для операций копирования/переименования.

</p><p>

В процессе выполнения копирования можно нажать
<b>C-c</b>

или
<b>ESC</b>

для того, чтобы прервать выполнение операции.
</p><p>

В некоторых системах можно осуществлять копирование в фоновом режиме,
если запустить процесс не кнопкой &lt;Дальше&gt; диалогового окна, а кнопкой
&lt;На фоне&gt; (или нажав
<b>M-b</b>

в диалоговом окне).  Используя пункт меню

"Команды/Фоновые задания",

можно управлять выполнением фоновых процессов.
</p><p>

<b>Права доступа (C-x c)</b>

</p><p>

Позволяет изменить права доступа к выделенному или помеченным файлам.
</p><p>

<b>Жесткая ссылка (C-x l)</b>

</p><p>

Создает жесткую ссылку на текущий файл.
</p><p>

<b>Символич. ссылка (C-x s)</b>

</p><p>

Создает символическую ссылку на текущий файл. Если вы не знаете, что
такое ссылки: создание ссылки в некотором смысле подобно копированию
файла, но и исходное имя файла и ссылка указывают на один и тот же
реальный файл на диске. Поэтому, если вы, например, редактируете файл,
то изменения будут появляться в обеих копиях. Синонимами термина
"ссылка" (link) являются термины алиас (alias) и ярлык (shortcut).
</p><p>

Жесткая ссылка выглядит как реальный файл. После создания жесткой ссылки
невозможно различить, где исходный файл, а где ссылка. Если вы удаляете
один из этих файлов (точнее одно из этих имен), то файл еще сохраняется
на диске (пока у него есть хоть одно имя-ссылка). Очень трудно различить
первоначальное имя файла и позже созданные жесткие ссылки на него.
Поэтому жесткие ссылки применяются там, где отслеживать различия и не
требуется.
</p><p>

Символическая ссылка - это ссылка на имя исходного файла. Если исходный
файл удален, символическая ссылка становится бесполезной. Символическую
ссылку легко отличить от первоначального имени файла и программа
Midnight Commander указывает символические ссылки выводя знак "@" перед
именем такой ссылки (кроме ссылок на каталоги, которые обозначаются
знаком тильды "~"). Если на экран выводится строка мини-статуса (опция
"Показывать мини-статус" ("Show mini-status") включена), то в ней
отображается имя исходного файла. Используйте символические ссылки в тех
случаях, когда хотите избежать путаницы, связанной с применением жестких
ссылок.
</p><p>

<b>Владелец/группа (C-x o)</b>

Позволяет выполнить команду chown.
</p><p>

<b>Права (расширенные)</b>

Позволяет изменить права доступа и владения файлом.
</p><p>

<b>Переименование (F6)</b>

</p><p>

Вызывается диалоговое окно, в котором предлагается перенести
подсвеченный файл из каталога, отображаемого в активной панели (или
группу отмеченных файлов, если в активной панели отмечен хотя бы один
файл) в каталог, отображаемый в пассивной панели. Имя каталога, в
который будет производиться перенос, можно изменить, воспользовавшись
соответствующей строкой ввода.
</p><p>

В остальном диалоговое окно аналогично окну, появляющемуся при вызове
команды копировании файлов (смотрите выше).
</p><p>

<b>Создание каталога (F7)</b>

</p><p>

Появляется диалоговое окно и создается каталог с введенным именем.
</p><p>

<b>Удаление (F8)</b>

</p><p>

Удаляется файл, имя которого подсвечено (или группа файлов, имена
которых помечены) в активной панели. Операцию можно прервать, нажав
<b>C-c</b>

или
<b>ESC</b>

во время ее исполнения.
</p><p>

<b>Быстрая смена каталога (Quick cd) (M-c)</b>


</p><p>

Используйте

быструю смену каталога

если вы знаете полный путь к каталогу, в который хотите перейти (который
хотите сделать текущим).
</p><p>

<b>Отметить группу (+)</b>

</p><p>

Эта команда используется для отметки группы файлов по заданному шаблону.
Midnight Commander выдаст строку ввода, в которой надо задать регулярное
выражение, определяющее желаемую группу имен. Если включена опция
<i>Образцы в стиле shell (Shell Patterns),</i>

регулярные выражение строятся по тем же правилам, которые действуют в
оболочке shell (* означает ноль или большее число любых символов, а ?
заменяет один произвольный символ). Если опция
<i>Образцы в стиле shell (Shell Patterns)</i>

отключена, то пометка файлов производится по правилам обработки
нормальных регулярных выражений (смотрите ed (1)).
</p><p>

Для того, чтобы отметить каталоги, а не файлы, выражение должно
начинаться или оканчиваться символом '/'.
</p><p>

<b>Снять отметку (\\ - обратный слэш)</b>

</p><p>

Используется для снятия отметки с группы файлов. Эта операция является
обратной по отношению к операции отметки группы файлов и использует те
же правила формирования шаблонов.
</p><p>

<b>Выход (F10, Shift-F10)</b>

</p><p>

Выйти из программы Midnight Commander. Shift-F10 используется для выхода
в тех ситуациях, когда используется shell wrapper. После Shift-F10
текущим каталогом будет не последний каталог, в котором вы были при
работе в Midnight Commander, а тот, в котором вы были, когда запустили
Midnight Commander.

<a name="lbAV">&nbsp;</a>
</p><h2>    Быстрая смена каталога (Quick cd)</h2>

Эта команда полезна тогда, когда вы знаете полный путь к каталогу,
который хотите сделать текущим, и желаете использовать встроенную
команду

cd.

<p>

По этой команде вызывается диалоговое окно, в строке ввода которого вы
должны ввести тот путь, который вы ввели бы в командной строке оболочки
при выполнении команды
<b>cd.</b>

</p><p>

После этого надо нажать клавишу &lt;Enter&gt;.

<a name="lbAW">&nbsp;</a>
</p><h2>  Меню 'Команды'</h2>

При обращении к пункту меню

<i>Дерево каталогов</i>


выводится окно, отображающее структуру каталогов файловой системы.
<p>

Команда

<i>Поиск файла</i>


позволяет найти на диске файл с заданным именем. "Горячие" клавиши -
<b>M-?</b>.

</p><p>

Команда
<i>Переставить панели</i>

("Swap panels") меняет местами содержимое
правой и левой панелей. "Горячие" клавиши -
<b>C-u</b>.

</p><p>

По команде
<i>Отключить панели</i>

("Panels on/off") показывается вывод последней из выполнявшихся команд
shell. Эта команда работает только через xterm и на консоли Linux и
FreeBSD. "Горячие" клавиши -
<b>C-o</b>.

</p><p>

По команде
<i>Сравнить каталоги</i>

("Compare directories", "горячие" клавиши -
<b>C-x d</b>)

сравнивается содержимое каталогов, отображаемых на левой и правой
панелях. После сравнения можно воспользоваться командой
<i>Копировать (F5)</i>

для того, чтобы сделать содержимое каталогов одинаковым. Существует
три метода сравнения. При быстром методе сравниваются только размер и
дата создания файлов с одинаковыми именами. При побайтном методе
сравнивается содержимое файлов (побайтно). Этот метод недоступен, если
машина не поддерживает системный вызов <a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=mmap&amp;category=2">mmap</a>(2). При сравнении по размеру
сравниваются только размеры соответствующих файлов, а дата создания не
проверяется.
</p><p>

Пункт меню
<i>История команд</i>

выводит окно со списком ранее выполнявшихся
команд. Подсвеченную строку из истории можно скопировать в командную
строку оболочки (перемещение подсветки - стрелками вверх/вниз,
копирование - по клавише Enter). Доступ к истории команд можно получить
также по комбинациям клавиш
<b>M-p</b>

или
<b>M-n</b>,

однако в этом случае вы не видите окна с перечнем команд. Вместо этого в
командную строку выводится одна команда из списка и по комбинации
<b>M-p</b>

происходит смена этой команды на предыдущую, а по
<b>M-n</b>

- на следующую команду из истории команд.
</p><p>

Пункт меню

<i>Справочник каталогов</i>


<b>C-\\</b>

позволяет создать список каталогов, которые часто используются, и
обеспечить быстрый переход к нужному каталогу из этого списка.
</p><p>

Пункт меню

<i>Критерий панелизации</i>


позволяет выполнить внешнюю программу, сделав ее вывод содержимым
текущей панели (характерный пример - панелизация вывода команды find).
</p><p>

После выбора пункта меню

<i>Файл расширений</i>


вы можете связать с определенным расширением файла (окончанием имени
после последней точки) программу, которая будет запускаться для
обработки (просмотра, редактирования или выполнения) файла с таким
расширением. Запуск выбранной программы будет осуществляться после
установки подсветки на имя файла и нажатия клавиши &lt;Enter&gt;.
</p><p>

Пункт меню

<i>Файл меню</i>


используется для редактирования пользовательского меню (которое
появляется после нажатия клавиши F2).

<a name="lbAX">&nbsp;</a>
</p><h2>    Дерево каталогов (Directory Tree)</h2>

После выбора пункта меню "Дерево каталогов" появляется окно, в котором
отображена иерархическая структура каталогов.
<p>

Дерево каталогов может быть вызвано двумя способами: через пункт "Дерево
каталогов" из меню "Команды" и пункт "Дерево" из меню правой или левой
панелей.
</p><p>

Чтобы избавиться от долгих задержек во время создания дерева каталогов,
Midnight Commander создает дерево путем просмотра только небольшого
подмножества всех каталогов. Если каталог, который вам нужен, не
отображен, перейдите в его родительский каталог и нажмите
<b>C-r</b>

(или
<b>F2</b>).

</p><p>

Для управления просмотром дерева каталогов могут использоваться
следующие комбинации клавиш:
</p><p>

Работают все

клавиши управления перемещением.

</p><p>

<b>Enter</b>.

В окне просмотра дерева каталогов нажатие этой клавиши вызывает выход из
режима просмотра и отображение списка файлов выбранного каталога в
активной панели. При отображении дерева каталогов в одной из панелей при
нажатии клавиши Enter соответствующий каталог отображается во второй
панели, а на текущей панели остается дерево.
</p><p>

<b>C-r, F2 (Rescan).</b>

Перечитать содержимое каталога. Используется в тех случаях, когда дерево
каталогов не соответствует реальной структуре: некоторые каталоги не
показаны или показаны более не существующие.
</p><p>

<b>F3 (Forget).</b>

Удалить текущий каталог из дерева. Эта команда используется для удаления
ошибочно отображаемых ветвей дерева. Если вам необходимо вернуть
подкаталог в дерево, перейдите в его родительский каталог и нажмите
клавишу F2.
</p><p>

<b>F4 (Static/Dynamic).</b>

Переключение между статическим (применяемым по умолчанию) и динамическим
режимами перемещения по дереву.
</p><p>

В статическом режиме перемещения для выбора каталога (т.е. перемещения
подсветки на имя другого каталога) используются только стрелки
вверх/вниз. Показываются все известные программе на данный момент
подкаталоги.
</p><p>

В динамическом режиме стрелки вверх/вниз используются для перехода на
соседний каталог того же уровня. Для перехода в родительский каталог
используется клавиша "стрелка влево", а по стрелке вправо происходит
переход к потомкам текущего каталога, то есть на один уровень ниже. При
этом отображаются только вышележащие каталоги (включая родительский и
выше), соседние каталоги того же уровня и непосредственные потомки. Вид
дерева каталогов динамически изменяется после каждого перемещения по
дереву.
</p><p>

<b>F5 (Copy).</b>

Копировать подкаталог (появляется строка ввода, в которой надо указать,
куда копировать).
</p><p>

<b>F6 (RenMov).</b>

Переместить подкаталог.
</p><p>

<b>F7 (Mkdir).</b>

Создать подкаталог в текущем (подсвеченном) каталоге.
</p><p>

<b>F8 (Delete).</b>

Удалить подсвеченный каталог из файловой системы.
</p><p>

<b>C-s, M-s.</b>

Найти следующий каталог, соответствующий заданному шаблону поиска. Если
такого каталога не существует, происходит просто смещение подсветки на
одну строку вниз.
</p><p>

<b>C-h, Backspace.</b>

Удаляет последний символ в строке (шаблоне) поиска.
</p><p>

<b>Любой другой символ.</b>

Этот символ добавляется в шаблон поиска и производится перемещение на
имя следующего каталога, удовлетворяющее шаблону. В режиме просмотра
дерева каталогов вначале необходимо активизировать режим поиска
клавишами
<b>C-s</b>.

Шаблон поиска будет отображаться в строке мини-статуса.
</p><p>

Следующие действия возможны только в окне просмотра дерева каталогов и
не поддерживаются при просмотре дерева в одной из панелей:
</p><p>

<b>F1 (Help).</b>

Вызов подсказки с отображением настоящего раздела помощи.
</p><p>

<b>Esc, F10.</b>

Выход из окна дерева каталогов. Смены текущего каталога не происходит.
</p><p>

В окне просмотра дерева каталогов поддерживается мышка. Двойной щелчок
аналогичен нажатию клавиши Enter. Смотрите также секцию о

поддержке мыши.


<a name="lbAY">&nbsp;</a>
</p><h2>    Поиск файлов (Find File)</h2>

После выбора пункта меню "Поиск файла" ("Find File") вначале
запрашивается имя искомого файла и имя каталога, с которого необходимо
начинать поиск. Нажав кнопку &lt;Дерево&gt; (&lt;Tree&gt;), можно выбрать
начальный каталог поиска из

дерева каталогов.

<p>

В поле "Содержание" (Content) можно задать расширенное регулярное
выражение. Это значит, что перед символами, имеющими специальное
значение, необходимо вставить символ "\". Например, если нужно
найти строку "strcmp (", необходимо указать шаблон поиска в виде "strcmp
\(" (без двойных кавычек).
</p><p>

Для того, чтобы начать поиск, нажмите экранную кнопку &lt;Дальше&gt; (&lt;Ok&gt;).
Во время поиска его можно приостановить кнопкой &lt;Приостановить&gt;
(&lt;Suspend&gt;) и продолжить по кнопке &lt;Продолжить&gt; (&lt;Continue&gt;).
</p><p>

Список найденных файлов можно просматривать, перемещаясь с помощью
клавиш "стрелка вверх" и "стрелка вниз". Кнопка &lt;Перейти&gt; (&lt;Chdir&gt;)
используется для перехода в каталог, в котором находится подсвеченный
файл. Кнопка &lt;Повтор&gt; (&lt;Again&gt;) служит для задания параметров нового
поиска. Кнопка &lt;Выход&gt; (&lt;Quit&gt;) служит для выхода из режима поиска.
Нажатие на кнопку &lt;Панелизация&gt; (&lt;Panelize&gt;) приведет к тому, что
результаты поиска будут отображены на текущую активную панель, так что
вы можете производить с выбранными файлами еще какие-то действия
(просматривать, копировать, перемещать, удалять и так далее). После
вывода на панель можно нажать
<b>C-r</b>

для возврата к обычному списку файлов.
</p><p>

Можно задать список каталогов, которые команда "Поиск файла" будет
пропускать в ходе поиска (например, вы знаете, что искомого файла нет на
CDROM или не хотите искать в каталогах, подключенных через NFS по очень
медленному каналу).
</p><p>

Каталоги, которые надо пропустить, должны быть указаны в переменной
<b>find_ignore_dirs</b>

в секции
<b>Misc</b>

вашего файла
<b>~/.mc/ini</b>.

Имена каталогов разделяются двоеточиями, следующим образом:
</p><p>

</p><pre>[Misc]
find_ignore_dirs=/cdrom:/nfs/wuarchive:/afs
</pre>

<p>

Вы можете использовать перенаправление вывода на панель
(см.

Критерий панелизации)

для выполнения некоторых усложненных последовательностей действий, в то
время как "Поиск файла" позволяет выполнять только простые запросы.

<a name="lbAZ">&nbsp;</a>
</p><h2>    Критерий панелизации (External panelize)</h2>

Пункт меню "Критерий панелизации" (который правильнее было бы назвать
"Перенаправление вывода на панель") позволяет выполнить внешнюю
программу и отобразить вывод этой программы на текущей активной панели.
<p>

Например, если вы хотите выполнить какое-то действие над всеми
символическими ссылками текущего каталога, вы можете использовать пункт
"Критерий панелизации" для запуска следующей команды:
</p><p>

</p><pre>find . -type l -print
</pre>

<p>

После выполнения этой команды в текущей панели будет отображено не
содержимое соответствующего каталога, а только все символические ссылки,
в нем расположенные.
</p><p>

Если вы хотите вывести на панель все файлы, которые были скачаны с
вашего FTP-сайта, вы можете использовать следующую команду для
извлечения нужных имен из файла протокола:
</p><p>

</p><pre>awk '$9 ~! /incoming/ { print $9 }' &lt; /usr/adm/xferlog
</pre>

<p>

Если вы захотите, то можете сохранить часто используемые команды
панелизации под отдельными информативными именами, чтобы иметь
возможность их быстро вызвать по этим именам. Для этого нужно набрать
команду в строке ввода и нажать кнопку &lt;Добавить&gt;. После этого вам
потребуется ввести имя, по которому вы будете вызывать команду. В
следующий раз вам достаточно будет выбрать нужное имя из списка, а не
вводить всю команду заново.

<a name="lbBA">&nbsp;</a>
</p><h2>    Справочник каталогов (Hotlist)</h2>

Пункт меню "Справочник каталогов" служит для вывода списка меток
(условных имен), присвоенных наиболее часто используемым каталогам. Этот
список можно использовать для быстрого перехода в нужный каталог.
Пользуясь диалоговым окном справочника каталогов, вы можете добавить
новую метку в список или удалить ранее созданную пару метка/каталог. Для
добавления метки можно также использовать комбинацию клавиш
<b>C-x h,</b>

по которой текущий каталог добавляется в справочник каталогов. Программа
выдаст запрос на ввод метки для этого каталога.
<p>

Использование этого пункта меню обеспечивает более быстрый переход к
часто используемым каталогам. Другим способом ускорения процедуры
переключения на часто используемые каталоги является задание переменной
CDPATH (смотрите описание

встроенной команды cd.


<a name="lbBB">&nbsp;</a>
</p><h2>    Файл расширений</h2>

Этот пункт меню "Команда" служит для вызова редактора и редактирования
файла
<b>~/.mc/bindings</b>.

Этот файл имеет следующий формат (формат был изменен в версии 3.0):
<p>

Все строки, начинающиеся с # или пустые строки игнорируются.
</p><p>

Строки, начинающиеся с первой колонки (будем говорить, что с таких строк
начинаются секции файла расширений), должны иметь следующий формат:
</p><p>

<i>keyword/desc</i>,

т.е. все, что стоит после
<i>keyword/</i>

и до конца строки, интерпретируется как
<i>desc.</i>

</p><p>

В качестве keyword может стоять одно из следующих слов:
</p><dl compact="">
<dt><i>shell</i>

</dt><dd>
если desc начинается с точки (мета-символы не допускаются), то desc -
это расширение имени файла, т.е. шаблону соответствуют все файлы,
оканчивающиеся на desc.  Пример: .tar будет означать *.tar.  Если desc
не начинается с точки, то desc трактуется как полное имя файла.
</dd><dt><i>regex</i>

</dt><dd>
desc - регулярное выражение. Обратите внимание на то, что используется
библиотека GNU regex, в силу чего "\|" соответствует просто символу
"|", а "|" имеет специальное значение (логическое ИЛИ). Аналогично,
вместо скобок "(" и ")" надо использовать "\(" и "\)".
</dd><dt><i>directory</i>

</dt><dd>
Файл является каталогом и его имя соответствует регулярному выражению desc.
</dd><dt><i>type</i>

</dt><dd>
в этом случае выбираются такие файлы, для которых `file %f`
соответствует регулярному выражению desc (часть filename: из `file %f`
удалена).
</dd><dt><i>default</i>

</dt><dd>
подходит любой файл, независимо от того, какое значение принимает desc.
</dd><dt><i>include</i>

</dt><dd>
- означает общую секцию.
</dd></dl>
<p>

Все строки в секции, кроме первой, должны начинаться с пробела или
символа табуляции и иметь следующий формат:
</p><p>

<i>keyword=command</i>

(без пробелов возле "="), где
<i>keyword</i>

должно быть:
</p><p>

<i>Open</i>

(строка задает действия, выполняемые в том случае, когда пользователь
нажимает Enter или дважды щелкает мышкой по имени файла),
<i>View</i>

(F3),
<i>Edit</i>

(F4) или
<i>Include</i>

(для добавления правил из общей секции).
</p><p>

<i>command</i>

- любая однострочная команда оболочки, в которой допускаются простые

макроподстановки.

</p><p>

Действие вычисляется сверху вниз (таким образом порядок следования
важен). Если некоторое действие пропущено, поиск продолжается как в
случае, если это действие не соответствует условию. Другими словами если
файл соответствует первой и второй секции, но действие View пропущено в
первой секции, то при нажатии клавиши F3 будет использовано действие
View из второй секции. default должно описывать все действия.

<a name="lbBC">&nbsp;</a>
</p><h2>    Фоновые задания</h2>

Этот пункт меню позволяет вам управлять фоновыми заданиями, запущенными
из Midnight Commander (такими заданиями могут быть только операции
копирования и перемещения файлов). Используя этот пункт меню или
"горячие" клавиши
<b>C-x j,</b>

вы можете остановить, возобновить или снять любое из фоновых заданий.

<a name="lbBD">&nbsp;</a>
<h2>    Редактирование файлов меню</h2>

Файлы меню содержат списки команд для выполнения часто повторяемых
пользователем операций. Эти меню создаются и поддерживаются самими
пользователями. Могут быть созданы три файла меню: в текущем каталоге, в
домашнем каталоге пользователя и общесистемный. Когда вы нажимаете
клавишу F2 для вызова меню, Midnight Commander вначале ищет файл
<b>.mc.menu</b>

в текущем каталоге и отображает соответствующее меню (если находит и
если владельцем этого файла является данный пользователь или root и этот
файл не доступен на запись всем). Если такого файла не найдено, таким же
образом ищется файл
<b>~/.mc/menu</b>

и, в последнюю очередь, mc использует общесистемное меню
<b>/usr/share/mc/mc.menu</b>.

<p>

Формат всех трех файлов меню одинаков и очень прост. Строки комментариев
начинаются с '#'. Дополнительные комментарии должны начинаться с '#',
пробела или символа табуляции. Строки, начинающиеся с любого символа,
отличного от пробела и символа табуляции, интерпретируются как названия
пунктов меню, причем если первый символ является буквой или цифрой, то
соответствующая клавиша будет служить "горячей" клавишей для вызова
этого пункта меню. Строки, начинающиеся с пробела или символа табуляции,
интерпретируются как команды, которые должны выполняться при вызове
соответствующего пункта меню. Эти строки должны следовать за строкой
названия и их может быть несколько.
</p><p>

Когда пользователь выбирает какой-то пункт меню, соответствующие
командные строки копируются во временный файл во временном каталоге
(обычно /usr/tmp) и затем этот файл запускается на выполнение. Это
позволяет пользователю вставлять в команды меню любые конструкции,
допустимые в командном языке оболочки. Можно также использовать
макроподстановки, которые производятся перед выполнением кода меню
(подробнее смотрите в секции

Макроподстановки).

</p><p>

Вот пример файла mc.menu:
</p><p>

</p><pre>A       Dump the currently selected file
        od -c %f

B       Edit a bug report and send it to root
        I=`mktemp ${MC_TMPDIR:-/tmp}/mail.XXXXXX` || exit 1
        vi $I
        mail -s "Midnight Commander bug" root &lt; $I
        rm -f $I

M       Read mail
        emacs -f rmail

N       Read Usenet news
        emacs -f gnus

H       Call the info hypertext browser
        info

J       Copy current directory to other panel recursively
        tar cf - . | (cd %D &amp;&amp; tar xvpf -)

K       Make a release of the current subdirectory
        echo -n "Name of distribution file: "
        read tar
        ln -s %d `dirname %d`/$tar
        cd ..
        tar cvhf ${tar}.tar $tar

= f *.tar.gz | f *.tgz &amp; t n
X       Extract the contents of a compressed tar file
        tar xzvf %f
</pre>

<p>

<b>Условия выполнения (Default Conditions)</b>

</p><p>

Каждому пункту меню может предшествовать условие. Строка, задающая
условие, должна содержать символ '=' в первой колонке. Команды,
задаваемые этим пунктом меню, будут выполняться только если условие
выполняется.
</p><p>

</p><pre>Синтаксис строки условия:   = &lt;sub-cond&gt;
                или:        = &lt;sub-cond&gt; | &lt;sub-cond&gt; ...
                или:        = &lt;sub-cond&gt; &amp; &lt;sub-cond&gt; ...

где &lt;sub-condition&gt; может принимать следующие значения:

  y &lt;pattern&gt;     синтаксис текущего файла соответствует шаблону.
                  Только для меню редактора.
  f &lt;pattern&gt;     соответствует шаблону имя текущего файла?
  F &lt;pattern&gt;     соответствует шаблону файл в пассивной
                  панели?
  d &lt;pattern&gt;     соответствует шаблону имя текущего
                  каталога?
  D &lt;pattern&gt;     соответствует шаблону имя текущего
                  каталога в пассивной панели?
  t &lt;type&gt;        тип файла соответствует &lt;type&gt;?
  T &lt;type&gt;        тип файла в пассивной панели
                  соответствует &lt;type&gt;?
  x &lt;filename&gt;    filename является исполнимым?
  ! &lt;sub-cond&gt;    логическое отрицание условия &lt;sub-cond&gt;
</pre>

<p>

Шаблон (pattern) - это обычный шаблон оболочки (shell pattern) или
регулярное выражение, в соответствии с опцией "shell patterns". Вы
можете задать значение опции "shell patterns" путем записи строки
"shell_patterns=x" в самую первую строку файла меню (здесь "x" равно 0
или 1).
</p><p>

</p><pre>Типы файлов определяются следующими символами:

  n     не каталог
  r     обычный файл (regular file)
  d     каталог
  l     ссылка (link)
  c     байт-ориентированное устройство (char special)
  b     блок-ориентированное устройство (block special)
  f     fifo
  s     socket
  x     исполняемый файл
  t     помеченный файл (tagged)
</pre>

<p>

Например, 'rlf' означает либо обычный файл, либо ссылку, либо файл типа
fifo. Тип 't' стоит несколько особняком, потому что этот тип
определяется не типом самого файла, а тем, помечен ли файл на панели.
Условие '=t t' истинно, если в текущей панели имеются помеченные файлы,
и ложно, если таковых нет.
</p><p>

Если условие начинается с '=?' вместо '=', то во время выполнения
проверки условия будет отображаться ход вычисления условия (a debug
trace will be shown whenever the value of the condition is calculated).
</p><p>

Значение условия вычисляется слева направо. Это значит, что
</p><pre>        = f *.tar.gz | f *.tgz &amp; t n
</pre>

вычисляется как
<pre>        ( (f *.tar.gz) | (f *.tgz) ) &amp; (t n)
</pre>

<p>

Вот пример использования условий:
</p><p>

</p><pre>= f *.tar.gz | f *.tgz &amp; t n
L       List the contents of a compressed tar-archive
        gzip -cd %f | tar xvf -
</pre>

<p>

<b>Условия включения пункта в меню (Addition Conditions)</b>

</p><p>

Если строка условия начинается с '+' (или '+?') вместо '=' (или '=?') -
это условие трактуется как условие включения данного пункта в меню. Если
условие истинно, пункт включается в отображаемое на экране меню, если
условие не выполняется - не включается.
</p><p>

Вы можете использовать одно и то же условие и как условие выполнения и
как условие включения пункта в меню, если начнете строку условия с '+='
или '=+' (если надо отображать ход вычисления, то с '+=?' или '=+?').
Если вы хотите использовать два разных условия, одно для включения в
меню, а другое - для выполнения, надо предпослать пункту меню две строки
условий, одну - начинающуюся с '+', и другую - начинающуюся с '='.

<a name="lbBE">&nbsp;</a>
</p><h2>Меню 'Настройки' ('Options')</h2>

Программа Midnight Commander имеет ряд установок (опций), каждая из
которых может быть включена или выключена, для чего служат несколько
диалоговых окон, доступных через меню "Настройки". Опция включена, если
поставлена звездочка или знак "x" в скобках перед названием опции.
<p>

Пункт

Конфигурация

вызывает диалоговое окно, в котором вы можете поменять большинство
установок программы Midnight Commander.
</p><p>

Пункт

Внешний вид (Layout)

служит для задания настроек, определяющих положение и вид окна программы
mc на экране.
</p><p>

Пункт

Подтверждения (Confirmation)

вызывает диалоговое окно, в котором вы указываете, на выполнение каких
действий программа будет требовать подтверждения.
</p><p>

Пункт

Биты символов (Display bits)

вызывает диалоговое окно, в котором вы указываете, в каком формате ваш
терминал будет обрабатывать (вводить и отображать на дисплее)
информацию, представленную байтами (например, записанную в файле).
</p><p>

Пункт

Распознавание клавиш (Learn keys)

вызывает диалоговое окно, в котором вы можете протестировать работу
некоторых клавиш, которые работают не на всех типах терминалов, и
связать ту реакцию системы, которая должна была последовать за нажатием
отсутствующей клавиши, с нажатием другой клавиши или комбинации клавиш.
</p><p>

Пункт

Виртуальные ФС (Virtual FS)

вызывает диалоговое окно, в котором вы можете задать значения некоторых
параметров, связанных с использованием виртуальных файловых систем.
</p><p>

По команде

Сохранить настройки (Save setup)

введенные значения параметров сохраняются в ini-файле программы.

<a name="lbBF">&nbsp;</a>
</p><h2>    Конфигурация</h2>

Параметры конфигурации, задаваемые в этом окне, делятся на три группы:
"Настройки панелей", "Пауза после исполнения" и "Прочие настройки".
<p>

<b>Настройки панелей (Panel Options)</b>

</p><p>

<i>Показывать резервные (Backup) файлы.</i>

По умолчанию программа Midnight Commander не показывает файлы, имена
которых заканчиваются на '~' (подобно ключу -B команды ls в GNU).
</p><p>

<i>Показывать скрытые файлы.</i>

По умолчанию Midnight Commander показывает все файлы, имена которых
начинаются точкой (как ls -a).
</p><p>

<i>Отметка перемещает курсор.</i>

Когда вы отмечаете файл (клавишами
<b>C-t</b>

или
<b>Insert</b>),

то по умолчанию подсветка на имени файла смещается на одну строку вниз.
</p><p>

<i>Выпадение меню при вызове.</i>

Если эта опция включена, то при вызове главного меню нажатием клавиши
<b>F9,</b>

будет сразу отображаться перечень пунктов меню (выпадающее меню). В
противном случае активизируются только пункты главного меню и вы должны
(после выбора одного из них клавишами стрелок) нажать клавишу
<b>Enter,</b>

либо выбрать нужный пункт по первой букве названия, и только после этого
получите возможность выбрать пункт выпадающего меню.
</p><p>

<i>Смешивать файлы/каталоги.</i>

Если эта опция включена, имена файлов и каталогов отображаются
вперемежку. Если опция отключена, каталоги (и ссылки на каталоги)
показываются в начале списка, а имена файлов - после имен всех
каталогов.
</p><p>

<i>Быстрая загрузка каталога.</i>

По умолчанию эта опция выключена. Если вы активизируете ее, Midnight
Commander будет использовать для вывода содержимого каталога следующий
трюк: содержимое каталога перечитывается только в том случае, если
изменилась запись в i-node каталога, то есть если в каталоге создавались
или удалялись файлы; если изменялись только записи в i-node файлов
каталога (изменялся размер файла, режим доступа или владелец и т.п.)
содержимое панели не обновляется. В этом случае (если опция включена) вы
должны обновлять список файлов вручную (клавишами
<b>C-r</b>).

</p><p>

<b>Пауза после исполнения</b>

</p><p>

После выполнения вашей команды Midnight Commander может обеспечить
паузу, чтобы вы могли просмотреть и изучить вывод команды. Есть три
варианта установки этой опции:
</p><dl compact="">
<dt></dt><dd>
<i>&lt;Никогда&gt;</i>

Это значит, что вы не хотите видеть вывод команды. На консоли Linux или
FreeBSD или при использовании xterm вы можете просмотреть этот вывод,
нажав C-o.
</dd><dt></dt><dd>
<i>&lt;На тупых терминалах&gt;</i>

Пауза будет создаваться на терминалах, которые не способны обеспечить
показ вывода последней из выполнявшихся команд (это любые терминалы,
отличные от xterm или Linux-консоли).
</dd><dt></dt><dd>
<i>&lt;Всегда&gt;</i>

Программа обеспечит паузу после выполнения любой команды.
</dd></dl>
<p>

</p><p>

<b>Прочие настройки</b>

</p><p>

<i>Детали операций (Verbose operation).</i>

Этот переключатель определяет, будет ли при выполнении операций
копирования, перемещения и удаления выводится дополнительное окно,
отображающее ход выполнения операции. Если у вас медленный терминал, вы
можете отключить этот вывод. Он отключается автоматически, если скорость
вашего терминала меньше 9600 bps.
</p><p>

<i>Подсчитывать общий размер.</i>

Если эта опция включена, Midnight Commander перед выполнением операций
копирования, перемещения и удаления подсчитывает общее число
обрабатываемых файлов и их суммарный размер и показывает ход выполнения
операции над этими файлами в виде диаграммы-полоски (правда, это слегка
замедляет выполнение операций). Эта опция не работает, если отключена
опция
<i>Детали операций.</i>

</p><p>

<i>Образцы в стиле shell (Shell Patterns).</i>

По умолчанию команды Select, Unselect и Filter используют регулярные
выражения, которые строятся по правилам, действующим в оболочке (shell-
like regular expressions). Для того, чтобы достичь такого эффекта,
выполняются следующие преобразования: '*' заменяется на '.*' (ноль или
больше символов); '?' заменяется на '.' (в точности один символ) и '.'
заменяется на обычную точку. Если опция отключена, то регулярные
выражения должны строиться так, как описано в <a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=ed&amp;category=1">ed</a>(1).
</p><p>

<i>Автосохранение настроек.</i>

Если эта опция включена, то при выходе из программы Midnight Commander
значения всех настраиваемых параметров сохраняются в файле
<b>~/.mc/ini</b>.

</p><p>

<i>Автоматические меню.</i>

Если эта опция включена, пользовательское меню будет автоматически
вызываться на экран при запуске программы. Это бывает полезно, если на
компьютере работают неопытные пользователи (операторы), которые должны
выполнять только стандартные операции.
</p><p>

<i>Встроенный редактор.</i>

Если эта опция включена, то для редактирования файлов вызывается
встроенный редактор. Если опция выключена, то будет использоваться
редактор, указанный в переменной окружения
<b>EDITOR.</b>

Если такой редактор не задан, будет вызываться
<b>vi</b>

Смотрите раздел

Встроенный редактор файлов.

</p><p>

<i>Встроенный просмотр.</i>

Если эта опция включена, для просмотра файлов вызывается встроенная
программа просмотра. Если опция выключена, вызывается программа,
указанная в переменной окружения
<b>PAGER.</b>

Если такая программа не задана, используется команда
<b>view.</b>

Смотрите раздел

Встроенная программа просмотра файлов.

</p><p>

<i>Дополнение: показывать все (Complete: show all).</i>

В процессе ввода команд Midnight Commander может выполнять

Завершение ввода

при нажатии на клавиши
<b>M-Tab,</b>

пытаясь угадать окончание вводимой команды. По умолчанию при первом
нажатии
<b>M-Tab</b>

он ищет все возможные варианты завершения и, если завершения
неоднозначны (имеется много разных вариантов), то только издает звуковой
сигнал. При втором нажатии
<b>M-Tab</b>

отображаются все возможные завершения. Если вы хотите видеть все
возможные варианты завершения после первого нажатия
<b>M-Tab,</b>

включите эту опцию.
</p><p>

<i>Вращающийся индикатор</i>

Если эта опция включена, Midnight Commander отображает в верхнем правом
углу вращающуюся черточку, как индикатор того, что выполняется какое-то
задание (операция).
</p><p>

<i>Навигация в стиле lynx (Lynx-like motion).</i>

Если эта опция включена, вы имеете возможность использовать клавиши
"стрелка вправо" для перехода в подсвеченный в данный момент каталог и
"стрелка влево" для перехода в родительский по отношению к текущему
каталог (при условии, что командная строка пуста). По умолчанию опция
отключена.
</p><p>

<i>Смена каталога по ссылкам.</i>

Установка этой опции приводит к тому, что Midnight Commander будет
следовать логической цепочке подкаталогов при выполнении команд смены
каталога как в панели, так и по команде
<b>cd.</b>

Так же ведет себя по умолчанию
<b>bash.</b>

Если же опция не включена, Midnight Commander будет при выполнении
команды
<b>cd</b>

следовать реальной структуре каталогов, так что если вы вошли в текущий
каталог по ссылке на него, то по команде
<b>cd ..</b>

вы окажетесь в его родительском каталоге, а не в том каталоге, где
расположена ссылка.
</p><p>

<i>Безопасное удаление.</i>

Если эта опция включена, непреднамеренно удалить файл будет сложнее. В
диалоговых окнах подтверждения удаления предлагаемая по умолчанию кнопка
изменяется с
<b>Да</b>

на
<b>Нет</b>.

По умолчанию эта опция отключена.

<a name="lbBG">&nbsp;</a>
</p><h2>    Внешний вид</h2>

Диалоговое окно "Внешний вид" дает вам возможность изменить некоторые
параметры отображения на экране главного окна программы Midnight
Commander. Вы можете вывести на экран или отменить вывод строки главного
меню, командной строки, строки подсказок, мини-статуса, строки с
подсказкой по функциональным клавишам. На консоли Linux или FreeBSD
можно задать число строк, которые будут оставлены для отображения вывода
команды.
<p>

Можно также указать, должны ли панели располагаться горизонтально или
вертикально, изменить размеры панелей.
</p><p>

По умолчанию вся информация отображаются одним цветом, но вы можете
сделать так, чтобы
<i>права доступа</i>

и
<i>типы файлов</i>

были выделены другими

цветами.

Если включено выделение цветом прав доступа, поля
<i>perm</i>

и
<i>mode</i>

в

форматах вывода,

показывающие права пользователя, запустившего программу Midnight
Commander, выделены цветом, определенным ключевым словом
<i>selected</i>

(смотрите раздел

Цвета).

Если включено выделение цветом типов файлов, то разными цветами
выделяются каталоги, дампы памяти (файлы core), исполняемые файлы и т.д.
</p><p>

Если включена опция
<i>Мини-статус</i>,

в нижней части каждой панели выводится строка информации о выделенном
подсветкой файле или каталоге каждой панели.
</p><p>

При исполнении в эмуляторе терминала системы X11 Midnight Commander
отображает в заголовке xterm текущий каталог и изменяет этот заголовок
при необходимости.  Если ваш эмулятор терминала неисправен и вы видите
неверный заголовок при старте или изменении каталога, выключите параметр
<i>Заголовок xterm</i>

(Xterm Window Title).

<a name="lbBH">&nbsp;</a>
</p><h2>    Подтверждения</h2>

Используя этот пункт меню, вы можете сделать так, чтобы перед
выполнением операций удаления, перезаписи и запуска файла на выполнение,
а также перед выходом из программы mc, выдавался дополнительный запрос
на подтверждение.

<a name="lbBI">&nbsp;</a>
<h2>    Биты символов...</h2>

Этот пункт меню используется для задания диапазона отображаемых на
дисплее символов. Если терминал поддерживает только 7-битный вывод, то
нужно выбрать установку "7 бит". Выбрав "ISO-8859-1" вы получите все
символы из таблицы ISO-8859-1, а выбор установки "Полный 8-битный вывод"
имеет смысл на тех терминалах, которые могут отображать все 8-битовые
символы.

<a name="lbBJ">&nbsp;</a>
<h2>    Распознавание клавиш...</h2>

Пункт

Распознавание клавиш (Learn keys)

вызывает диалоговое окно, в котором вы можете протестировать работу
некоторых клавиш
<b>(F1-F20, Home, End),</b>

которые работают не на всех типах терминалов.
<p>

В диалоговом окне появляется таблица с названиями клавиш, которые могут
тестироваться. Вы можете перемещать подсветку по названиям, используя
клавишу
<b>Tab</b>

или клавиши, применяемые в редакторе
<b>vi</b>

('h' влево, 'j' вниз, 'k' вверх 'l' вправо). Если один раз нажать на
клавиши со стрелками, после чего возле их названий в таблице появится
пометка OK, то их тоже можно будет использовать для управления
перемещением.
</p><p>

Для тестирования работы клавиш нужно нажать каждую клавишу из
перечисленных в таблице. Если она работает нормально, возле ее названия
в таблице появится пометка OK. После появления такой пометки клавиша
начинает работать в ее обычном режиме. Например, первое нажатие на
клавишу
<b>F1</b>

приводит только к появлению пометки (если она работает нормально), а при
следующих нажатиях будет вызываться окно подсказки. То же самое
относится к клавишам стрелок. Клавиша
<b>Tab</b>

работает всегда.
</p><p>

Если какая-то клавиша не работает, то после нажатия на нее пометка OK не
появится. В таком случае можно связать ту реакцию системы, которая
должна была последовать за нажатием неработающей (отсутствующей)
клавиши, с нажатием другой клавиши или комбинации клавиш. Для этого надо
переместить подсветку на название неработающей клавиши (используя мышь
или клавишу
<b>Tab</b>)

и нажать
<b>Enter</b>

или клавишу
<b>пробела</b>.

Должно появиться окно красного цвета, в котором вас просят нажать
клавишу, которая будет использоваться вместо неработающей. Для отмены
операции нажмите
<b>Esc</b>

и дождитесь, пока красное окно исчезнет. Либо выберите и нажмите ту
комбинацию клавиш, которая будет служить заменой для неработающей
клавиши (и тоже дождитесь закрытия окна).
</p><p>

Когда закончите тестирование и настройку всех клавиш, вы можете
сохранить эти настройки в секции [terminal:TERM] вашего файла
<b>~/.mc/ini</b>

(где TERM - название используемого терминала) либо отказаться от
запоминания изменений. Если все клавиши работают нормально, то
сохранение, конечно, не требуется.

<a name="lbBK">&nbsp;</a>
</p><h2>    Виртуальные файловые системы</h2>

Этот пункт меню позволяет задать некоторые параметры кэширования
информации о

виртуальных файловых системах.

<p>

С целью ускорения доступа к файлам Midnight Commander сохраняет в
оперативной памяти информацию, относящуюся к некоторым виртуальным
файловым системам (например, списки файлов в каталогах удаленных ftp
серверов).
</p><p>

Кроме того, для получения доступа к содержимому сжатых архивов
(например, сжатых tar-файлов) Midnight Commander создает временные файлы
на жестком диске.
</p><p>

Поскольку в обоих этих случаях расходуются ресурсы компьютера, у вас
может появиться желание настроить некоторые параметры таким образом,
чтобы уменьшить эти расходы или повысить скорость доступа к часто
используемым файловым системам.
</p><p>

Файловая система архиватора tar очень разумно организует работу с
архивными файлами: она сохраняет на диске структуру каталогов архива и,
когда возникает необходимость обращения к информации из tar-файла,
использует этот список для извлечения нужного файла.
</p><p>

В общем случае tar-файлы обычно хранятся в сжатом виде (простые
tar-файлы - вымирающее явление), и в силу природы таких файлов
(структура подкаталогов для tar-файлов недоступна для мгновенной
загрузки/отображения), файловая система tar должна разархивировать файлы
на диск во временный каталог и затем представить обращение к
разархивированным файлам как обращение к tar-файлу.
</p><p>

А поскольку мы все любим быстро пролистывать файлы и хранить их в виде
tar-архивов, стало самой обычной ситуацией когда сначала просматривают
такой файл, выходят из него, а потом обращаются к нему снова. Поскольку
разархивация - операция медленная, Midnight Commander кеширует
информацию в памяти на некоторое время. По истечении этого интервала
времени все ресурсы, выделенные этой файловой системе, будут
освобождены. По умолчанию величина этого интервала устанавливается
равной 1 минуте. Смотрите также

Файловая система tar.

</p><p>

Файловая система FTP сохраняет список каталогов, полученный с
FTP-сервера, в памяти (в кеше). Время, в течение которого этот список
хранится в кеше, задается опцией
<i>Тайм-аут кеша каталога FTP.</i>

Слишком маленькое значение этого параметра будет замедлять все операции
с файловой системой ftp, потому что каждое обращение к ней будет
означать реальное обращение к удаленному ftp серверу.
</p><p>

Кроме того, в том же диалоговом окне можно задать имя прокси-сервера
(proxy host), который будет использоваться для перекачки файлов по ftp и
сконфигурировать Midnight Commander таким образом, чтобы всегда работать
через прокси-сервер.
</p><p>

<i>Пароль анонимного FTP:</i>

- пароль, используемый когда вы регистрируетесь как анонимный пользователь
"anonymous".  Для некоторых сайтов требуется полноценный электронный адрес,
с другой стороны, вероятно, вы не захотите указывать свой настоящий
электронный адрес для сайтов, которым не доверяете, особенно если 
не используется фильтрация нежелательной корреспонденции.
</p><p>

Также можно разрешить использование файла
<b>~/.netrc</b>,

содержащего имена пользователей и пароли серверов FTP.
Формат файла .netrc описан в .netrc (5).
</p><p>

Смотрите раздел о

файловой системе FTP

для получения дополнительной информации.

<a name="lbBL">&nbsp;</a>
</p><h2>    Сохранение установок</h2>

При загрузке Midnight Commander пытается считать значения различных
установочных параметров из файла
<b>~/.mc/ini</b>.

Если такого файла не существует, необходимая информация ищется в
общесистемном конфигурационном файле
<b>mc.ini</b>.

Этот файл располагается в каталоге, путь к которому можно определить,
запустив команду
<b>mc -f</b>.

(это можно сделать даже из командной строки MC).  Если и этого файла не
существует,
<i>MC</i>

использует установки по умолчанию.
<p>

Команда
<i>Сохранить настройки</i>

создает файл
<b>~/.mc/ini</b>,

в котором записываются текущие значения параметров, задаваемых опциями
меню

Левая, Правая

и

Настройки.

</p><p>

Если вы включите опцию
<i>Автосохранение настроек</i>

(пункт меню "Настройки/Конфигурация"),
<i>MC</i>

будет автоматически сохранять текущие настройки при выходе из программы.
</p><p>

Значения некоторых параметров не могут быть изменены через пункты меню.
Для изменения значений этих параметров вы должны отредактировать файл
настроек с помощью какой-либо программы- редактора. Подробнее об этих
параметрах смотрите в разделе

<i>Специальные установки.</i>


<a name="lbBM">&nbsp;</a>
</p><h2></h2>


<a name="lbBN">&nbsp;</a>
<h2>Выполнение команд операционной системы</h2>

Для того, чтобы во время работы с MC запустить любую команду ОС, вы
должны либо набрать имя соответствующей программы в командной строке,
либо выбрать имя программы в одной из панелей (переместив подсветку на
имя файла программы), а затем нажать клавишу Enter.
<p>

Если вы нажимаете клавишу Enter в тот момент, когда подсветка указывает
на имя файла, не являющегося исполняемым, Midnight Commander сравнивает
расширение выбранного файла с расширениями, прописанными в

файле расширений.

Если в файле расширений найдется подраздел, задающий процедуры обработки
файлов с данным расширением, то обработка файла производится в
соответствии с заданными в этом подразделе командами. Перед обработкой
выполняются простые

макроподстановки.


<a name="lbBO">&nbsp;</a>
</p><h2>  Встроенная команда cd</h2>

Команда
<i>cd</i>

не передается на исполнение оболочке, а интерпретируется самой
программой Midnight Commander. Поэтому при ее запуске возможны не все
удобные макрорасширения и подстановки, доступные в оболочке, а только
часть из них:
<p>

<i>Замена тильды</i>

Символ тильды (~) будет заменен именем вашего домашнего каталога, а если
вы добавите после тильды имя пользователя, эта конструкция будет
заменена на имя домашнего каталога указанного пользователя.
</p><p>

Например, ~guest - это домашний каталог пользователя guest, в то время
как ~/guest - это каталог guest в вашем домашнем каталоге.
</p><p>

<i>Предыдущий каталог</i>

вы можете перейти в предыдущий каталог, используя специальное имя '-',
то есть выполнив команду:
<b>cd -</b>

</p><p>

<i>Каталоги в CDPATH</i>

Если каталог, указанный команде
<b>cd</b>,

не является подкаталогом текущего каталога, то Midnight Commander
использует значение переменной окружения
<b>CDPATH</b>

для поиска указанного каталога во всех каталогах, перечисленных в этой
переменной.
</p><p>

Например, если переменной
<b>CDPATH</b>

присвоено значение
<b>~/src:/usr/src</b>,

то из любого места в файловой системе вы сможете перейти в любой
подкаталог каталогов
<b>~/src</b>

и
<b>/usr/src</b>,

используя только относительные имена (cd linux вызовет переход в
/usr/src/linux).

<a name="lbBP">&nbsp;</a>
</p><h2>  Макроподстановки</h2>

Перед выполнением команд, задаваемых пунктами

пользовательского меню,

вызываемых

по расширению имени файла,

или запускаемых из командной строки ввода, вначале выполняются простые
макроподстановки.
<p>

</p><dl compact="">
<dt><i>%i</i>

</dt><dd>
Отступ из пробелов, равный текущему положению курсора. Только для меню
редактора.
</dd><dt><i>%y</i>

</dt><dd>
Тип синтаксиса текущего файла. Только для меню редактора.
</dd><dt><i>%k</i>

</dt><dd>
Имя файла блока редактора.
</dd><dt><i>%e</i>

</dt><dd>
Имя файла протокола ошибок исполнения сценариев редактора.
</dd><dt><i>%m</i>

</dt><dd>
Имя текущего файла меню.
</dd><dt><i>%f и %p</i>

</dt><dd>
Текущее имя файла.
</dd><dt><i>%x</i>

</dt><dd>
Расширение текущего файла.
</dd><dt><i>%b</i>

</dt><dd>
Имя текущего файла без расширения.
</dd><dt><i>%d</i>

</dt><dd>
Имя текущего каталога.
</dd><dt><i>%F</i>

</dt><dd>
Текущее имя файла в неактивной панели.
</dd><dt><i>%D</i>

</dt><dd>
Имя текущего каталога в неактивной панели.
</dd><dt><i>%t</i>

</dt><dd>
Отмеченные файлы.
</dd><dt><i>%T</i>

</dt><dd>
Файлы, отмеченные в неактивной панели.
</dd><dt><i>%u и %U</i>

</dt><dd>
Подобны макросам %t и %T, но дополнительно снимается отметка с файлов.
Их можно использовать в скриптах, заданных для пункта меню или
ассоциированных с расширением файла, только один раз, поскольку после их
использования помеченных файлов не будет.
</dd><dt><i>%s и %S</i>

</dt><dd>
Выбранные файлы: помеченные файлы, если такие есть; в противном случае
файл, имя которого подсвечено.
</dd><dt><i>%cd</i>

</dt><dd>
Это специальный макрос, используемый для перехода из текущего каталога в
каталог, указанный перед этим макросом. Используется в основном для
обращения к

виртуальным файловым системам.

</dd><dt><i>%view</i>

</dt><dd>
Этот макрос используется для вызова встроенной программы просмотра.
Может использоваться как с аргументами, так и без них. Если заданы
аргументы, они должны быть заключены в фигурные скобки.
</dd><dt></dt><dd>
Аргументами могут быть:
<i>ascii</i>

- для перевода программы просмотра в режим ascii;
<i>hex</i>

- для перевода программы просмотра в режим hex;
<i>nroff</i>

- для указания программе просмотра, что необходимо интерпретировать
выделенные (bold) и подчеркнутые последовательности nroff;
<i>unformatted</i>

- указывает программе просмотра, что не нужно использовать команды
nroff для выделения или подчеркивания текста;
</dd><dt><i>%%</i>

</dt><dd>
Символ %
</dd><dt><i>%{любой текст}</i>

</dt><dd>
Запрос на подстановку. Будет выдаваться окно ввода, а текст из скобок
выводится как подсказка. Макрос заменяется на текст, введенный
пользователем в окне ввода. Пользователь может нажать ESC или F10 для
того, чтобы отказаться от ввода. Этот макрос пока не работает в
командной строке.
</dd><dt><i>%var{ENV-VAR:default}</i>

</dt><dd>
Этот макрос будет заменяться на значение переменной окружения ENV-VAR,
если она установлена, в противном случае будет использовано значение
default. Это подобно конструкции ${VAR-def} в оболочке Борна.

</dd></dl>
<a name="lbBQ">&nbsp;</a>
<h2>  Поддержка subshell</h2>

Поддержка subshell - это опция компиляции, которая работает с оболочками
bash, tcsh и zsh.
<p>

Если поддержка subshell включена, то Midnight Commander будет порождать
точную копию (a concurrent copy) вашей оболочки (которая определена в
переменной окружения
<b>SHELL</b>

или, если эта переменная не определена, в файле /etc/passwd) и запускать
ее в псевдо-терминале, вместо того, чтобы каждый раз вызывать новую
оболочку для выполнения команды. Введенная команда передается subshell.
Это позволяет изменять значения переменных окружения, использовать
функции shell и определять алиасы (aliases), которые будут действовать
до выхода из программы Midnight Commander.
</p><p>

Если вы используете
<b>bash</b>,

можно указать команды, которые будут выполняться при запуске
subshell, в файле
<b>~/.mc/bashrc</b>

и специальную карту раскладки клавиатуры в файле
<b>~/.mc/inputrc.</b>

Пользователи
<b>tcsh</b>

могут задать выполняемые при запуске команды в файле
<b>~/.mc/tcshrc.</b>

</p><p>

Во время выполнения приложения в subshell можно в любой момент нажать
комбинацию клавиш
<b>C-o</b>

для переключения в Midnight Commander (выполняемая команда или
приложение будут остановлены). Если вы прервали таким образом исполнение
команды, вы не сможете запустить другую внешнюю команду, пока не
завершите работу остановленного приложения.
</p><p>

Особенностью использования subshell является то, что подсказка (prompt),
выводимая Midnight Commander будет той же самой, что и в вашей обычной
оболочке.
</p><p>

В разделе

Опции запуска

приведена дополнительная информация о том, как можно управлять
(настроить) subshell.

<a name="lbBR">&nbsp;</a>
</p><h2>Права доступа (Chmod)</h2>

Диалоговое окно "Права доступа" предоставляет удобный интерфейс к
команде chmod - команде изменения атрибутов доступа к файлам и
каталогам. Доступ к этому окну можно получить по "горячей" комбинации
клавиш
<b>C-x c</b>.

<p>

Диалоговое окно "Права доступа" состоит из двух частей -
<i>Права доступа</i>

и
<i>Файл</i>.

</p><p>

В части "Файл" отображается имя файла или каталога и права доступа на
него в восьмеричной форме, а также указаны владелец и группа файла.
</p><p>

В части "Права доступа" перечислены атрибуты прав доступа к текущему
файлу. В квадратных скобках возле соответствующего атрибута крестиком
помечены те атрибуты, которые установлены для данного файла. Изменять
установки атрибутов можно двумя способами. При первом способе
непосредственно изменяется значение атрибута в квадратных скобках возле
его названия. Для изменения значений атрибутов надо переместить
подсветку на название соответствующего атрибута и нажать клавишу
пробела.
</p><p>

Для перемещения подсветки по названиям атрибутов можно использовать
<i>клавиши-стрелки</i>

или клавишу
<i>Tab</i>.

Названия изменяемых атрибутов помечаются звездочкой и предполагаемое
значение всех атрибутов в восьмеричном представлении прав доступа сразу
же отображаются в части окна "Файл".
</p><p>

Для того, чтобы выбранные вами значения атрибутов прав доступа вступили
в силу, надо нажать клавишу Enter или экранную кнопку
<b>[Установить]</b>

(с помощью мышки). Для отказа от изменения атрибутов нужно выбрать
кнопку
<b>[Прервать]</b>.

Вместо выбора экранных кнопок можно воспользоваться "горячими" клавишами
(выделенные буквы в названии атрибута).
</p><p>

Изменять права доступа к отдельному файлу можно только первым
способом (описанным выше). Если вы хотите изменить атрибуты прав
доступа сразу группы файлов или каталогов, вы тоже можете воспользоваться
этим способом, только вместо экранной кнопки
<b>[Установить]</b>

или клавиши &lt;Enter&gt; должны выбрать кнопку
<b>[Установить все].</b>

Второй способ заключается в том, что вы сначала помечаете те атрибуты,
которые хотите изменить, с помощью клавиш &lt;Ins&gt; или &lt;T&gt;. Обратите
внимание, что значение в квадратных скобках при этом не изменяется.
После этого вы выбираете один из следующих вариантов действий (то есть
одну из экранных кнопок):
</p><p>

<b>[Отметить все]</b>

отмеченные атрибуты (и только они) будут установлены в те значения,
которые указаны в квадратных скобках возле названия атрибута, причем для
всех выбранных (помеченных) файлов; если атрибут не был отмечен, его
значение для выбранных файлов не изменяется.
</p><p>

<b>[Установить помеченное]</b>

для всех выбранных файлов бит, соответствующий данному атрибуту, будет
установлен в 1.
</p><p>

<b>[Очистить помеченное]</b>

для всех выбранных файлов бит, соответствующий данному атрибуту, будет
установлен в 0.
</p><p>

<b>[Установить]</b>

будут установлены атрибуты только для одного файла (первого из
помеченных), причем установка производится так же, как по клавише
[Отметить все].
</p><p>

<b>[Прервать]</b>

отказаться от выполнения команды Chmod.

<a name="lbBS">&nbsp;</a>
</p><h2>Владелец/группа (Chown)</h2>

Пункт меню "Владелец/группа" используется для того, чтобы изменить
владельца файла или группу, которая имеет какие-то права на файл.
"Горячая" клавиша для вызова этого пункта меню -
<b>C-x o.</b>


<a name="lbBT">&nbsp;</a>
<h2>Расширенная команда Chown</h2>

Выбрав пункт меню "Расширенная команда Chown", вы увидите окно,
совмещающее в себе окна, появляющиеся при выборе пунктов

Права доступа (Chmod)

и

Владелец/группа (Chown).

В этом окне можно изменить как права доступа к файлу, так и
владельцев файла.

<a name="lbBU">&nbsp;</a>
<h2>Операции с файлами</h2>

Когда вы выполняете операции копирования, перемещения или удаления
файлов, Midnight Commander отображает на экране диалоговое окно, в
котором показано, какой(ие) файл(ы) в данный момент обрабатывается и как
идет процесс обработки. Для отображения процесса обработки на экран
выводится до трех диаграмм-полосок (progress bars). Первая (file bar)
показывает, какая часть текущего файла обработана (например,
скопирована). Вторая (count bar) показывает, какая доля помеченных файлов
обработана на текущий момент. Третья (bytes bar) показывает долю
выполненных работ (в процентах от суммарного объема помеченных файлов).
Если отключена опция "Детали операций" (см. "Настройки/Конфигурация"),
две последних диаграммы не отображаются.
<p>

В нижней части этого диалогового окна имеются две кнопки. Нажатие на
кнопку &lt;Пропустить&gt; приведет к тому, что будет пропущена обработка
текущего файла. Нажатие на кнопку &lt;Прервать&gt; прерывает выполнение
заданной операции, все оставшиеся файлы будут пропущены.
</p><p>

В процессе выполнения файловых операций вы можете увидеть окна еще трех
видов.
</p><p>

Окно ошибок информирует об ошибке и предлагает три варианта продолжения.
Обычно вы выбираете либо вариант &lt;Пропустить&gt; для того, чтобы исключить
из обработки файл, на котором споткнулась программа, либо &lt;Прервать&gt;,
чтобы вообще отменить выполнение заданной операции. Третий вариант,
&lt;Повторить&gt;, выбирается тогда, когда вам удалось устранить причину сбоя
(например, воспользовавшись другим терминалом).
</p><p>

Окно подтверждения перезаписи появляется тогда, когда вы пытаетесь
переписать существующий файл. В этом окне отображаются время создания и
размер файла-источника и файла-приемника (то есть перезаписываемого
файла, который фактически будет уничтожен). Ниже выведены два вопроса.
На первый вопрос ("Переписать этот файл?") предлагается три варианта
ответа:
</p><p>

согласиться (кнопка &lt;Да&gt;);
</p><p>

отказаться, то есть пропустить перезапись текущего файла (кнопка &lt;Нет&gt;);
</p><p>

дописать содержимое файла-источника в конец файла-приемника (кнопка
&lt;дописать в Конец&gt;).
</p><p>

Выбор одного из вариантов ответа на второй вопрос ("Переписать все
файлы?") позволяет принять одно решение по всем выбранным для обработки
файлам (чтобы окно запроса не появлялось каждый раз). Предлагается 4
варианта решения:
</p><dl compact="">
<dt><i>&lt;Все&gt;</i>

</dt><dd>
перезаписались без дополнительных вопросов все выбранные файлы;
</dd><dt><i>&lt;Устаревшие&gt;</i>

</dt><dd>
перезапишутся (затрутся) только файлы, которые созданы раньше
файла-источника;
</dd><dt><i>&lt;ни Одного&gt;</i>

</dt><dd>
не перезаписывать файлы (но если не существует файла-приемника, то
копирование источника будет произведено);
</dd><dt><i>&lt;Различающиеся по длине&gt;</i>

</dt><dd>
Вы можете отказаться от выполнения операции, если нажмете клавишу
&lt;Прервать&gt; в нижней части окна запроса. Выбор экранной кнопки
производится клавишами стрелок или клавишей табуляции.
</dd></dl>
<p>

Окно запроса на рекурсивное удаление появляется в том случае, когда вы
пытаетесь удалить непустой каталог. По кнопке &lt;Да&gt; каталог будет удален
вместе со всеми файлами, &lt;Нет&gt; означает отказ от удаления каталога,
&lt;Все&gt; надо выбирать, если вы отметили группу подкаталогов для удаления и
уверены в своем выборе, &lt;ни Одного&gt; - чтобы пропустить все непустые
каталоги из числа помеченных, &lt;Прервать&gt; означает отказ от выполнения
операции удаления. Выбирайте &lt;Да&gt; или &lt;Все&gt; только в том случае, когда
вы действительно уверены, что хотите удалить каталог со всеми вложенными
подкаталогами.
</p><p>

Если вы пометили для обработки группу файлов, то после выполнения
операции будет снята отметка только с тех файлов, которые успешно
обработаны. Пропущенные файлы останутся помеченными.

<a name="lbBV">&nbsp;</a>
</p><h2>Маски файлов для операций копирования/переименования</h2>

При выполнении операций копирования и перемещения (или переименования)
файлов вы имеете возможность изменить имена копируемых или перемещаемых
файлов. Для этого вы должны задать маску для имен файлов-источников и
маску для имен файлов, которые будут созданы (файлы-приемники). Обычно
эта вторая маска представляет собой несколько символов замены
(wildcards) в конце строки, определяющей место назначение создаваемых
файлов. Все файлы, удовлетворяющие маске источника, будут переименованы
(скопированы или перемещены с новыми именами) в соответствии с маской
файла-приемника. Если имеются помеченные файлы, то копируются
(перемещаются) только помеченные файлы, удовлетворяющие заданной маске
для файлов-источников.
<p>

Есть еще несколько опций, которые влияют на выполнение операций
копирования/перемещения файлов, и которые устанавливаются в том же окне
запроса, где задаются маски имен файлов:
</p><p>

"Разыменовывать ссылки" (Follow links) определяет, будут ли при
копировании жестких или символических ссылок в каталоге- приемнике (и
рекурсивно в подкаталогах) создаваться такие же ссылки, или будут
копироваться файлы (и подкаталоги), на которые эти ссылки указывают.
</p><p>

"Внутрь каталога, если есть" (Dive into subdirs) определяет, что делать,
если в каталоге-приемнике уже существует подкаталог, имя которого
совпадает с именем файла (каталога), который копируется (источника). По
умолчанию (опция отключена) содержимое каталога-источника копируется в
каталог-приемник. Если опция включена, то в каталоге приемнике будет
создан новый подкаталог с тем же именем, в который и будет
осуществляться копирование. Лучше показать это на примере:
</p><p>

Пусть вы хотите скопировать содержимое каталога foo в каталог /bla/foo,
который уже существует. Обычно (опция отключена) mc будет просто
копировать все файлы из foo в /bla/foo. Если опцию включить, копирование
файлов будет производиться в /bla/foo/foo.
</p><p>

"Сохранять атрибуты" (Preserve attributes) определяет, будут ли при
копировании/перемещении сохранены атрибуты исходного файла: права
доступа, временные метки и, если вы root, UID и GID исходного файла.
Если опция отключена, атрибуты будут установлены в соответствии с
текущим значением umask.
</p><p>

Опция
<b>Образцы в стиле shell</b>

включена.
</p><p>

Когда опция
<b>Образцы в стиле shell</b>

включена, можно использовать символы замены (wildcards) '*' и '?' в
маске источника. Они обрабатываются аналогично тому, как это делается в
shell. В маске приемника разрешается использовать только '*' и
'\&lt;цифра&gt;'. Первый символ '*' в маске приемника соответствует первой
группе символов замены в маске источника, второй символ '*'
соответствует второй группе и т.д. Аналогично, символ замены '\1'
соответствует первой группе символов замены в маске источника, символ
'\2' - второй группе и т.д. до '\9'. Символ '\0' соответствует
целому имени файла-источника.
</p><p>

Два примера:
</p><p>

Если маска источника "*.tar.gz", а приемник - "/bla/*.tgz" и имя
копируемого файла - "foo.tar.gz", копия будет называться "foo.tgz" и
будет находиться в каталоге "/bla".
</p><p>

Предположим вы хотите поменять местами имя и расширение файла, так чтобы
"file.c" стал файлом "c.file". Маска источника для этого должна иметь
вид "*.*", а маска приемника - "\2.\1".
</p><p>

Опция
<b>Образцы в стиле shell</b>

выключена.
</p><p>

Когда опция
<b>Образцы в стиле shell (Use shell patterns)</b>

выключена, MC не осуществляет автоматической группировки. Для указания
групп символов в маске источника, которые будут соответствовать символам
замены в маске приемника, вы должны в этом случае использовать скобки
\
(...\)'. Этот способ более гибкий, но требует больше усилий при
вводе.
</p><p>

Два примера:
</p><p>

Если маска источника имеет вид "^\(.*\)\.tar\.gz$", копирование
производится в "/bla/*.tgz" и копируется файл "foo.tar.gz", то
результатом будет "/bla/foo.tgz".
</p><p>

Предположим, что вы хотите поменять местами имя файла и его расширение,
так чтобы имена вида "file.c" приняли вид "c.file". Маска источника для
этого - "^\(.*\)\.\(.*\)$", а маска приемника - "\2.\1".
</p><p>

<b>Преобразование регистра</b>

</p><p>

Вы можете также преобразовать регистр символов в именах файлов. Если вы
используете '\u' или '\l' в маске приемника, то следующий символ имени
будет образован в верхнем (заглавные символы) или нижнем (строчные)
регистре соответственно.
</p><p>

Если использовать в маске приемника '\U' или '\L', то к
соответствующему регистру будут преобразованы все последующие символы,
вплоть до следующего вхождения '\E' или '\U', появления символа '\L'
или конца имени файла.
</p><p>

Применение '\u' и '\l' обеспечивает более широкие возможности, чем
\
U' и '\L'.
</p><p>

Например, если маска источника есть '*' (опция "Образцы в стиле shell"
включена) или '^\(.*\)$' (опция "Образцы в стиле shell" выключена), а
маска приемника есть '\L\u*', имена файлов будут преобразованы таким
образом, что первые буквы имени будут заглавными, а все остальные -
строчными.
</p><p>

Символ '\' в масках используется для отмены специальной интерпретации
отдельных символов. Например, '\\' означает просто backslash и '\*'
означает просто звездочку (asterisk).

<a name="lbBW">&nbsp;</a>
</p><h2>Встроенная программа просмотра файлов</h2>

Встроенная программа просмотра файлов имеет два режима просмотра: режим
ASCII и шестнадцатеричный (hex). Для переключения режимов используется
клавиша F4. Если у вас установлена программа gzip проекта GNU, она будет
использована для автоматического просмотра сжатых файлов.
<p>

Встроенная программа просмотра всегда пытается использовать для
отображения информации лучший из методов, предоставляемых вашей системой
для данного типа файла. Некоторые последовательности символов
интерпретируются для задания таких атрибутов, как жирный шрифт и
подчеркивание, обеспечивая более наглядное представление информации.
</p><p>

В шестнадцатеричном режиме функция поиска позволяет задать строку поиска
как в обычном текстовом виде (заключенном в кавычки), так и в виде
шестнадцатеричных констант. Можно даже одновременно использовать в
шаблоне поиска как ту, так и другую форму представления, например:
</p><p>

</p><pre>"String" -1 0xBB 012 "more text"
</pre>

<p>

Обратите внимание, что 012 является восьмеричным числом, -1
преобразовывается в 0xFF, а текст между кавычками и константами
игнорируется.
</p><p>

Некоторые детали внутренней реализации программы просмотра: на системах,
которые предоставляют системный вызов <a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=mmap&amp;category=2">mmap</a>(2) программа отображает файл
в память вместо его загрузки; иначе, а также если при вызове mmap
возникает сбой или c файлом связано некоторое действие, которое требует
фильтр, программа использует динамически распределяемые буфера памяти,
загружая только те части файла, к которым вы обращаетесь (это относится
к архивированным файлам).
</p><p>

Ниже приводится перечень всех клавиш и их комбинаций, с которыми
ассоциированы некие действия встроенной программы просмотра.
</p><p>

<b>F1</b>

Вызывает просмотр встроенной гипертекстовой подсказки.
</p><p>

<b>F2</b>

Переключает режим переноса строки.
</p><p>

<b>F4</b>

Переключает между ASCII и шестнадцатеричным режимами.
</p><p>

<b>F5</b>

Переход к строке по номеру. Будет запрошен номер строки, к просмотру
которой вы хотите перейти.
</p><p>

<b>F6</b>, <b>/</b>

Поиск по регулярному выражению.
</p><p>

<b>?</b>

Поиск назад по регулярному выражению.
</p><p>

<b>F7</b>

Вызов диалогового окна для задания шаблона поиска для обычного и
шестнадцатеричного поиска.
</p><p>

<b>C-s, F17, n</b>

Если шаблон поиска еще не задан, вызывается диалоговое окно для его
задания, иначе повторяется поиск (дальше по тексту) в соответствии с
ранее определенным шаблоном.
</p><p>

<b>C-r</b>

То же, что и
<b>C-s</b>,

но поиск производится в обратном направлении.
</p><p>

<b>n</b>

Найти следующее совпадение.
</p><p>

<b>F8</b>

Переключение между режимами Raw/Parsed: файл отображается либо в том
виде, как он записан на диске, либо пропущенным через фильтр, который
задан для этого типа файлов в mc.ext. Текущий режим отображения всегда
обратный по отношению к тому, который указан на экранной кнопке F8,
поскольку на кнопке указывается режим, к которому осуществляется переход
по данной кнопке.
</p><p>

<b>F9</b>

Переключение между режимами отображения текста в форматированном и
неформатированном виде: в режиме отображения форматированного текста
некоторые последовательности символов отображаются другим цветом для
выделения жирного и подчеркнутого шрифта. Как и в предыдущем случае, на
кнопке указан режим, обратный по отношению к текущему.
</p><p>

<b>F3, F10, Esc, q</b>

Выйти из встроенной программы просмотра.
</p><p>

<b>PageDown, пробел, C-v</b>

Переместиться на страницу вперед.
</p><p>

<b>PageUp, M-v, backspace.</b>

Переместиться на страницу назад.
</p><p>

<b>стрелка вниз</b>

Переместиться на одну строку вперед.
</p><p>

<b>стрелка вверх</b>

Переместиться на одну строку назад.
</p><p>

<b>C-l</b>

Обновить изображение на экране.
</p><p>

<b>C-o</b>

Переключиться в subshell и показать окно команд.
</p><p>

<b>!</b>

Запустить новый экземпляр оболочки в текущем каталоге (временный выход в
shell, возврат в программу просмотра по
<b>C-d</b>).

</p><p>

<b>[n] m</b>

Установить метку с номером n (кавычки не вводятся).
</p><p>

<b>[n] r</b>

Переместиться к метке с номером n.
</p><p>

<b>C-f</b>

Перейти к просмотру следующего файла текущего каталога.
</p><p>

<b>C-b</b>

Перейти к просмотру предыдущего файла в текущем каталоге.
</p><p>

<b>M-r</b>

Переключение режима отображения линейки (вверху/внизу/отключена).
</p><p>

Можно настроить режимы отображения файлов встроенной программой
просмотра, воспользовавшись

файлом расширений.


<a name="lbBX">&nbsp;</a>
</p><h2>Встроенный редактор</h2>

Встроенный редактор обеспечивает выполнение большинства функций
редактирования, присущих полноэкранным редакторам текста. Он вызывается
нажатием клавиши
<b>F4</b>

при условии, что в инициализационном файле установлена в 1 опция
<i>use_internal_edit</i>.

Размер редактируемого файла не может превышать 16 Мегабайт. С помощью
этого редактора можно редактировать двоичные файлы без потери данных.
<p>

Поддерживаются следующие возможности: копирование, перемещение,
удаление, вырезание и вставка блоков текста; отмена предыдущих операций
<i>(key for key undo);</i>

выпадающие меню; вставка файлов; макроопределения; поиск и замена по
регулярным выражениям (а также собственный вариант операций поиска и
замены, основанный на функциях scanf-printf); выделение текста по
комбинации клавиш shift-стрелки в стиле MSW-MAC (только для
linux-консоли); переключение между режимами вставки-замены символа; а
также операция обработки блоков текста командами оболочки (an option to
pipe text blocks through shell commands like indent).
</p><p>

Редактор очень прост и практически не требует обучения. Для того, чтобы
узнать, какие клавиши вызывают выполнение определенных действий,
достаточно просмотреть выпадающие меню, которые вызываются нажатием
клавиши F9 в окне редактора. Не перечисленные в меню комбинации клавиш:
<b>Shift-&lt;клавиши стрелок&gt;</b>

выделение блока текста.
<b>Ctrl-Ins</b>

копирует блок в файл
<b>cooledit.clip</b>.

<b>Shift-Ins</b>

производит вставку последнего скопированного в cooledit.clip блока в
позицию курсора.
<b>Shift-Del</b>

удаляет выделенный блок текста, запоминая его в файле
<b>cooledit.clip</b>.

По клавише Enter вставляются символы конца строки, причем на следующей
строке автоматически устанавливается отступ. Работает выделение текста с
помощью мыши, причем если удерживать клавишу Shift, то управление мышью
осуществляется терминальным драйвером мыши.
</p><p>

Для того, чтобы определить макрос, нажмите
<b>Ctrl-R</b>,

после чего введите строки команд, которые должны быть выполнены. После
завершения ввода команд снова нажмите
<b>Ctrl-R</b>

и свяжите макрос с какой-нибудь клавишей или комбинацией клавиш, нажав
эту клавишу (комбинацию). Макрос будет вызываться нажатием
<b>Ctrl-A</b>

и назначенной для него клавиши. Макрос можно также вызвать нажатием
любой из клавиш Meta (Alt), Ctrl, или Esc и назначенной макросу клавиши,
при условии, что данная комбинация не используется для вызова какой-либо
другой функции. Макрокоманды после определения записываются в файл
<b>.mc/cedit/cooledit.macros</b>

в вашем домашнем каталоге. Вы можете удалить макрос удалением
соответствующей строки в этом файле.
</p><p>

По клавише
<b>F19</b>

(ее нет на обычной клавиатуре IBM PC, так что придется пользоваться
соответствующим пунктом меню, вызываемым по клавише F9, или
переназначить клавишу) будет осуществляться форматирование выделенного
блока кода на языке C, C++ или других. Форматирование управляется файлом
<b>/usr/share/mc/edit.indent.rc</b>

который при первом вызове копируется в
<b>.mc/cedit/edit.indent.rc</b>

в вашем домашнем каталоге.
</p><p>

Вы можете использовать функции поиска и замены scanf для поиска и замены
в соответствии с шаблонами формата языка C. Вначале посмотрите
man-страницы
<b>sscanf</b>

и
<b>sprintf</b>,

чтобы узнать, что такое шаблоны формата и как они работают. Приведем
пример: предположим, вы хотите заменить все вхождения блоков текста,
состоящих из открывающей скобки, трех разделенных запятыми чисел, и
закрывающей скобки, на блок, состоящий из слова
<i>apples</i>,

третьего числа исходного блока, слова
<i>oranges</i>

и потом второго числа из исходного блока. Тогда в диалоговом окне,
которое появится при вызове команды замены (F4), надо задать следующие
шаблоны:
</p><p>

</p><pre> Enter search string
(%d,%d,%d)
 Enter replace string
apples %d oranges %d
 Enter replacement argument order
3,2
</pre>

<p>

Последняя из этих строк говорит, что третье и второе число должны быть
подставлены на места первого и второго аргументов.
</p><p>

Рекомендуется все же при осуществлении замены пользоваться опцией
"спрашивать подтверждение" ("Prompt on replace"), потому что программа
считает совпадениями все случаи, когда число аргументов совпадает с
заданным, хотя это не всегда означает полное совпадение. Scanf также не
обращает внимания на количество символов пробела.
</p><p>

Встроенный редактор обрабатывает символы из второй половины кодовой
таблицы (160+). Но когда редактируете бинарные файлы, лучше установить
опцию
<b>Биты символов (Display bits)</b>

из меню "Настройки" в положение "7 бит", чтобы сохранить формат файла
(to keep the spacing clean).
</p><p>

Описать все функции встроенного редактора в данной подсказке невозможно.
Запомните только, что все основные операции можно выполнить через пункты
меню, которое вызывается нажатием клавиши
<b>F9</b>

в окне редактирования. Кроме того, можно прочитать man-страницу по
команде
<b>man mcedit</b>

или
<b>info mcedit</b>


<a name="lbBY">&nbsp;</a>
</p><h2>Завершение ввода (Completion)</h2>

Заставьте Midnight Commander работать на клавиатуре вместо вас!
<p>

Завершение ввода - это попытка закончить за вас ввод текста, набранного
до текущей позиции курсора. MC пытается завершить ввод, трактуя уже
введенный текст как переменную (если текст начинается с
<b>$</b>),

имя пользователя (если текст начинается с
<b>~</b>),

имя машины (если текст начинается на
<b>@</b>)

или как команду (если вы в командной строке в позиции, где вы можете
вводить команду; в этом случае для завершения ввода используются
зарезервированные слова оболочки, в том числе любая из встроенных команд
оболочки). Если введенный текст не попадает ни в одну из перечисленных
категорий, выполняется попытка завершения текста как имени файла.
</p><p>

Завершение имен файлов, пользователей, переменных и машин работает во
всех строках ввода, завершение команд - только в командной строке. Если
однозначно выполнить завершение ввода невозможно (имеется несколько
вариантов), MC издает звуковой сигнал и выполняет следующие действия, в
зависимости от установки опции
<i>Дополнение: показывать все</i>

в пункте меню

Настройки/Конфигурация.

Если эта опция включена, список всех возможных вариантов завершения
появляется возле текущей позиции и вы можете выбрать нужный вариант с
помощью клавиш стрелок и
<b>Enter</b>.

Вы можете также набрать следующую букву, чтобы перейти к подмножеству
всех возможных завершений. Если вы снова нажмете
<b>M-Tab</b>,

будет выведено уже сокращенное множество вариантов, причем в строку
ввода добавляются те символы, которые определяются однозначно (даже если
полное завершение ввода еще невозможно). Как только неопределенность
выбора исчезает, пропадает и диалоговое окно с вариантами. Вы можете
отказаться от вывода на экран этого окна в любое время, нажав одну из
клавиш
<b>Esc</b>, <b>F10</b>

или стрелку влево / вправо. Если опция

<i>Дополнение: показывать все</i>


отключена, окно с вариантами завершения появляется только тогда, когда
вы нажмете клавиши
<b>M-Tab</b>

второй раз, при первом нажатии MC только издает звуковой сигнал.

<a name="lbBZ">&nbsp;</a>
</p><h2>Виртуальные файловые системы</h2>

Программа Midnight Commander содержит подпрограммы, обеспечивающие
доступ к различным файловым системам. Эти подпрограммы (их совокупность
называется переключателем виртуальных файловых систем - virtual file
system switch) позволяют Midnight Commander-у манипулировать файлами,
расположенными на не-Unix-овых файловых системах.
<p>

В настоящее время Midnight Commander обеспечивает поддержку нескольких
Виртуальных Файловых Систем - ВФС (VFS):
<br>

- локальной файловой системы, используемой для обычных файловых систем
Unix;
<br>

- файловой системы ftpfs, используемой для манипулирования файлами на
удаленных компьютерах по протоколу FTP;
<br>

- файловой системы tarfs, используемой для обработки tar- и сжатых
tar-файлов;
<br>

- файловой системы undelfs, используемой для восстановления удаленных
файлов в файловой системе ext2 (файловая система, используемая в Linux
по умолчанию);
<br>

- файловой системы fish (для манипулирования файлами при работе с
оболочкой через такие программы как rsh и ssh);
<br>

- и, наконец, сетевой файловой системы nfs.
<br>

MC может быть собран с поддержкой файловой системы smbfs, используемой
для манипулирования файлами на удаленных компьютерах по протоколу SMB
(CIFS).
</p><p>

Подпрограммы работы с виртуальными файловыми системами интерпретируют
все встречающиеся имена путей и формируют корректные обращения к
различным файловым системам. Форматы обращения к каждой из виртуальных
файловых систем описаны в отдельных разделах по каждой ВФС:
</p><dl compact="">
<dt></dt><dd>

Файловая система ftpfs (FTP File System)

<br>


Файловая система tar

<br>


Файловая система FISH (FIle transfer over SHell)

<br>


Файловая система NFS (Network File System)

<br>


Файловая система UFS (Undelete File System)

<br>


Файловая система smbfs


</dd></dl>
<a name="lbCA">&nbsp;</a>
<h2>Файловая система ftpfs (FTP File System)</h2>

Файловая система ftpfs позволяет работать с файлами на удаленных
компьютерах. Для этого можно использовать команду "FTP-соединение"
(доступную из меню левой и правой панелей) или же непосредственно
сменить текущий каталог командой cd, задав путь к каталогу следующим
образом:
<p>

<i>/#ftp:[!][user[:pass]@]machine[:port][remote-dir]</i>

</p><p>

Элементы
<i>user</i>, <i>port</i>

и
<i>remote-dir</i>

не обязательны. Если элемент
<i>user</i>

указан, то Midnight Commander будет пытаться регистрироваться на
удаленном компьютере с эти именем, в противном случае будет использовано
имя anonymous или имя из файла ~/.netrc.
Необязательный элемент
<i>pass</i>

(если указан) используется как пароль для входа. Однако явно задавать
его не рекомендуется (также не записывайте его в ваши hotlist, если
только вы не обеспечили соответствующую защиту этих файлов; но и тогда
нельзя быть полностью уверенным в безопасности).
</p><p>

</p><pre>    /#ftp:<a href="ftp://ftp.nuclecu.unam.mx">ftp.nuclecu.unam.mx</a>/linux/local
    /#ftp:tsx-11.mit.edu/pub/linux/packages
    /#ftp:!behind.firewall.edu/pub
    /#ftp:<a href="mailto:guest@remote-host.com">guest@remote-host.com</a>:40/pub
    /#ftp:miguel:<a href="mailto:xxx@server">xxx@server</a>/pub
</pre>

<p>

Для того, чтобы соединиться с сервером, который расположен за firewall,
нужно использовать префикс /#ftp:! (то есть добавить восклицательный
знак перед именем сервера), чтобы указать Midnight Commander на
необходимость использовать прокси для осуществления передач по ftp. Вы
можете задать имя прокси в диалоговом окне

Виртуальные ФС...

меню "Настройки".
</p><p>

Чтобы не задавать имя прокси-сервера каждый раз, можно поставить отметку
в квадратных скобках возле опции
<i>Всегда использовать FTP прокси</i>

в диалоговом окне

Виртуальные ФС...

меню "Настройки". В таком случае программа всегда будет использовать
указанный прокси-сервер. При этом (если опция установлена) программа
делает следующее: считывает из файла
<b>/usr/share/mc/mc.no_proxy</b>

имена локальных машин (если имя начинается с точки, оно считается именем
домена), и, если заданное при установлении FTP-соединения имя машины
совпадает с одним из имен, указанных в файле
<b>mc.no_proxy</b>

без точки, то производит прямое обращение к данной машине.
</p><p>

При подключении к ftp-серверу через фильтрующий пакеты
маршрутизатор (If you are using the ftpfs code with a filtering packet
router), который не позволяет использовать обычный режим открытия
файлов, можно заставить программу работать в режиме пассивного
открытия файла (the passive-open mode). Для этого установите в
инициализационном файле опцию
<i>ftpfs_use_passive_connections</i>

в 1.
</p><p>

Midnight Commander сохраняет в течение заданного интервала времени
список файлов удаленного каталога, прочитанный по FTP, в оперативной
памяти. Величина этого интервала времени задается в диалоговом окне

Виртуальные ФС...

меню "Настройки". В силу этого возможен побочный эффект, заключающийся в
том, что даже если вы сделали какие-то изменения в каталоге, они не
будут отображаться в панели до тех пор, пока вы не обновите содержимое
панели командой
<b>C-r</b>.

Это не является недоработкой (если вы думаете, что это ошибка,
поразмыслите над тем, как происходит работа по FTP с файлами,
находящимися на другой стороне Атлантического океана).

<a name="lbCB">&nbsp;</a>
</p><h2>Файловая система tar</h2>

Файловая система tar обеспечивает доступ по чтению к tar- и сжатым
tar-файлам, используя команду chdir. Для перехода в каталог,
представляющий список файлов tar-файла, нужно использовать команду,
имеющую следующий формат:
<p>

<i>cd ./filename.tar#utar/[dir-inside-tar]</i>

</p><p>

Файл mc.ext по умолчанию содержит команды для просмотра
tar-файлов, то есть обычно для получения списка файлов tar-архива
достаточно  просто переместить указатель на имя tar-файла и нажать
Enter. Чтобы понять, как это достигается, смотрите раздел

Файл расширений.

</p><p>

Примеры:
</p><p>

</p><pre>    mc-3.0.tar.gz#utar/mc-3.0/vfs
    /ftp/GCC/gcc-2.7.0.tar#utar
</pre>

<p>

В последнем примере указан полный путь к tar-архиву.

<a name="lbCC">&nbsp;</a>
</p><h2>  Файловая система FISH (FIle transfer over SHell)</h2>

Файловая система fish - это сетевая файловая система, которая позволяет
работать с файлами на удаленном компьютере так, как если бы они были
расположены на вашем диске. Для того, чтобы это было возможно, на
удаленном компьютере должен быть запущен fish-сервер, или
bash-совместимая оболочка shell.
<p>

Для соединения с удаленным компьютером нужно выполнить команду
перехода в каталог (chdir), имя которого задается в следующем формате:
</p><p>

<i>/#sh:[user@]machine[:options]/[remote-dir]</i>

</p><p>

Элементы
<i>user</i>, <i>options</i>

и
<i>remote-dir</i>

не обязательны. Если задан элемент
<i>user</i>,

то Midnight Commander будет регистрироваться на удаленный компьютер под
этим именем, в противном случае - под тем именем, с которым вы
зарегистрированы в локальной системе.
</p><p>

В качестве
<i>options</i>

могут использоваться:
</p><pre>  'C' - использовать сжатие и
  'r' - использовать rsh вместо ssh.
</pre>

Если задан элемент
<i>remote-dir</i>,

то указанный каталог станет текущим после соединения с удаленным
компьютером.
<p>

Примеры:
</p><p>

</p><pre>    /#sh:onlyrsh.mx:r/linux/local
    /#sh:<a href="mailto:joe@want.compression.edu">joe@want.compression.edu</a>:C/private
    /#sh:<a href="mailto:joe@noncompressed.ssh.edu">joe@noncompressed.ssh.edu</a>/private
</pre>


<a name="lbCD">&nbsp;</a>
<h2>  Файловая система NFS (Network File System)</h2>

Файловая система mc - это еще одна сетевая файловая система, которая
позволяет работать с файлами на удаленном компьютере. Для того, чтобы
можно было воспользоваться этой ФС, на удаленном компьютере должна быть
запущена серверная программа
<b><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=mcserv&amp;category=8">mcserv</a>(8)</b>.

<p>

Для соединения с удаленным компьютером нужно выполнить команду
перехода в каталог, имя которого строится в соответствии со следующим
форматом:
</p><p>

<i>/#mc:[user@]machine[:port][remote-dir]</i>

</p><p>

Элементы
<i>user</i>, <i>port</i>

и
<i>remote-dir</i>

не обязательны.
</p><p>

Если задан элемент
<i>user</i>,

то Midnight Commander будет регистрироваться на удаленный компьютер под
этим именем, в противном случае - под тем именем, с которым вы
зарегистрированы в локальной системе.
</p><p>

Элемент
<i>port</i>

используется в том случае, если удаленный компьютер использует
специальный порт (чтобы узнать, что такое порт и как его использовать,
смотрите страницу руководства
<b><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=mcserv&amp;category=8">mcserv</a>(8)</b>.

Если задан элемент
<i>remote-dir</i>,

то указанный каталог станет текущим после соединения с удаленным
компьютером.
</p><p>

Примеры:
</p><p>

</p><pre>    /#mc:<a href="ftp://ftp.nuclecu.unam.mx">ftp.nuclecu.unam.mx</a>/linux/local
    /#mc:<a href="mailto:joe@foo.edu">joe@foo.edu</a>:11321/private
</pre>


<a name="lbCE">&nbsp;</a>
<h2>  Файловая система UFS (Undelete File System)</h2>

В ОС Linux можно сконфигурировать файловую систему ext2fs, используемую
по умолчанию, таким образом, что появится возможность восстанавливать
удаленные файлы (но только в файловой системе ext2). Файловая система
UFS (Undelete File System) представляет собой интерфейс к библиотекам
ext2fs, позволяющий восстановить имена всех удаленных файлов, выбрать
некоторое количество таких файлов и восстановить их.
<p>

Для того, чтобы воспользоваться этой возможностью (этой файловой
системой), нужно выполнить команду перехода (chdir) в специальный
каталог, имя которого образуется из префикса  "/#undel" и имени
специального файла устройства, на котором находится реальная файловая
система.
</p><p>

Например, чтобы восстановить удаленные файлы на втором разделе первого
SCSI-диска, нужно использовать следующее имя:
</p><p>

</p><pre>    /#undel:sda2
</pre>

<p>

Загрузка списка удаленных файлов требует некоторого времени, так что
наберитесь терпения. Имейте в виду, что имена файлов в полученном списке
будут цифровыми, так что поиск нужного придется проводить либо по дате,
либо последовательным просмотром содержимого (в общем, я вам не
завидую!).

<a name="lbCF">&nbsp;</a>
</p><h2>  Файловая система smbfs</h2>

Файловая система smbfs позволяет работать с файлами на удаленных
компьютерах по протоколу SMB (CIFS) (Windows for Workgroups, Windows
9x/ME/XP, Windows NT, Windows 2000 и Samba). Для этого можно
использовать пункт "SMB связь..." (доступный из меню левой и правой
панелей) или же непосредственно сменить текущий каталог командой cd,
задав путь к каталогу следующим образом:
<p>

<i>/#smb:[username@]machine[/service][/remote-dir]</i>

</p><p>

Элементы
<i>username</i>, <i>service</i>

и
<i>remote-dir</i>

необязательны.
<i>username</i>, <i>domain</i>

и
<i>password</i>

могут быть указаны в окне диалога.
</p><p>

Примеры:
</p><p>

</p><pre>    /#smb:machine/Share
    /#smb:other_machine
    /#smb:<a href="mailto:guest@machine">guest@machine</a>/Public/Irlex
</pre>


<a name="lbCG">&nbsp;</a>
<h2>Цвета</h2>

Программа Midnight Commander пытается определить, поддерживает ли ваш
терминал цвета, используя для этого базу данных о терминалах и имя
вашего терминала. Иногда это не удается. В таких случаях можно
включить или отключить цветной вывод, используя ключи запуска программы
-c и -b, соответственно.
<p>

Программа может быть скомпилирована с использованием библиотек
<b>ncurses</b>

или
<b>slang</b>.

<b>ncurses</b>

не дает возможности включать цветной режим: ncurses использует только
информацию из базы данных о терминалах. Для того, чтобы узнать, какая
библиотека была использована при компиляции, дайте команду
<b>mc -V</b>.

</p><p>

Если программа скомпилирована с использованием менеджера экрана
<b>S-Lang</b>,

она проверяет значение переменной
<b>COLORTERM</b>.

Задание этой переменной дает тот же эффект, что и задание ключа -c.
</p><p>

Можно указать терминалы, которые всегда должны работать в цветном
режиме, добавив строку
<i>color_terminals</i>

в секцию Colors инициализационного файла. В этом случае Midnight
Commander не будет пытаться определить, поддерживает ли ваш терминал
цветной вывод. Пример:
</p><p>

</p><pre>[Colors]
color_terminals=linux,xterm
</pre>

<pre>color_terminals=terminal-name1,terminal-name2...
</pre>

<p>

Midnight Commander обеспечивает также возможность изменять цвета,
заданные по умолчанию. В настоящее время таблица используемых цветов
задается переменной
<b>MC_COLOR_TABLE</b>

или в секции Colors инициализационного файла.
</p><p>

В секции Colors загружаемая по умолчанию таблица цветов определяется
переменной (строкой)
<i>base_color</i>.

Вы можете указать альтернативную таблицу цветов для терминала, используя
имя терминала как ключ в этой секции. Пример:
</p><p>

</p><pre>[Colors]
base_color=
xterm=menu=magenta:marked=,magenta:markselect=,red
</pre>

<p>

Формат определения цвета:
</p><p>

</p><pre>  &lt;keyword&gt;=&lt;foregroundcolor&gt;,&lt;backgroundcolor&gt;:&lt;keyword&gt;= ...
</pre>

<p>

Цвета не являются обязательными, а в качестве ключевых слов (keywords)
могут использоваться: для задания цветовой палитры в панелях: normal,
selected, marked, markselect, errors, input, reverse, gauge; Цвета
пунктов меню:  menu, menusel, menuhot, menuhotsel; Цвета в окне диалога:
dnormal, dfocus, dhotnormal, dhotfocus; Цвета в окне подсказки:
helpnormal, helpitalic, helpbold, helplink, helpslink; в окне программы
просмотра:  viewunderline; специальные подсветки: executable, directory,
link, device, special, core; в окне редактора: editnormal, editbold,
editmarked.
</p><p>

Цвета задавать не обязательно. Цвет какого именно поля определяется
каждым ключевым словом, можно понять из перевода этого ключевого слова.
Некоторые случаи требуют пояснений.
</p><p>

<i>input</i>

определяет цвета в строке ввода в диалоговых окнах.
</p><p>

<i>gauge</i>

определяет цвет заполненной части полоски (progress bar), при
графическом отображении хода выполнения файловых операций (копирование и
др.).
</p><p>

Диалоговые окна используют следующие цвета:
<i>dnormal</i>

используется для нормального текста,
<i>dfocus</i>

- цвет, используемый
для выделенного в данный момент компонента окна,
<i>dhotnormal</i>

- цвет, используемый для выделения "горячих" клавиш в обычных
компонентах, в то время как цвет
<i>dhotfocus</i>

используется для выделения "горячих" клавиш в выбранных в данный момент
компонентах окна.
</p><p>

В меню используется та же самая схема, только в качестве названий
элементов используются menu, menusel, menuhot и menuhotsel.
</p><p>

Окно подсказки использует следующие цвета:
<i>helpnormal</i>

- для отображения простого текста,
<i>helpitalic</i>

- для вывода текста, выделенного в man-страницах курсивом,
<i>helpbold</i>

- для вывода текста, выделенного в man-страницах жирным шрифтом,
<i>helplink</i>

- для выделения неактивных гиперссылок,
<i>helpslink</i>

- для выделения активной в данный момент гиперссылки.
</p><p>

Специальные цвета подсветки используются для отображения имен файлов
разных типов и выделения цветом прав доступа (если выделение цветом этих
элементов задано в настройках программы, смотрите раздел

Внешний вид):

<i>directory</i>

используется для каталогов и символических ссылок на каталоги;
<i>executable</i>

- для исполняемых файлов;
<i>link</i>

- для символических ссылок, которые указывает НЕ на каталоги или
оборванные (stale) символические ссылки;
<i>stalelink</i>

- для оборванных (stale) символических ссылок;
<i>device</i>

- для файлов устройств;
<i>special</i>

- для специальных файлов типа FIFO и IPC sockets;
<i>core</i>

- для файлов с дампами (core).
</p><p>

Возможные цвета: black, gray, red, brightred, green, brightgreen, brown,
yellow, blue, brightblue, magenta, brightmagenta, cyan, brightcyan,
lightgray и white.
</p><p>

Для прозрачного фона используются специальное ключевое слово 'default'.
Слово 'default' можно использовать только при задании цвета фона.
Пример:
</p><p>

</p><pre>[Colors]
base_color=normal=white,default:marked=magenta,default
</pre>


<a name="lbCH">&nbsp;</a>
<h2>Специальные установки (Special Settings)</h2>

Большинство установок Midnight Commander может быть изменено путем
использования меню. Однако имеется несколько установок, которые могут
быть изменены только путем непосредственного редактирования
конфигурационного файла
<b>~/.mc/ini</b>.

<p>

<i>clear_before_exec</i>

</p><dl compact="">
<dt></dt><dd>
По умолчанию Midnight Commander очищает экран перед выполнением команды.
Если вы хотите, чтобы вывод предыдущей команды не исчезал, измените
значение поля clear_before_exec на 0.
</dd></dl>
<p>

<i>confirm_view_dir</i>

</p><dl compact="">
<dt></dt><dd>
Если вы нажимаете
<b>F3</b>

на имени каталога, обычно
<b>MC</b>

переходит в этот каталог. Если этот флаг будет установлен в 1,
<b>MC</b>

будет спрашивать подтверждение перед тем, как перейти в указанный
каталог, если в текущем каталоге были помечены какие-либо файлы.
</dd></dl>
<p>

<i>ftpfs_retry_seconds</i>

</p><dl compact="">
<dt></dt><dd>
Этот параметр задает интервал времени (в секундах), по истечении
которого Midnight Commander будет предпринимать повторную попытку
соединиться с ftp-сервером после того, как предыдущая попытка окончилась
неудачей. Если задано нулевое значение, программа не будет повторять
попытку соединиться.
</dd></dl>
<p>

<i>ftpfs_use_passive_connections</i>

</p><dl compact="">
<dt></dt><dd>
По умолчанию эта опция отключена. Она включается для передачи файлов по
протоколу FTP в тех случаях, когда компьютер пользователя располагается
за маршрутизатором, фильтрующим пакеты (behind a filtering packet
router). Эта опция работает только в том случае, если вы не используете
прокси (you are not using an ftp proxy).
</dd></dl>
<p>

<i>max_dirt_limit</i>

</p><dl compact="">
<dt></dt><dd>
Определяет, сколько раз может быть пропущена операция обновления
изображения на экране при работе во встроенной программе просмотра.
Обычно этот параметр не имеет большого значения, поскольку программа
автоматически выбирает оптимальное значение в зависимости от скорости
нажатий на клавиши. Однако на очень медленных машинах или терминалах с
большой скоростью автоповторения (keyboard auto repeat) слишком большое
значение этого параметра может привести к тому, что процедура обновления
экрана начнет вaс раздражать.
</dd><dt></dt><dd>
По-видимому значение max_dirt_limit, равное 10, обеспечивает наилучший
выбор, и именно такое значение устанавливается по умолчанию.
</dd></dl>
<p>

<i>mouse_move_pages</i>

</p><dl compact="">
<dt></dt><dd>
Определяет, будет ли прокрутка информации (scrolling) в панелях,
осуществляемая с помощью мышки, производиться страницами или на одну
строку.
</dd></dl>
<p>

<i>mouse_move_pages_viewer</i>

</p><dl compact="">
<dt></dt><dd>
Определяет, будет ли прокрутка информации (scrolling) во встроенной
программе просмотра, осуществляемая с помощью мышки, производиться
страницами или на одну строку.
</dd></dl>
<p>

<i>old_esc_mode</i>

</p><dl compact="">
<dt></dt><dd>
По умолчанию Midnight Commander трактует нажатие на клавишу ESC как
действие, предшествующее нажатию какой-то другой клавиши
(old_esc_mode=0), и совместно обрабатывает комбинацию &lt;Esc-key&gt;. Если
установить эту опцию в 1 (old_esc_mode=1), то программа будет ожидать
нажатия второй клавиши только в течение 1 секунды, и если за это время
ни одна клавиша не нажата, то ESC интерпретируется как требование отказа
от выполнения предыдущей команды (ESC ESC).
</dd></dl>
<p>

<i>only_leading_plus_minus</i>

</p><dl compact="">
<dt></dt><dd>
устанавливает специальный режим обработки символов '+', '-', '*' в
командной строке. Эти символы используются для выбора, отмены выбора и
инвертирования выбора, но выполняют такую функцию только если командная
строка пуста. В середине командной строки эти символы уже не вызывают
выполнения операций группового выбора, но зато вы не сможете
использовать эти символы для таких операций, если командная строка не
пуста.
</dd></dl>
<p>

<i>panel_scroll_pages</i>

</p><dl compact="">
<dt></dt><dd>
Если опция установлена (по умолчанию она установлена), то когда курсор
(подсветка) достигает конца или начала списка файлов, отображаемого на
панели, будет производиться смещение на половину этого списка (то есть
половина отображаемого списка остается на экране, а половина пропадает,
заменяясь следующими пунктами общего списка). Если опция не установлена,
происходит смещение только на одну строку.
</dd></dl>
<p>

<i>show_output_starts_shell</i>

</p><dl compact="">
<dt></dt><dd>
Эта переменная работает только в том случае, когда не включена поддержка
subshell. Если она установлена, то при нажатии
<b>C-o</b>

для перехода в экран пользователя будет запускаться новый экземпляр
оболочки.
</dd></dl>
<p>

<i>torben_fj_mode</i>

</p><dl compact="">
<dt></dt><dd>
Установка этой опции слегка изменяет реакцию программы на нажатие клавиш
Home и End в активной панели. Вместо того, чтобы перемещать подсветку
(курсор) к первому или последнему из имен файлов, отображенных на
панели, нажатие этих клавиш будет вызывать следующую реакцию:
</dd><dt></dt><dd>
клавиша Home - перемещение курсора вверх до середины панели, если курсор
был ниже, в противном случае перемещение на самую верхнюю строку; если
только курсор уже на самой верхней строке, то перемещение на самую
первую строку списка файлов.
</dd><dt></dt><dd>
клавиша End вызывает аналогичную реакцию - смещение вниз до середины
панели, если курсор был выше; если ниже - то переход на последнюю
отображаемую в панели строку; если уже на последней строке, то
перемещение курсора на самую последнюю строку списка файлов.
</dd></dl>
<p>

<i>use_file_to_guess_type</i>

</p><dl compact="">
<dt></dt><dd>


Когда эта опция включена (что сделано по умолчанию), mc будет вызывать
программу
<b>file</b>

для определения типа файла в соответствии с типами файлов, указанными в

mc.ext.

</dd></dl>
<p>

<i>xterm_mode</i>

</p><dl compact="">
<dt></dt><dd>
Если эта переменная включена (по умолчанию она отключена), то при
просмотре в одной из панелей структуры дерева каталогов во второй панели
автоматически будет отображаться список файлов выбранного каталога.

</dd></dl>
<a name="lbCI">&nbsp;</a>
<h2>Базы терминалов (Terminal databases)</h2>

Midnight Commander обеспечивает возможность внесения исправлений в
системную базу терминалов, даже если вы не обладаете правами
суперпользователя. Midnight Commander ищет в системном инициализационном
файле (файл
<b>mc.lib</b>

в библиотечном каталоге программы Midnight Commander) или в файле
<b>~/.mc/ini</b>

секцию с названием "terminal:your-terminal-name", а затем секцию 
"terminal:general". Каждая строка в этих секциях содержит ключевое
слово, которое вы хотите определить, за которым следует знак равенства и
определение ключевого слова. Специальный символ
<b>\\e</b>

используется для задания экранирующих последовательностей, а
<b>^x</b>

служит для задания последовательностей вида
<b>control-x</b>

<p>

В качестве ключевых слов используются:
</p><p>

</p><pre>f0 - f20      определяет последовательность символов,
              генерируемых при нажатии на функциональные
              клавиши f0-f20
bs            определяет последовательность символов, которая
              будет использоваться вместо клавиши backspace
home          то же для клавиши Home
end           то же для клавиши end
up            то же для клавиши "стрелка вверх"
down          то же для клавиши "стрелка вниз"
left          то же для клавиши "стрелка влево"
right         то же для клавиши "стрелка вправо"
pgdn          то же для клавиши page down
pgup          то же для клавиши page up
insert        то же для клавиши insert
delete        то же для клавиши delete
complete      комбинация клавиш для выполнения операции
              "завершение ввода"
</pre>

<p>

Например, для того, чтобы задать, что клавише insert соответствует
экранирующая последовательность Escape + [ + O + p нужно в файле ini
прописать строку:
</p><p>

</p><pre>insert=\e[Op
</pre>

<p>

Операция "завершение ввода" обычно вызывается по клавишам
<b>M-tab,</b>

но задав значение ключевого слова
<i>complete</i>

можно вызывать такую же реакцию системы по другой комбинации клавиш
(почему бы не сделать это, если у вас клавиатура, имеющая массу
неиспользуемых клавиш!).
<a name="lbCJ">&nbsp;</a>
</p><h2></h2>


<a name="lbCK">&nbsp;</a>
<h2>Файлы</h2>

Программа извлекает всю нужную ей информацию из файлов, пути к которым
определяются относительно переменной окружения
<b>MC_DATADIR</b>.

Если эта переменная не задана, происходит обращение к так называемому
библиотечному каталогу программы Midnight Commander. Для того, чтобы
узнать имя этого каталога, дайте команду
<b>mc -f</b>.

<p>

<i>/usr/share/mc/mc.hlp</i>

</p><dl compact="">
<dt></dt><dd>
Файл подсказки для программы.
</dd></dl>
<p>

<i>/usr/share/mc/mc.ext</i>

</p><dl compact="">
<dt></dt><dd>
Используемый по умолчанию общесистемный файл расширений.
</dd></dl>
<p>

<i>~/.mc/bindings</i>

</p><dl compact="">
<dt></dt><dd>
Файл расширений пользователя. Если этот файл существует, он используется
вместо общесистемного файла расширений.
</dd></dl>
<p>

<i>/usr/share/mc/mc.ini</i>

</p><dl compact="">
<dt></dt><dd>
Используемый по умолчанию общесистемный файл установок для Midnight
Commander; используется только в тех случаях, когда пользователь не
имеет своего файла
<b>~/.mc/ini</b>

</dd></dl>
<p>

<i>/usr/share/mc/mc.lib</i>

</p><dl compact="">
<dt></dt><dd>
Глобальные установки для Midnight Commander.  Установки из этого файла
действительны для всех пользователей, независимо от того, имеют ли они
~/.mc/ini или нет.  В настоящий момент только

настройки терминалов

загружаются из mc.lib.
</dd></dl>
<p>

<i>~/.mc/ini</i>

</p><dl compact="">
<dt></dt><dd>
Собственные установки пользователя. Если такой файл существует, то
установки загружаются из него, а не из общесистемного инициализационного
файла программы.
</dd></dl>
<p>

<i>/usr/share/mc/mc.hint</i>

</p><dl compact="">
<dt></dt><dd>
Этот файл содержит подсказки (hints или cookies), циклически
отображаемые программой.
</dd></dl>
<p>

<i>/usr/share/mc/mc.menu</i>

</p><dl compact="">
<dt></dt><dd>
Этот файл содержит общесистемное меню приложений.
</dd></dl>
<p>

<i>~/.mc/menu</i>

</p><dl compact="">
<dt></dt><dd>
Собственное меню пользователя. Если этот файл существует, он
используется вместо общесистемного меню.
</dd></dl>
<p>

<i>~/.mc/Tree</i>

</p><dl compact="">
<dt></dt><dd>
Список каталогов для окна, выводимого при выборе пункта меню
"Команда/Дерево каталогов" или при просмотре дерева каталогов в одной из
панелей. Каждая строка файла соответствует подкаталогу. Строки,
начинающиеся со слэша ("/") соответствуют полным путям. Если строка
начинается с цифры, то надо взять указанное число символов из имени
предыдущего каталога. При желании можно создать этот файл, дав
команду
</dd><dt></dt><dd>
<pre> find / -type d -print | sort &gt; ~/.mc/Tree
</pre>

</dd><dt></dt><dd>
Обычно не имеет смысла делать это, потому что Midnight Commander
автоматически обновляет этот файл.
</dd></dl>
<p>

<i>./.mc.menu</i>

</p><dl compact="">
<dt></dt><dd>
локальное меню, задаваемое пользователем. Если этот файл существует, он
используется вместо файла меню из домашнего каталога пользователя и
общесистемного меню.


</dd></dl>
<a name="lbCL">&nbsp;</a>
<h2>Лицензия</h2>

Эта программа распространяется в надежде, что она будет полезной, но БЕЗ
КАКИХ-ЛИБО ГАРАНТИЙ; даже без подразумеваемых гарантий КОММЕРЧЕСКОЙ
ЦЕННОСТИ или ПРИГОДНОСТИ ДЛЯ КОНКРЕТНОЙ ЦЕЛИ.  Для получения подробных
сведений смотрите Универсальную Общественную Лицензию GNU.

<a name="lbCM">&nbsp;</a>
<h2>Обновление версий</h2>

Последние версии программы Midnight Commander можно найти на сайте
<a href="ftp://ftp.ibiblio.org/pub/Linux/utils/file/managers/mc/.">ftp://ftp.ibiblio.org/pub/Linux/utils/file/managers/mc/.</a>

<a name="lbCN">&nbsp;</a>
<h2>Другие источники</h2>

<a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=ed&amp;category=1">ed</a>(1), <a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=gpm&amp;category=1">gpm</a>(1), <a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=mcserv&amp;category=8">mcserv</a>(8), <a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=terminfo&amp;category=1">terminfo</a>(1), <a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=view&amp;category=1">view</a>(1), <a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=sh&amp;category=1">sh</a>(1), <a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=bash&amp;category=1">bash</a>(1), <a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=tcsh&amp;category=1">tcsh</a>(1),
<a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=zsh&amp;category=1">zsh</a>(1), <a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=mcedit&amp;category=1">mcedit</a>(1).
<p>

</p><pre>Страница, посвященная Midnight Commander, в World Wide Web:
        <a href="http://www.ibiblio.org/mc/">http://www.ibiblio.org/mc/</a>
</pre>

<p>

Данная страница оперативного руководства содержит информацию, актуальную
для версии 4.6.0 (январь 2003 года).  Если вы используете более свежую
версию программы, оригинальная страница на английском языке может
содержать более полную и актуальную информацию. Для просмотра
оригинальной страницы в оболочке bash можно использовать команду
</p><pre>LANG= man mc
</pre>


<a name="lbCO">&nbsp;</a>
<h2>АВТОРЫ</h2>

Miguel de Icaza (<a href="mailto:miguel@ximian.com">miguel@ximian.com</a>), Janne Kukonlehto
(<a href="mailto:jtklehto@paju.oulu.fi">jtklehto@paju.oulu.fi</a>), Radek Doulik (<a href="mailto:rodo@ucw.cz">rodo@ucw.cz</a>), Fred Leeflang
(<a href="mailto:fredl@nebula.ow.org">fredl@nebula.ow.org</a>), Dugan Porter (<a href="mailto:dugan@b011.eunet.es">dugan@b011.eunet.es</a>), Jakub Jelinek
(<a href="mailto:jj@sunsite.mff.cuni.cz">jj@sunsite.mff.cuni.cz</a>), Ching Hui (<a href="mailto:mr854307@cs.nthu.edu.tw">mr854307@cs.nthu.edu.tw</a>), Andrej
Borsenkow (<a href="mailto:borsenkow.msk@sni.de">borsenkow.msk@sni.de</a>), Norbert Warmuth
(<a href="mailto:nwarmuth@privat.circular.de">nwarmuth@privat.circular.de</a>), Mauricio Plaza
(<a href="mailto:mok@roxanne.nuclecu.unam.mx">mok@roxanne.nuclecu.unam.mx</a>), Paul Sheer (<a href="mailto:psheer@icon.co.za">psheer@icon.co.za</a>), Pavel
Machek (<a href="mailto:pavel@ucw.cz">pavel@ucw.cz</a>) and Pavel Roskin (<a href="mailto:proski@gnu.org">proski@gnu.org</a>) are the
developers of this package. Alessandro Rubini (<a href="mailto:rubini@ipvvis.unipv.it">rubini@ipvvis.unipv.it</a>)
has been especially helpful debugging and enhancing the program's mouse
support, John Davis (<a href="mailto:davis@space.mit.edu">davis@space.mit.edu</a>) also made his S-Lang library
available to us under the GPL and answered my questions about it, and
the following people have contributed code and many bug fixes (in
alphabetical order):
<p>

Adam Tla/lka (<a href="mailto:atlka@sunrise.pg.gda.pl">atlka@sunrise.pg.gda.pl</a>), <a href="mailto:alex@bcs.zp.ua">alex@bcs.zp.ua</a> (Alex I.
Tkachenko), Antonio Palama, DOS port (<a href="mailto:palama@posso.dm.unipi.it">palama@posso.dm.unipi.it</a>), Erwin
van Eijk (<a href="mailto:wabbit@corner.iaf.nl">wabbit@corner.iaf.nl</a>), Gerd Knorr (<a href="mailto:kraxel@cs.tu-berlin.de">kraxel@cs.tu-berlin.de</a>),
Jean-Daniel Luiset (<a href="mailto:luiset@cih.hcuge.ch">luiset@cih.hcuge.ch</a>), Jon Stevens
(<a href="mailto:root@dolphin.csudh.edu">root@dolphin.csudh.edu</a>), Juan Francisco Grigera, Win32 port
(<a href="mailto:j-grigera@usa.net">j-grigera@usa.net</a>), Juan Jose Ciarlante (<a href="mailto:jjciarla@raiz.uncu.edu.ar">jjciarla@raiz.uncu.edu.ar</a>),
Ilya Rybkin (<a href="mailto:rybkin@rouge.phys.lsu.edu">rybkin@rouge.phys.lsu.edu</a>), Marcelo Roccasalva
(<a href="mailto:mfroccas@raiz.uncu.edu.ar">mfroccas@raiz.uncu.edu.ar</a>), Massimo Fontanelli (<a href="mailto:MC8737@mclink.it">MC8737@mclink.it</a>),
Sergey Ya. Korshunoff (<a href="mailto:root@seyko.msk.su">root@seyko.msk.su</a>), Thomas Pundt
(<a href="mailto:pundtt@math.uni-muenster.de">pundtt@math.uni-muenster.de</a>), Timur Bakeyev
(<a href="mailto:timur@goff.comtat.kazan.su">timur@goff.comtat.kazan.su</a>), Tomasz Cholewo
(<a href="mailto:tjchol01@mecca.spd.louisville.edu">tjchol01@mecca.spd.louisville.edu</a>), Torben Fjerdingstad
(<a href="mailto:torben.fjerdingstad@uni-c.dk">torben.fjerdingstad@uni-c.dk</a>), Vadim Sinolitis (<a href="mailto:vvs@nsrd.npi.msu.su">vvs@nsrd.npi.msu.su</a>)
and Wim Osterholt (<a href="mailto:wim@djo.wtm.tudelft.nl">wim@djo.wtm.tudelft.nl</a>).
</p><p>

Перевод текста подсказки на русский язык - Костромин В.А., 1999г.
Исправления, адаптация к текущей версии и конвертация в формат mandoc -
Самойлов А.В. &lt;<a href="mailto:sav@bcs.zp.ua">sav@bcs.zp.ua</a>&gt;, 2002 г.

<a name="lbCP">&nbsp;</a>
</p><h2>Недоработки (BUGS)</h2>

Известные авторам недоработки программы перечислены в файле TODO,
который можно найти в составе поставляемого пакета.
<p>

Если вы обнаружили в программе какие-то недостатки или недоработки,
пришлите, пожалуйста, ваши замечания по e-mail на адрес:
<i><a href="mailto:mc-devel@gnome.org">mc-devel@gnome.org</a></i>.

</p><p>

Дайте в письме подробное описание обнаруженных недостатков (и/или ваших
предложений по усовершенствованию программы), сообщите версию программы
с которой вы работаете (для получения номера версии используйте команду
mc -V), в какой операционной системе вы запускали программу. В случае
фатальной ошибки программы, мы будем очень благодарны, если вы пришлете
след вызовов.
</p><p>

</p><hr>
<a name="index">&nbsp;</a><h2>Index</h2>
<dl>
<dt><a href="#lbAB">НАИМЕНОВАНИЕ</a></dt><dd>
</dd><dt><a href="#lbAC">СИНТАКСИС</a></dt><dd>
</dd><dt><a href="#lbAD">ОПИСАНИЕ</a></dt><dd>
</dd><dt><a href="#lbAE">КЛЮЧИ</a></dt><dd>
</dd><dt><a href="#lbAF">Главное окно программы</a></dt><dd>
</dd><dt><a href="#lbAG">Поддержка мыши</a></dt><dd>
</dd><dt><a href="#lbAH"></a></dt><dd>
</dd><dt><a href="#lbAI">Клавиатурные команды</a></dt><dd>
</dd><dt><a href="#lbAJ">  Разные команды</a></dt><dd>
</dd><dt><a href="#lbAK">  Панели каталогов</a></dt><dd>
</dd><dt><a href="#lbAL">  Командная строка оболочки</a></dt><dd>
</dd><dt><a href="#lbAM">  Клавиши управления перемещением</a></dt><dd>
</dd><dt><a href="#lbAN">  Редактирование строк ввода</a></dt><dd>
</dd><dt><a href="#lbAO">Главное меню программы Midnight Commander</a></dt><dd>
</dd><dt><a href="#lbAP">Меню левой и правой панелей ('Левая' и 'Правая')</a></dt><dd>
</dd><dt><a href="#lbAQ">    Формат списка...</a></dt><dd>
</dd><dt><a href="#lbAR">Порядок сортировки...</a></dt><dd>
</dd><dt><a href="#lbAS">    Фильтр...</a></dt><dd>
</dd><dt><a href="#lbAT">    Перечитать (Reread)</a></dt><dd>
</dd><dt><a href="#lbAU">  Файл</a></dt><dd>
</dd><dt><a href="#lbAV">    Быстрая смена каталога (Quick cd)</a></dt><dd>
</dd><dt><a href="#lbAW">  Меню 'Команды'</a></dt><dd>
</dd><dt><a href="#lbAX">    Дерево каталогов (Directory Tree)</a></dt><dd>
</dd><dt><a href="#lbAY">    Поиск файлов (Find File)</a></dt><dd>
</dd><dt><a href="#lbAZ">    Критерий панелизации (External panelize)</a></dt><dd>
</dd><dt><a href="#lbBA">    Справочник каталогов (Hotlist)</a></dt><dd>
</dd><dt><a href="#lbBB">    Файл расширений</a></dt><dd>
</dd><dt><a href="#lbBC">    Фоновые задания</a></dt><dd>
</dd><dt><a href="#lbBD">    Редактирование файлов меню</a></dt><dd>
</dd><dt><a href="#lbBE">Меню 'Настройки' ('Options')</a></dt><dd>
</dd><dt><a href="#lbBF">    Конфигурация</a></dt><dd>
</dd><dt><a href="#lbBG">    Внешний вид</a></dt><dd>
</dd><dt><a href="#lbBH">    Подтверждения</a></dt><dd>
</dd><dt><a href="#lbBI">    Биты символов...</a></dt><dd>
</dd><dt><a href="#lbBJ">    Распознавание клавиш...</a></dt><dd>
</dd><dt><a href="#lbBK">    Виртуальные файловые системы</a></dt><dd>
</dd><dt><a href="#lbBL">    Сохранение установок</a></dt><dd>
</dd><dt><a href="#lbBM"></a></dt><dd>
</dd><dt><a href="#lbBN">Выполнение команд операционной системы</a></dt><dd>
</dd><dt><a href="#lbBO">  Встроенная команда cd</a></dt><dd>
</dd><dt><a href="#lbBP">  Макроподстановки</a></dt><dd>
</dd><dt><a href="#lbBQ">  Поддержка subshell</a></dt><dd>
</dd><dt><a href="#lbBR">Права доступа (Chmod)</a></dt><dd>
</dd><dt><a href="#lbBS">Владелец/группа (Chown)</a></dt><dd>
</dd><dt><a href="#lbBT">Расширенная команда Chown</a></dt><dd>
</dd><dt><a href="#lbBU">Операции с файлами</a></dt><dd>
</dd><dt><a href="#lbBV">Маски файлов для операций копирования/переименования</a></dt><dd>
</dd><dt><a href="#lbBW">Встроенная программа просмотра файлов</a></dt><dd>
</dd><dt><a href="#lbBX">Встроенный редактор</a></dt><dd>
</dd><dt><a href="#lbBY">Завершение ввода (Completion)</a></dt><dd>
</dd><dt><a href="#lbBZ">Виртуальные файловые системы</a></dt><dd>
</dd><dt><a href="#lbCA">Файловая система ftpfs (FTP File System)</a></dt><dd>
</dd><dt><a href="#lbCB">Файловая система tar</a></dt><dd>
</dd><dt><a href="#lbCC">  Файловая система FISH (FIle transfer over SHell)</a></dt><dd>
</dd><dt><a href="#lbCD">  Файловая система NFS (Network File System)</a></dt><dd>
</dd><dt><a href="#lbCE">  Файловая система UFS (Undelete File System)</a></dt><dd>
</dd><dt><a href="#lbCF">  Файловая система smbfs</a></dt><dd>
</dd><dt><a href="#lbCG">Цвета</a></dt><dd>
</dd><dt><a href="#lbCH">Специальные установки (Special Settings)</a></dt><dd>
</dd><dt><a href="#lbCI">Базы терминалов (Terminal databases)</a></dt><dd>
</dd><dt><a href="#lbCJ"></a></dt><dd>
</dd><dt><a href="#lbCK">Файлы</a></dt><dd>
</dd><dt><a href="#lbCL">Лицензия</a></dt><dd>
</dd><dt><a href="#lbCM">Обновление версий</a></dt><dd>
</dd><dt><a href="#lbCN">Другие источники</a></dt><dd>
</dd><dt><a href="#lbCO">АВТОРЫ</a></dt><dd>
</dd><dt><a href="#lbCP">Недоработки (BUGS)</a></dt><dd>
</dd></dl>
<hr>
<br>
<form method="get" action="/search.shtml">
<font size="-1">
<font color="#555555">Поиск по тексту MAN-ов:&nbsp;</font><input size="30" name="words" value="mc" type="text">
<input name="restrict" value="/man" type="hidden">
<input value="Найти" type="submit">
</font>
<input name="method" value="and" type="hidden">
<input name="format" value="builtin-long" type="hidden">
<input name="sort" value="score" type="hidden">
</form>
<br>
<!--htdig_noindex-->
<noindex>
<br>


</noindex>
<!--/htdig_noindex-->


<!-- footer -->
<!--htdig_noindex-->
<br><br>
<div style="background-color: #E9EAD6; width:100%; height: 61px;">
<div style="margin-right: 20px; float:left; line-height: 61px; vertical-align: middle; margin-left: 10px; font-size: 120%;">
Спонсоры:
</div>
<div style="float:left; height: 60px;  line-height: 60px; margin-left: 20px;">
<a style="align: middle;" target="_blank" href="https://inferno.name/"><img src="/img/inferno2.png" alt="Inferno Solutions" height="57" width="200"></a>
</div>
<div style="float:right; height: 60px;  line-height: 60px;  margin-left: 15px;">
<a style="align: middle;" target="_blank" href="http://hoster.ru/?utm_source=site&amp;utm_medium=banner&amp;utm_campaign=opennet"><img src="/img/dh143x60t.png" alt="Hosting by Hoster.ru" height="60" width="143"></a>
</div>
<div style="float:right;  height: 60px;  line-height: 60px; vertical-align: middle;font-size: 120%;">
Хостинг:
</div>

</div>

<div style="clear: both;"></div>


<br>
<table class="ttxt" style="border-top: 3px solid #C9CaB6;">
<tbody><tr><td width="35%">
<a href="/cgi-bin/opennet/bookmark.cgi">Закладки на сайте</a><br>
<a href="/cgi-bin/opennet/bookmark.cgi?submit=add" target="blank_">Проследить за страницей</a>
</td>
<td align="RIGHT" width="65%">
Created&nbsp;1996-2021&nbsp;by <b><a href="/contact.shtml" title="email maxim.chirkov@gmail.com">Maxim&nbsp;Chirkov</a></b><br>
<a href="https://www.opennet.ru/add.shtml">Добавить</a>, <a href="https://www.opennet.ru/donate.shtml" style="color: #C00000;">Поддержать</a>, <a href="https://www.opennet.ru/banners2.shtml">Вебмастеру</a>
</td>
</tr>
</tbody></table>
<br><br>


<!--/htdig_noindex-->
<!-- end of footer -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-123449-1', 'auto');
    ga('send', 'pageview');
</script>




</body>
<!---------------------------------------------  0  ---------------------------------------------->
