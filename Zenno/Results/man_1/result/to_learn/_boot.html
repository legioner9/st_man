
<!--+++++++++++++++++++++++++++++++++++++++++++  0  +++++++++++++++++++++++++++++++++++++++++++--->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Проект OpenNet: MAN boot (1) Команды и прикладные программы пользовательского уровня (FreeBSD и Linux)</title><meta name="KeyWords" content="man, manual, MAN, системное руководство, linux, FreeBSD, OpenBSD, Solaris, ядро, программы, системный вызов, boot"><meta name="viewport" content="width=device-width, initial-scale=1"></head>


<body link="#0000FF" vlink="#000080" text="#000000" bgcolor="#E3E4D0" alink="#FF00FF">
<link rel="stylesheet" href="/opennet4.css" type="text/css">
<!--htdig_noindex-->
<form method="get" action="https://www.opennet.ru/search.shtml">
<aside>
<div style="width: 100%; text-align: right; font-size: 70%; background: #E9EAD6; margin-bottom:-10px;">
Профиль: <b><a href="/~" rel="nofollow" title="/~ - сводная страница участника"><u>Аноним</u></a></b> (<a href="https://www.opennet.ru/cgi-bin/openforum/vsluhboard.cgi?az=login">вход</a> | <a href="https://www.opennet.ru/cgi-bin/openforum/vsluhboard.cgi?az=user_register">регистрация</a>)</div>

<table cellspacing="0" cellpadding="0" width="100%" border="0">
<tbody><tr>
<td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left" valign="BOTTOM" bgcolor="#E9EAD6" width="300">
<a href="https://www.opennet.ru/"><img src="/opennet2.gif" alt="The OpenNET Project" height="60" width="249" border="0"></a><br>
</td>
<td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left" bgcolor="#E9EAD6" align="CENTER" width="100">

</td><td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left;padding-bottom:10px;" bgcolor="#E9EAD6" align="CENTER" width="50%">
<table width="100%" border="0">
<tbody><tr>
<td width="22%">
 <a href="https://www.opennet.ru/opennews/" class="h"><b>НОВОСТИ</b></a> (<a href="https://www.opennet.ru/news/opennet.shtml" class="h">+</a>)
</td><td width="18%%">
  <a href="https://www.opennet.ru/mp/" class="h"><b>КОНТЕНТ</b></a>
</td><td width="14%">
  <a href="http://wiki.opennet.ru" class="h"><b>WIKI</b></a>
</td><td width="14%">
   <a href="https://www.opennet.ru/man.shtml" class="h"><b>MAN'ы</b></a>
</td><td width="16%">
   <a href="https://www.opennet.ru/forum/" class="h"><b>ФОРУМ</b></a>
</td><td width="16%">
<a href="https://www.opennet.ru/search.shtml" class="h" onmouseover="document.getElementById('form12').style.display='block';">Поиск</a>&nbsp;(<a href="https://www.opennet.ru/keywords/" class="h">теги</a>)
<input id="form12" style="display: none;" size="10" name="words" value="" title="для поиска в google наберите &quot;g фраза&quot;" type="text">
</td></tr>
</tbody></table>

</td><td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left;padding-bottom:5px;" bgcolor="#E9EAD6" align="right" width="20%">

<a href="https://www.opennet.ru/opennews/opennews_all_utf.rss"><img src="/img/rss.png" alt="RSS" title="RSS" height="16" width="16" border="0"></a>&nbsp;<a href="https://twitter.com/opennetru"><img src="/twitter.png" alt="twitter" title="Twitter" height="16" width="16" border="0"></a>&nbsp;<a href="https://vk.com/opennet"><img src="/img/vkontakte.gif" title="ВКонтакте" height="16" width="16" border="0"></a>&nbsp;<a href="https://zen.yandex.ru/opennet"><img src="/img/zen.gif" title="Yandex Zen" height="16" width="16" border="0"></a>&nbsp;<a href="https://www.facebook.com/OpenNet.News/"><img src="/img/facebook.gif" title="Facebook" height="16" width="16" border="0"></a>&nbsp;<a href="https://telegram.space/opennet_ru"><img src="/img/telegram2.png" title="Telegram" height="16" width="16" border="0"></a>
</td></tr></tbody></table>
</aside>

<style>
    .hdr_mobile {
	text-align: center; 
	display: none;
	margin: 0px;
	padding: 0px;
    }
</style>
<div class="hdr_mobile">
<div style="margin-left: auto; margin-right: auto; width: 100%; height: 70px; border:1px solid #b0b190; min-width: 360px; max-width: 600px; background: #E9EAD6 url('/back.gif') repeat-x bottom left;">
<div style="float:left; width: 249px; height: 60px; margin-top: 10px;">
<a href="https://www.opennet.ru"><img src="/opennet2_lite.gif" style="height: 60px; width: 249px; border: 1px;" alt="The OpenNET Project / Index page"></a>
</div>
<div style="float: left; text-align: center; height: 70px; width: 331px; padding: 5px; margin-left: 10px;">
<br><small>[ <a href="/opennews/">новости</a>&nbsp;/<a href="/opennews/?full_lines=15&amp;lines=15&amp;mid_lines=00">+++</a> | <a href="/forum/">форум</a> | <a href="http://wiki.opennet.ru">wiki</a> | <a href="/keywords/">теги</a>
| <a href="tg://resolve?domain=opennet_ru"><img src="/img/telegram2.png" title="Telegram" style="margin-bottom: -4px;" height="16" width="16" border="0"></a>
]</small>
</div>
</div>
</div>
<div style="clear: both;"></div>


<div style="float: left; width: 279; text-align: left;padding-right: 60px;" id="adv">
</div>
<div style="padding-top: 0px;position:absolute;left:50%;margin-left:-235px;width:470px;" id="adv2">
</div>
<div style="width: 279;float: right;" id="adv3">
</div>
<div style="clear: both;"></div>
<br>
</form>
<!--/htdig_noindex-->

<center><h3><font color="#000088">Интерактивная система просмотра системных руководств (man-ов)</font></h3></center>
<form method="GET" action="/man.shtml"> 
<table cellspacing="0" cellpadding="1" bgcolor="#B0B190" align="center" width="600" border="0">
<tbody><tr>
<td valign="TOP">

<table cellspacing="0" cellpadding="0" bgcolor="#E9EAD6" align="center" width="100%" border="0">
<tbody><tr><td>&nbsp;<font color="#555555">Тема</font></td><td><font color="#555555">Набор</font></td><td><font color="#555555">Категория</font></td><td>&nbsp;</td></tr>
<tr><td>

&nbsp;<input size="20" name="topic" value="boot" type="text"></td><td><select name="russian">
<option value="4">Solaris man
</option><option value="1">FreeBSD man
</option><option value="3">Разные man
</option><option value="0" selected="">Русские man
</option><option value="2">Linux man
</option><option value="5">POSIX man
</option></select></td>
<td><select size="1" name="category">
	  <option value="" selected="">All
	  </option><option value="1">1
	  </option><option value="2">2
	  </option><option value="3">3
	  </option><option value="4">4
	  </option><option value="5">5
	  </option><option value="6">6
	  </option><option value="7">7
	  </option><option value="8">8
	  </option><option value="9">9
</option></select></td>

<td><input name="submit" value="Показать man" type="submit"></td></tr>
<script async="" src="https://www.google-analytics.com/analytics.js"></script><script language="JavaScript" src="/print.js"></script>
<tr><td colspan="4" align="left">&nbsp;[<a href="/man.shtml">Cписок руководств</a> | <a href="#" onclick="pr('none');">Печать</a>]</td></tr>
</tbody></table>
</td></tr></tbody></table>
</form>
<h3></h3><font size="+2">boot (1)</font><hr><li> <a href="/man.shtml?topic=boot&amp;category=1&amp;russian=4"><u>boot</u></a> (1) <font color="#555555"> ( Solaris man: Команды и прикладные программы пользовательского уровня )</font></li><li>&gt;&gt; <a href="/man.shtml?topic=boot&amp;category=1&amp;russian=0"><u>boot</u></a> (1) <font color="#555555"> ( Русские man: Команды и прикладные программы пользовательского уровня )</font></li><li> <a href="/man.shtml?topic=boot&amp;category=7&amp;russian=0"><u>boot</u></a> (7) <font color="#555555"> ( Русские man: Макропакеты и соглашения )</font></li><li> <a href="/man.shtml?topic=boot&amp;category=7&amp;russian=2"><u>boot</u></a> (7) <font color="#555555"> ( Linux man: Макропакеты и соглашения )</font></li><li> <a href="/man.shtml?topic=boot&amp;category=8&amp;russian=1"><u>boot</u></a> (8) <font color="#555555"> ( FreeBSD man: Команды системного администрирования )</font></li><li> <a href="/man.shtml?topic=boot&amp;category=9&amp;russian=1"><u>boot</u></a> (9) <font color="#555555"> ( FreeBSD man: Ядро )</font></li><li><font color="#555555">Ключ <a href="/keywords/boot.html"><u>boot</u></a> обнаружен в базе ключевых слов.</font></li>
<table width="100%" border="0">
<tbody><tr>
<td><h1>Команды сопровождения</h1></td>
<td><h1 align="right">boot(1M)</h1></td>
</tr>
</tbody></table>

<h2><a name="name">НАЗВАНИЕ</a></h2>

<p><b>boot</b> - запуск ядра операционной системы или независимой программы</p>

<h2><a name="synopsis">СИНТАКСИС</a></h2>

<h3>&nbsp;&nbsp;&nbsp;SPARC</h3>

<dl><dt></dt><dd><tt>
boot [<b>имена_OBP</b>] [<b>файл</b>] [-afV] [-D <b>стандартный_файл</b>]<br>  
&nbsp;&nbsp;[<b>флаги_загрузки</b>] [--] [<b>аргументы_клиентской_программы</b>]<br>
<br>
b [<b>устройство</b> [(c,  u,  p)]] [-afV] [ -D  <b>стандартный_файл</b>]<br>
&nbsp;&nbsp;[<b>флаги_загрузки</b>] [--] [<b>аргументы_клиентской_программы</b>]
</tt></dd></dl>

<h3>&nbsp;&nbsp;&nbsp;IA</h3>

<dl><dt></dt><dd><tt>
b [ <b>файл</b> ]  [ -f ]  [ <b>аргументы_загрузки</b> ]<br>
i
</tt></dd></dl>

<h2><a name="description">ОПИСАНИЕ</a></h2>

<p><i>Начальная загрузка</i> (bootstrapping) - это процесс загрузки и 
выполнения независимой программы. В рамках обсуждаемой темы, начальная 
загрузка означает процесс загрузки и выполнения операционной системы. 
Обычно в качестве независимой программы выступает ядро операционной системы (см. 
<a href="/man.shtml?topic=kernel&amp;category=1"><b>kernel(1M)</b></a>), но вместо него можно загружать 
любую независимую программу. Например, на SPARC-системах в качестве
такой независимой программы можно, кроме ядра операционной системы, 
загружать диагностический монитор.</p>

<p>Если независимая программа является динамически компонуемым выполняемым файлом, 
команда <b>boot</b> загрузит интерпретатор (компоновщик/загрузчик), 
соответствующий формату выполняемого файла, и передаст управление этому 
командному интерпретатору. Если независимая программа скомпонована статически, 
она сразу выполняется.</p>

<p>Обычно в качестве программы загружается ядро. После загрузки ядро запускает 
систему UNIX, монтирует необходимые файловые системы 
(см. <a href="/man.shtml?topic=vfstab&amp;category=4"><b>vfstab(4)</b></a>) и загружает процесс <b>/sbin/init</b>
для перевода системы в стандартное состояние ("<b>initdefault</b>"), 
указанное в файле <b>/etc/inittab</b>. См. <a href="/man.shtml?topic=inittab&amp;category=4"><b>inittab(4)</b></a>.</p>

<h3>&nbsp;&nbsp;&nbsp;<a name="boot_sparc">Процедура начальной загрузки на платформе SPARC</a></h3>

<p>На большинстве SPARC-машин процедура начальной загрузки состоит из следующих 
основных стадий.</p>

<p>После ключения питиания, <i>микропрограммное обеспечение системы</i> 
(firmware в PROM) выполняет ее тестирование (power-on self-test - POST). Форма 
и масштабы тестирования зависят от используемой в системе версии
микропрограммного обеспечения.</p>

<p>После успешного выполнения тестирования, микропрограммное обеспечение пытается 
автоматически выполнить загрузку, если соответствующий флаг установлен в 
используемом ПЗУ. Можно изменять имя загружаемого файла и устройство, с которого 
он будет загружаться.</p>

<p>Эти флаги и имена можно установить с помощью команды 
<a href="/man.shtml?topic=eeprom&amp;category=1"><b>eeprom(1M)</b></a> из командного интерпретатора или 
с помощью команд PROM, задаваемых в ответ на приглашение <b>ok</b>
после остановки системы.</p>

<p>В качестве вторичной загружаемой программы может использоваться либо 
программа <b>ufsboot</b> (при загрузке с диска), либо программа <b>inetboot</b> 
(при загрузке по сети). При загрузке с диска процесс начальной загрузки состоит 
из двух концептуально различных стадий: <i>первичной</i> и <i>вторичной</i> 
загрузки. PROM предполагает, что первичный загрузочный блок находится в блоках
с 1 по 15 на локальном диске. При загрузке по сети PROM выполняет обратный 
запрос ARP и, при получении ответа, посылает широковещательный запрос по
протоколу TFTP для получения программы <b>inetboot</b> по сети с любого 
ответившего сервера, и выполняет эту программу. Программа <b>inetboot</b>
выполняет другой обратный запрос ARP, а затем использует протокол
bootparams (см. <a href="/man.shtml?topic=bootparams&amp;category=4"><b>bootparams(4)</b></a>) для
поиска корневой файловой системы. Затем она получает по сети ядро по протоколу
NFS, и выполняет его.</p>

<p>Если имя независимой программы задано как относительное (не начинается
с косой черты), вторичная программа загрузки будет использовать путь
поиска, зависящий от платформы. Этот путь гарантированно включает каталог
<b>/platform/имя_платформы</b>. На многих SPARC-платформах затем просматривается
каталог <b>/platform/класс_платформы</b>. См. <a href="/man.shtml?topic=filesystem&amp;category=5"><b>filesystem(5)</b></a>.
Если задано абсолютное имя, оно будет использовано при загрузке. Программа
загрузки загружает соответствующую независимую программу и передает ей управление.</p>

<p>Если имя файла не задано в командной строке и не указано другим способом,
например, в переменной <b>boot-file</b> NVRAM, программа <b>boot</b> выбирает
для загрузки стандартный файл, соответствующий установленному в системе
программному обеспечению, возможностям оборудования и микропрограммного
обеспечения, а также сконфигурированному пользователем <i>файлу режима загрузки</i> 
(policy file).</p>

<h3>Поведение команды boot OpenBoot PROM</h3>

<p>Команда <b>boot</b> в OpenBoot принимает аргументы следующего вида:</p>

<dl><dt></dt><dd><tt>
ok boot [<b>спецификация_устройства</b>] [<b>аргументы</b>]
</tt></dd></dl>

<p>Стандартная команда <b>boot</b> без аргументов:</p>

<dl><dt></dt><dd><tt>
ok boot
</tt></dd></dl>

<p>Если <b>спецификация_устройства</b> в командной строке <b>boot</b> не
задана, OpenBoot обычно использует значение переменной nvram <b>boot-device</b>
или <b>diag-device</b>. Если в командной строке не заданы <b>аргументы</b>, 
OpenBoot обычно использует в качестве стандартных аргументов значения переменной
nvram <b>boot-file</b> или <b>diag-file</b>. (Если система работает в режиме
диагностики, вместо <b>boot-device</b> и <b>boot-file</b> используются
переменные <b>diag-device</b> и <b>diag-file</b>).</p>

<p>Аргументы могут состоять из нескольких строк. Все строки аргментов передаются
вторичной программе загрузки; они не интерпретируются системой OpenBoot.</p>

<p>Если в командной строке <b>boot</b> указаны аргументы, значения переменных
nvram <b>boot-file</b> и <b>diag-file</b> не используются. Значения переменных
nvram не объединяются с аргументами командной строки. Например, команда</p>

<dl><dt></dt><dd><tt>
ok boot -s
</tt></dd></dl>

<p>игнорирует значения переменных <b>boot-file</b> и <b>diag-file</b>; она
интерпретирует строку "<b>-s</b>" как аргументы. <b>boot</b> не будет использовать
значение переменной <b>boot-file</b> или <b>diag-file</b>.</p>

<p>Команды</p>

<dl><dt></dt><dd><tt>
ok boot net
</tt></dd></dl>

и

<dl><dt></dt><dd><tt>
ok boot cdrom
</tt></dd></dl>

<p>не имеют аргументов; они будут использовать значения переменных <b>boot-file</b>
или <b>diag-file</b>, если они установлены, в качестве стандартного имени файла и аргументов
для команды <b>boot</b>. Соответственно, если значением переменной <b>boot-file</b>
является имя файла 64-битного ядра, и выполняется попытка загрузиться с установочного
CD с помощью команды <b>boot cdrom</b>, загрузка завершится ошибкой, если на
установочном CD находится только 32-битное ядро.</p>

<p>Поскольку значение переменной <b>boot-file</b> или <b>diag-file</b> может
быть проигнорировано, в зависимости от вида используемой команды <b>boot</b>, 
в большинстве производственных систем нельзя полагаться на переменную
<b>boot-file</b>. Чтобы изменить режим работы ОС, измените файл режима загрузки.
Существенное исключение возникает лишь когда в производственной системе установлены 
как 32-битовые, так и 64-битовые пакеты, но использоваться должна 32-битовая версия ОС.</p>

<p>В большинстве случаев, лучше позволить команде <b>boot</b> выбрать 
соответствующее стандартное значение в зависимости от типа системы, ее
аппаратного и микропрограммного обеспечения, а также содержимого
корневой файловой системы. Общепринятой практикой является управление режимом
работы команды <b>boot</b> путем изменения файла режима загрузки; однако, изменение
значений переменных <b>boot-file</b> или <b>diag-file</b> может давать неожиданные
результаты в некоторых ситуация.</p>

<p>Такое поведение характерно для большинства систем, основанных на версиях OpenBoot 2.x
и 3.x. Учтите, что на некоторых платформах возможны отличия.</p>

<h3>&nbsp;&nbsp;&nbsp;<a name="boot_intel">Процедура начальной загрузки на платформе IA</a></h3>

<p>На системах IA процесс начальной загрузки состоит из двух принципиально различных
стадий, первичной и вторичной загрузки. Первичная загрузка реализована в ПЗУ BIOS на 
системной плате и в расширениях BIOS в ПЗУ периферийных контроллеров. Она отличается тем,
что позволяет управлять установленными периферийными устройствами и обеспечивает
средства ввода/вывода через программные прерывания. Процесс загрузки начинается с
загрузки первого физического сектора дискеты, жесткого диска или, если это поддерживает
установленная в система версия BIOS, CD-ROM. Первичная программа загрузки реализована
как код в реальном режиме процессора IA.</p>

<p>Вторичная программа загрузки загружается первичной. Она реализована как
32-битовый код в защищенном режиме. Она также загружает и использует специфические
расширения BIOS периферийных устройств, написанные как код в реальном режиме 
процессора IA. Вторичная программа загрузки называется <b>boot.bin</b> и отвечает
за чтение и загрузку с файловой системы UFS на жестком диске или CD, или 
загрузку по сети по протоколу NFS.</p>

<p>Вторичная программа загрузки запускает программу Configuration  Assistant,
которая определяет (возможно, с помощью пользователя), какие устройства установлены
в системе. Вторичная программа загрузки затем читает сценарий в файле <b>/etc/bootrc</b>,
который управляет процессом загрузки. Этот файл содержит команды загрузочного
командного интерпретатора, описанные ниже, и может изменяться, чтобы адаптировать
процесс загрузки к особенностям машины.</p>

<p>Стандартный сценарий <b>/etc/bootrc</b> предлагает пользователю ввести символ
<b>b</b> для загрузки с указанными опциями, символ <b>i</b> для вызова интерпретатора в
интерактивном режиме, или любой другой символ для загрузки стандартного ядра. 
После загрузки ядро запускает операционную систему, загружает
необходимые модули, монтирует необходимые файловые системы 
(см. <a href="/man.shtml?topic=vfstab&amp;category=4"><b>vfstab(4)</b></a>) и запускаеет процесс <b>/sbin/init</b>
для перевода системы в стандартное состояние ("<b>initdefault</b>"), 
указанное в файле <b>/etc/inittab</b>. См. <a href="/man.shtml?topic=inittab&amp;category=4"><b>inittab(4)</b></a>.
</p>

<h2><a name="options">ОПЦИИ</a></h2>

<h3>&nbsp;&nbsp;&nbsp;SPARC</h3>
<dl>
<dt><a name="sparc_opb_names"><b>имена_OBP</b></a></dt><dd>
Задают местонахождения open boot prom. Например, на рабочих станциях 
SPARC, местонахождение <b>/sbus/esp@0,800000/sd@3,0:a</b> обозначает 
SCSI-диск (<b>sd</b>) с идентификатором 3 и логическим номером (lun) 0 
на шине SCSI, поддерживаемой контроллером (хост-адаптером) <b>esp</b>,
подключенным к слоту 0.
<br><br></dd>
<dt><a name="sparc_file"><b>файл</b></a></dt><dd>
Имя загружаемой независимой программы. Если имя файла явно не задано, либо в
команднойстроке <b>boot</b>, либо в переменной NVRAM <b>boot-file</b>, программа
<b>boot</b> выбирает соответствующее стандартное имя файла. В большинстве систем
стандартное имя файла соответствует 32-битному ядру. В системах, которые могут
работать и с 32-битными, и с 64-битными ядрами, приоритет имеет 64-битное ядро. 
Программа <b>boot</b> выбирает соответствующий стандартный файл для загрузки
в зависимости от установленного в системе программного обеспечения, 
возможностей оборудования и микропрограммного обеспечения, а также конфигурируемого
пользователем файла режима загрузки.
<br><br></dd>
<dt><a name="sparc_a"><b>-a</b></a></dt><dd>
Программа <b>boot</b> интерпретирует этот флаг как требование запроса к пользователю
и поэтому запрашивает имя независимой программы. Флаг '<b>-a</b>' затем передается
независимой программе.
<br><br></dd>
<dt><a name="sparc_f"><b>-f</b></a></dt><dd>
При загрузке системы Autoclient этот флаг заставляет программу <b>boot</b> игнорировать
локальный кэш клиента и читать все файлы по сети с соответствующего файл-сервера. Этот
флаг игнорируется для всех систем, не относящихся к категории Autoclient. Флаг
<b>-f</b> передается затем независимой программе.
<br><br></dd>
<dt><a name="sparc_V"><b>-V</b></a></dt><dd>
Выдает подробную отладочную информацию.
<br><br></dd>
<dt><a name="sparc_D"><b>-D стандартный_файл</b></a></dt><dd>
Явно задает стандартный загружаемый файл. В некоторых системах программа <b>boot</b> 
выбирает стандартный файл динамически, если он не задан явно. Эта опция позволяет
явно задать стандартный файл и может пригодиться при загрузке отладчика ядра, 
<a href="/man.shtml?topic=kadb&amp;category=1"><b>kadb(1M)</b></a>, поскольку по умолчанию <b>kadb</b> загружает
значение переменной <b>default-file</b>, экспортированное программой <b>boot</b>.
<br><br></dd>
<dt><a name="sparc_flags"><b>флаги_загрузки</b></a></dt><dd>
Программа <b>boot</b> передает все флаги загрузки указанному <b>файлу</b>. Они не
интерпретируются программой <b>boot</b>. Подробнее об опциях стандартной загружаемой
программы см. на страницах справочного руководства <b>kernel(1M)</b> и <b>kadb(1M)</b>.
<br><br></dd>
<dt><a name="sparc_args"><b>аргументы_клиентской_программы</b></a></dt><dd>
Программа <b>boot</b> передает все <b>аргументы_клиентской_программы</b> загружаемому 
<b>файлу</b>. Они не интерпретируются командой <b>boot</b>.</dd>
</dl>

<h3>&nbsp;&nbsp;&nbsp;IA</h3>

<dl>
<dt><a name="ia_file"><b>файл</b></a></dt><dd>
Имя загружаемой независимой программы. По умолчанию загружается файл
<b>/platform/имя_платформы/kernel/unix</b> из корневого раздела, но можно
задать в командной строке и другую программу.
<br><br></dd>
<dt><a name="ia_f"><b>-f</b></a></dt><dd>
При загрузке системы Autoclient этот флаг заставляет программу <b>boot</b> игнорировать
локальный кэш клиента и читать все файлы по сети с соответствующего файл-сервера. Этот
флаг игнорируется для всех систем, не относящихся к категории Autoclient. Флаг
<b>-f</b> передается затем независимой программе.
<br><br></dd>
<dt><a name="ia_args"><b>аргументы_загрузки</b></a></dt><dd>
Программа <b>boot</b> передает все <b>аргументы_загрузки</b> загружаемому <b>файлу</b>.
Они не интерпретируются командой <b>boot</b>. Подробнее об опциях ядра см. на страницах
справочного руководства <b>kernel(1M)</b> и <b>kadb(1M)</b>.
</dd>
</dl>

<h2><a name="ia_boot_seq">ПОДРОБНОСТИ ПОСЛЕДОВАТЕЛЬНОСТИ ЗАГРУЗКИ В IA</a></h2>

<p>После включения питания PC-совместимой машины микропрограммное обеспечение системы в
ПЗУ BIOS выполняет самотестирование при включении (power-on self test - POST), 
запускает расширения BIOS ПЗУ периферийных контрорллеров и выполняет программное 
прерывание INT 19h, начальная загрузка. Обработчик прерывания INT 19h обычно
выполняет стандартную процедуру начальной загрузки PC, которая состоит в попытке
чтения первого физического сектора дискеты в первом дисководе или, если эта
попытка завершится неудачно, первого жесткого диска. Затем процессор
переходит на первый байт образа сектора в памяти.</p>

<h3>&nbsp;&nbsp;&nbsp;Первичная загрузка IA</h3>

<p>Первый сектор дискеты содержит главный загрузочный блок. Загрузочный блок
отвечает за загрузку образа <i>начального загрузчика</i> (boot loader) <b>strap.com</b>,
который затем загружает вторичную программу загрузки, <b>boot.bin</b>. 
Аналогичная последовательность действий выполняется и при загрузке с CD-ROM,
но местонахождение и содержимое загрузочного блока определяется спецификацией
El  Torito. Загрузка El Torito тоже приводит к запуску программы <b>strap.com</b>,
которая, в свою очередь, загружает <b>boot.bin</b>.</p>

<p>Первый сектор жесткого диска содержит главный загрузочный блок, в котором
находится главная загрузочная программа и таблица разделов FDISK, названная так
по имени программы PC, с помощью которой ее поддерживают. Главная загрузочная
программа находит активный раздел в таблице FDISK, загружает его первый сектор и
переходит на первый байт образа этого сектора в памяти. Этим завершается
стандартная последовательность загрузки с жесткого диска на PC.</p>

<p>Раздел IA FDISK для программного обеспечения Solaris начинается с одноцилиндровой
загрузочной секции (boot  slice), содержащей программу загрузки раздела (<b>pboot</b>)
в первом секторе, стандартную метку диска Solaris и <i>таблицу секций тома</i> (volume 
table of contents - VTOC) во втором и третьем секторах, и программу <b>bootblk</b> 
в четвертом и последующих секторах. Когда раздел FDISK для программного обеспечения
Solaris является активным разделом, главная загрузочная программа (<b>mboot</b>)
читает загрузочную программу раздела с первого сектора в память и передает ей
управление. Эта программа, в свою очередь, считывает в память программу <b>bootblk</b>
и передает управление ей. Независимо от типа активного раздела, если диск содержит 
несколько разделов FDISK, пользователь получает возможность загрузиться с
любого раздела.</p>

<p>Программа <b>bootblk</b> или <b>strap.com</b> (в зависимости от типа активного раздела)
читает программу <b>boot.bin</b> из файловой системы в корневой секции диска Solaris
и переходит на первый байт ее образа в памяти.</p>

<h3>&nbsp;&nbsp;&nbsp;Вторичная загрузка IA</h3>

<p>Вторичная программа загрузки, <b>boot.bin</b>, переводит процессор в 32-разрядный
защищенный режим со страничной организацией памяти и выполняет некоторые действия по
инициализации системы. Она запускает программу Configuration  Assistant, которая либо
загружает систему автоматически, либо выдает список устройств, с которых можно загрузиться,
в зависимости от значения переменной <b>auto-boot?</b> 
(см. <a href="/man.shtml?topic=eeprom&amp;category=1"><b>eeprom(1M)</b></a>).</p>

<p>Диски, с которых выполняется загрузка (в том числе, CDROM) должны содержать файловую
систему UFS. При обращении к сетевым устройствам сначала посылается запрос Reverse Address
Resolution Protocol (RARP) для получения IP-адреса машины, а затем RPC-вызов <b>bootparams</b>
для поиска сервера, который может предоставить корневую файловую систему. Затем
корневая файловая система монтируется по протоколу NFS. После успешного монтирования
корневой файловой системы программа <b>boot.bin</b> вызывает специальный загрузочный
командный интерпретатор, который интерпретирует содержимое файла <b>/etc/bootrc</b>.</p>

<h3>&nbsp;&nbsp;&nbsp;Язык программирования вторичной загрузки для IA</h3>

<p>Широкий спектр оборудования, которое необходимо поддерживать на IA-системах требует
повышенной гибкости процесса загрузки. Эта гибкость частично достигается за счет
возможности программировать процесс вторичной загрузки. Вторичная программа загрузки
содержит интерпретатор, воспринимающий простой язык команд, похожий на языки командных
интерпретаторов <b>sh</b> и <b>csh</b>. Основное отличие в том, что конвейеры, циклы
и перенаправление ввода/вывода не поддерживается.</p>

<h4>&nbsp;&nbsp;&nbsp;Лексемы</h4>

<p>Загрузочный командный интерпретатор разбивает входные строки на слова, разделенные
символами пробела и табуляции. Символы доллара (<b>$</b>), одиночной кавычки (<b>'</b>),
двойной кавычки (<b>"</b>), номера (<b>#</b>), перевода строки и обратной косой (<b>\</b>)
являются метасимволами. Чтобы использовать метасимволы буквально, их надо предварять 
обратной косой чертой. Символ новой строки, перед котым идет обратная косая, рассматривается
как пробел. Символ номера начинает комментарий, который продолжается до символа новой строки.</p>

<p>Строка в одиночных или двойных кавычках образует одно слово (или часть одного слова. 
Пробелы и символы новой строки в кавычках становятся частью слова. Символы строки в кавычках
можно маскировать, предваряя их символом обратной косой; таким образом, можно ввести
одиночную кавычку в строке в одиночных кавычках, если перед ней указать обратную косую. 
Две обратных косых подряд дают в результате обратную косую, а обратная косая перед симоволом
новой строки позволяет включить символ новой строки в слово.</p>

<h4>&nbsp;&nbsp;&nbsp;Переменные</h4>

<p>По ходу загрузки поддерживается набор переменных со строковыми значениями. Первым символом
имени переменной должна быть буква, а затем могут идти буквы, цифры и символы подчеркивания.
Команда <b>set</b> создает переменную и/или присваивает ей значение, или выдает значения
переменных. Команда <b>unset</b> удаляет переменную.</p>

<p>Подстановка значений переменных происходит, когда интерпретатор обнаруживает символ
доллара, не предваренный обратной косой. Вместо доллара и имени переменной, которое
за ним идет, подставляется значение этой переменной, и анализ строки продолжается
с начала этого значения. Подстановка значений переменных выполняется также в строках в
двойных кавычках, но не выполняется в строках в одиночных кавычках. Имя переменной
может быть взято в фигурные скобки, отделяющие его от последующих символов.</p>

<h4>&nbsp;&nbsp;&nbsp;Команды</h4>

<p>Команда - это последовательность слов, завершаемая символом новой строки. Первое
слово - имя команды, последующие слова - ее аргументы. Все команды являются встроенными.
Независимые программы выполняются с помощью команды <b>run</b>.</p>

<h4>&nbsp;&nbsp;&nbsp;Условное выполнение команд</h4>

<p>Команды можно выполнять по условию, окружив командами <b>if</b>, <b>elseif</b>, 
<b>else</b> и <b>endif</b>:</p>

<dl><dt></dt><dd><pre>if <b>выражение1</b>
    ...
elseif <b>выражение2</b>
    ...
elseif <b>выражение3</b>
    ...
else
    ...
endif
</pre></dd></dl>

<p>Блок <b>if ... endif</b> можно включать в другие блоки <b>if ... endif</b>.</p>

<h4>&nbsp;&nbsp;&nbsp;Выражения</h4>

<p>Команды <b>set</b>, <b>if</b> и <b>elseif</b> вычисляют арифметические выражения,
синтаксис и семантика которых соответствует языку программирования C. 
Поддерживаются операторы <b>||</b>, <b>&amp;&amp;</b>, <b>|</b>, <b>^</b>, <b>&amp;</b>, <b>==</b>,
<b>!=</b>, <b>&lt;</b>, <b>&gt;</b>, <b>&lt;=</b>, <b>&gt;=</b>, <b>&gt;&gt;</b>,
<b>&lt;&lt;</b>, <b>+</b>, <b>-</b>, <b>*</b>, <b>/</b>, <b>%</b>, <b>~</b> и <b>!</b>,
а также скобки <b>(</b>, <b>)</b> и оператор запятая. При вычислении используются 
32-битовые целые числа со знаком.</p>

<p>Выражения анализируются после полного формирования командной строки. Каждая лексема
в выражении должна представлять собой отдельное слово-аргумент, так что лексемы в
командной строке надо разделять пробелами.</p>

<p>Перед выполнением арифметических операций над слолвом-операндом, оно преобразуется
из строки в 32-битовое целочисленное значение со знаком. После необязательного
знака начальный символ <b>0</b> означает преобразование из восьмеричной системы счисления, а
начальные символы <b>0x</b> или <b>0X</b> требуют выполнить преобразование из
шестнадцатеричной системы счисления. В противном случае предполагается, что строка
задает десятичное значение. Строка, не допускающая преобразования в целое число,
заменяется нулем.</p>

<p>Предлагается ряд функций обработки строк. Имена встроенных функций начинаются с
точки. Строковые аргументы этих функций не преобразуются в целые числа. Чтобы оператор,
например, <b>-</b>, обрабатывался как строка, его необходимо предварять обратной
косой, а эта обратная косая должна маскироваться другой обратной косой. Учтите также,
что пустая строка может дать в результате пустой аргумент, и, как следствие, синтаксическую
ошибку в выражении. Например:</p>

<dl><dt></dt><dd><pre>if .strneq ( ${usrarg}X , \- , 1 )
</pre></dd></dl>

<p>Это безопасный способ проверить, что значение переменной <b>usrarg</b> начинается с <b>-</b>,
даже если оно может быть пустым.</p>

<h4>&nbsp;&nbsp;&nbsp;Ввод/вывод</h4>

<p>Загрузочный командный интерпретатор принимает ввод с консоли или из файлов. Команда 
<b>source</b> требует от интерпретатора прочитать файл в память и начать его анализ.
Команда <b>console</b> требует от интеррпетатора читать входные данные с системной консоли.
При прочтении символа конца файла (EOF) интерпретатор продолжает разбор прежнего
источника входных данных.  Символ CTRL-D, введенный в начале строки с консоли, рассматривается
как признак конца файла (EOF).</p>

<p>Команда <b>echo</b> выдает свои аргументы на экран. Команда <b>read</b> читает данные с
системной консоли и присваивает значения обнаруженных в ней слов своим 
аргументам-переменным.</p>

<h4>&nbsp;&nbsp;&nbsp;Отладка</h4>

<p>Команда <b>verbose</b> включает и отключает режим подробного информирования. В режиме
подробного информирования интерпретатор выдает строки из текущего исходного файла и
команды в том виде, как они будут выполняться после подстановки значений переменных.</p>

<p>Команда <b>singlestep</b> включает и отключает режим пошагового выполнения команд.
В режиме пошагового выполнения командный интерпретатор выдает <b>step ?</b> перед
обработкой следующей команды и ждет ввода с клавиатуры, который не запоминается.
Обработка начинается при нажатии клавиши ENTER. Это позволяет пошагово выполнять
команды в режиме подробного информирования.</p>

<h4>&nbsp;&nbsp;&nbsp;Инициализация</h4>

<p>При первоначальном вызове интерпретатора в процессе загрузки он начинает работу
с выполнения встроенной строки инициализации. Эта строка обычно имеет вид 
"<b>source /etc/bootrc\n</b>" и предназначена для запуска сценария загрузки с
корневой файловой системы.</p>

<h4>&nbsp;&nbsp;&nbsp;Взаимодействие с другими независимыми программами</h4>

<p>Загрузочный интерпретатор передает информацию другим независимым программам 
с помощью аргументов команды <b>run</b>. Программа может вернуть информацию загрузочному
интерпретатору, устанавливая значения переменных интерпретатора с помощью служебной
функции загрузки <b>var_ops()</b>. Она также может передавать информацию ядру с
помощью служебной функции загрузки <b>setprop()</b>. Свойство <b>whoami</b> 
устанавливается равным имени выполняющейся независимой программы.</p>

<h4>&nbsp;&nbsp;&nbsp;Встроенные команды</h4>

<dl>
<dt><b>console</b></dt><dd>
Интерпретирует ввод с консоли вплоть до символа CTRL-D.
<br><br></dd>
<dt><b>echo аргумент1 ...</b></dt><dd>
Выдает аргументы через пробел, завершая символом новой строки.
<br><br></dd>
<dt><b>echo -n аргумент1 ...</b></dt><dd>
Выдает аргументы через пробел, не завершая символом новой строки.
<br><br></dd>
<dt><b>getprop свойство переменная</b></dt><dd>
Присваивает значение <b>свойства</b> указанной <b>переменной</b>. Значение
свойства длиной ноль дает пустую строку. Если свойство не существует,
переменная не устанавливается.
<br><br></dd>
<dt><b>getproplen свойство переменная</b></dt><dd>
Присваивает длину значения <b>свойства</b> в виде шестнадцатеричного числа указанной
<b>переменной</b>. Длина значения свойства включает завершающий 0. Если <b>свойство</b> не
существует, переменная получает значение <b>0xFFFFFFFF</b> (<b>-1</b>).
<br><br></dd>
<dt><b>if выражение</b></dt><dd>
Если <b>выражение</b> истинно, выполняет инструкции вплоть до следующей встроенной
команды <b>elseif</b>, <b>else</b> или <b>endif</b>. Если <b>выражение</b> ложно,
не выполняет эти команды.
<br><br></dd>
<dt><b>elseif выражение</b></dt><dd>
Если все предыдущие команды <b>if</b> и <b>elseif</b> не сработали и <b>выражение</b>
истинно, выполняет инструкции вплоть до следующей встроенной
команды <b>elseif</b>, <b>else</b> или <b>endif</b>. В противном случае,
не выполняет эти команды.
<br><br></dd>
<dt><b>else</b></dt><dd>
Если все предыдущие команды <b>if</b> и <b>elseif</b> не сработали и <b>выражение</b>
истинно, выполняет инструкции вплоть до следующей встроенной
команды <b>endif</b>. В противном случае, не выполняет эти команды.
<br><br></dd>
<dt><b>endif</b></dt><dd> 
Возвращает управление окружающему блоку.
<br><br></dd>
<dt><b>help</b></dt><dd>
Выдает экран справки, содержащий резюме по всем командам загрузочного командного
интерпретатора.
<br><br></dd>
<dt><b>read имя1 ...</b></dt><dd>
Читает строку с консоли, разбивает ее на слова и присваивает их как значения
указанным переменным <b>имя1</b> и т.д.
<br><br></dd>
<dt><b>readt ожидание ...</b></dt><dd>
То же, что и <b>read</b>, но завершается, если строка не была введена в течение указанного
количества секунд <b>ожидания</b>.
<br><br></dd>
<dt><b>run программа аргумент1 ...</b></dt><dd>
Загружает и запускает независимую <b>программу</b>, передавая ей <b>аргумент1</b>
и другие аргументы.
<br><br></dd>
<dt><b>set</b></dt><dd>
Выдает все установденные переменные с их значениями.
<br><br></dd>
<dt><b>set переменная</b></dt><dd>
Устанавливает указанной <b>переменной</b> значение пустая строка.
<br><br></dd>
<dt><b>set переменная слово</b></dt><dd>
Устанавливает указанной <b>переменной</b> значение <b>слово</b>.
<br><br></dd>
<dt><b>set переменная выражение</b></dt><dd>
Устанавливает <b>переменной</b> значение <b>выражения</b>. <b>Выражение</b> должно состоять
из нескольких слов. Значение преобразуется в шестнадцатеричное без знака, так что <b>-1</b>
представляется как <b>0xFFFFFFFF</b>.
<br><br></dd>
<dt><b>setcolor</b></dt><dd>
Устанавливает атрибуты текстового режима дисплея. Допускаются цвета <b>black</b>, <b>blue</b>,
<b>green</b>, <b>cyan</b>, <b>red</b>, <b>magenta</b>, <b>brown</b>, <b>white</b>,
<b>gray</b>, <b>lt_blue</b>, <b>lt_green</b>, <b>lt_cyan</b>, <b>lt_red</b>, 
<b>lt_magenta</b>, <b>yellow</b> и <b>hi_white</b>.
<br><br></dd>
<dt><b>setprop свойство слово</b></dt><dd>
Устанавливает указанному <b>свойству</b> значение <b>слово</b>.
<br><br></dd>
<dt><b>singlestep</b> или <b>singlestep on</b></dt><dd>
Включает режим пошагового выполнения, в котором интерпретатор выдает приглашение 
<b>step ?</b> перед обработкой каждой команды, и ждет ввода с клавиатуры. Для
выполнения следующей команды нажмите клавишу ENTER.
<br><br></dd>
<dt><b>singlestep off</b></dt><dd>
Отключает режим пошагового выполнения.
<br><br></dd>
<dt><b>source файл</b></dt><dd>
Считывает <b>файл</b> в память и начинает его интерпретировать. При достижении 
символа конца файла (EOF), возвращается к предыдущему источнику входных данных.
<br><br></dd>
<dt><b>unset переменная</b></dt><dd>
Удаляет указанную <b>переменную</b>.
<br><br></dd>
<dt><b>verbose</b> или <b>verbose on</b></dt><dd>
Включает режим подробного информирования, в котором выдаются на экран 
строки из входных файлов и выполняемые команды.
<br><br></dd>
<dt><b>verbose off</b></dt><dd>
Отключает режим подробного информирования.
</dd></dl>

<h4>&nbsp;&nbsp;&nbsp;Встроенные функции</h4>

<p>В выражениях поддерживаются следующие встроенные функции:</p>

<dl>
<dt><b>.strcmp(строка1, строка2)</b></dt><dd>
Возвращает целочисленное значение, меньшее, равное или большее нуля в зависимости от
того, является ли <b>строка1</b>, соответственно, лексикографически меньшей, 
равной или большей, чем <b>строка2</b>.
<br><br></dd>
<dt><b>.strncmp(строка1, строка2, n)</b></dt><dd>
Возвращает целочисленное значение, меньшее, равное или большее нуля в зависимости от
того, является ли <b>строка1</b>, соответственно, лексикографически меньшей, равной или большей, 
чем <b>строка2</b>. Сравнивается не более <b>n</b> первых символов строк.
<br><br></dd>
<dt><b>.streq (строка1, строка2)</b></dt><dd>
Возвращает истину, если <b>строка1</b> равна <b>строке2</b>, и ложь в противном случае.
<br><br></dd>
<dt><b>.strneq (строка1, строка2, n)</b></dt><dd>
Возвращает истину, если <b>строка1</b> равна <b>строке2</b>, и ложь в противном случае.
Сравнивается не более <b>n</b> первых символов строк.
<br><br></dd>
<dt><b>.strfind (строка, адрес, n)</b></dt><dd>
Просматривает <b>n</b> адресов в памяти, начиная с указанного <b>адреса</b> в поисках начала
<b>строки</b>. Строка в памяти не обязательно должна заканчиваться нулевым байтом.
Возвращает истину, если <b>строка</b> найдена, и ложь в противном случае. 
Функцию <b>.strfind</b> можно использовать для поиска строк в ПЗУ BIOS и расширениях
BIOS, идентфицирующих машины и контроллеры периферийных устройств.
</dd></dl>

<h2><a name="examples">ПРИМЕРЫ</a></h2>

<h3>&nbsp;&nbsp;&nbsp;SPARC</h3>

<h3>Пример 1: загрузка стандартного ядра в однопользовательском интерактивном режиме</h3>

<p>Для загрузки стандартного ядра в однопользовательском интерактивном режиме,
введите одну из следующих команд в ответ на приглашение <b>ok</b>:</p>

<dl><dt></dt><dd><pre>boot -as

boot disk3 -as
</pre></dd></dl>

<h3>&nbsp;&nbsp;&nbsp;32-битовый SPARC</h3>

<h3>Пример 2: Загрузка отладчика kadb при указании 32-битового ядра в качестве 
стандартного файла</h3>

<p>Для загрузки <b>kadb</b> для отладки 32-битового ядра:</p>

<dl><dt></dt><dd><pre>boot kadb -D kernel/unix
</pre></dd></dl>

<h3>Пример 3: явная загрузка 32-битового ядра</h3>

<p>Для явной загрузки 32-битового ядра необходимо указать имя файла ядра. Поэтому,
чтобы загрузить 32-битовое ядро в однопользовательском интерактивном режиме, введите
одну из следующих команд в ответ на приглашение <b>ok</b>:</p>

<dl><dt></dt><dd><pre>boot kernel/unix -as

boot disk3 kernel/unix -as
</pre></dd></dl>

<h3>&nbsp;&nbsp;&nbsp;64-битовый SPARC</h3>

<h3>Пример 4: явная загрузка 64-битового ядра</h3>

<p>Для явной загрузки 64-битового ядра необходимо указать имя файла ядра. Поэтому,
чтобы загрузить 64-битовое ядро в однопользовательском интерактивном режиме, введите
одну из следующих команд в ответ на приглашение <b>ok</b>:</p>

<dl><dt></dt><dd><pre>boot kernel/sparcv9/unix -as

boot disk3 kernel/sparcv9/unix -as
</pre></dd></dl>

<p>Прежде чем явно загружать 64-битовое ядро, указав имя соответствующего файла,
прочитайте подраздел "<a href="#UltraSPARC"><b>Загрузка систем UltraSPARC</b></a>" 
в разделе "<a href="#notes"><b>ПРИМЕЧАНИЯ</b></a>".</p>

<h3>&nbsp;&nbsp;&nbsp;IA</h3>

<h3>Пример 5: загрузка стандартного ядра в однопользовательском интерактивном режиме</h3>

<p>Для загрузка стандартного ядра в однопользовательском интерактивном режиме, введите 
одну из следующих команд в ответ на приглашение <b>&gt;</b>:</p><p>

</p><dl><dt></dt><dd><pre>b -as

b kernel/unix -as
</pre></dd></dl>

<h2><a name="files">ФАЙЛЫ</a></h2>

<dl>
<dt><b>/platform/имя_платформы/ufsboot</b></dt><dd>
программа вторичной загрузки с диска или CD.</dd>
<dt><b>/etc/inittab</b></dt><dd>
таблица, в которой задано значение стандартного состояния "<b>initdefault</b>".</dd>
<dt><b>/sbin/init</b></dt><dd>
программа, переводящая систему в состояние "<b>initdefault</b>".</dd>
<dt><b>/platform/имя_платформы/boot.conf<br>
/platform/имя_класса_оборудования/boot.conf</b></dt><dd>
Основной и альтернативный пути поиска файла режима загрузки. Учтите, что файл режима
загрузки реализован реализован не на всех платформах.</dd>
</dl>

<h3>&nbsp;&nbsp;&nbsp;32-битовый SPARC и IA</h3>

<dl>
<dt><b>/platform/имя_платформы/kernel/unix</b></dt><dd>
стандартная программа загрузки системы (ядро).</dd>
</dl>

<h3>&nbsp;&nbsp;&nbsp;Только 64-битовый SPARC</h3>
<dl>
<dt><b>/platform/имя_платформы/kernel/sparcv9/unix</b></dt><dd>
стандартная программа загрузки системы (ядро).</dd>
</dl>

<p>См. подраздел "<a href="#UltraSPARC"><b>Загрузка систем UltraSPARC</b></a>" 
в разделе "<a href="#notes"><b>ПРИМЕЧАНИЯ</b></a>".</p>

<h3>&nbsp;&nbsp;&nbsp;Только IA</h3>

<dl>
<dt><b>/etc/bootrc</b></dt><dd>
сценарий, управляющий процессом загрузки.</dd>
<dt><b>/platform/имя_платформы/boot/solaris/boot.bin</b></dt><dd>
вторичная программа загрузки, используемая в системах IA вместо <b>ufsboot</b>.</dd>
<dt><b>/platform/имя_платформы/boot</b></dt><dd>
каталог, содержащий файлы, связанные с процессом загрузки.</dd>
</dl>

<h2><a name="see_also">ССЫЛКИ</a></h2>

<dl><dt></dt><dd>
	<a href="/man.shtml?topic=uname&amp;category=1"><b>uname(1)</b></a>,
	<a href="/man.shtml?topic=eeprom&amp;category=1"><b>eeprom(1M)</b></a>, 
	<a href="/man.shtml?topic=init&amp;category=1"><b>init(1M)</b></a>,  
	<a href="/man.shtml?topic=installboot&amp;category=1"><b>installboot(1M)</b></a>, 
	<a href="/man.shtml?topic=kadb&amp;category=1"><b>kadb(1M)</b></a>,
	<a href="/man.shtml?topic=kernel&amp;category=1"><b>kernel(1M)</b></a>, 
	<a href="/man.shtml?topic=shutdown&amp;category=1"><b>shutdown(1M)</b></a>,
	<a href="/man.shtml?topic=uadmin&amp;category=2"><b>uadmin(2)</b></a>, 
	<a href="/man.shtml?topic=bootparams&amp;category=4"><b>bootparams(4)</b></a>, 
	<a href="/man.shtml?topic=inittab&amp;category=4"><b>inittab(4)</b></a>, 
	<a href="/man.shtml?topic=vfstab&amp;category=4"><b>vfstab(4)</b></a>, 
	<a href="/man.shtml?topic=filesystem&amp;category=5"><b>filesystem(5)</b></a>
</dd></dl>

<p><b><a href="http://docs.sun.com/db/doc/805-7228">System Administration Guide, Volume 1</a></b><br>
<b><a href="http://docs.sun.com/db/doc/806-2221-10">Sun Hardware Platform Guide</a></b></p>

<h2><a name="warnings">ПРЕДУПРЕЖДЕНИЯ</a></h2>

<p>Утилита <b>boot</b> не способна определить, какие файлы можно использовать в
качестве загружаемых программ. Если затребована загрузка файла, которые не является
загружаемым, утилита <b>boot</b> загрузит его и передаст ему управление. 
Дальнейшие события непредсказуемы.</p>

<h2><a name="notes">ПРИМЕЧАНИЯ</a></h2>

<p><b>Имя_платформы</b> можно узнать с помощью опции <b>-i</b> команды 
<a href="/man.shtml?topic=uname&amp;category=1"><b>uname(1)</b></a>. <b>Имя_класса_оборудования</b> можно узнать
с помощью опции <b>-m</b> команды <a href="/man.shtml?topic=uname&amp;category=1"><b>uname(1)</b></a>.</p>

<h3>64-битовый SPARC<br>
<a name="UltraSPARC">Загрузка систем UltraSPARC</a></h3>

<p>На некоторых платформах для обеспечения работы 64-битового ядра может потребоваться
обновление микропрограммного обеспечения. Подробнее см. в 
<a href="http://docs.sun.com/db/doc/806-2221-10"><b>Sun  Hardware  Platform Guide</b></a>.
Если пакеты 64-битового ядра установлены и <b>boot</b> определяет, что необходимо
обновление микропрограммного обеспечения для работы в 64-битовом режиме, <b>boot</b> выдает
на консоль соответствующее сообщение и использует в качестве стандартного файла
32-битовое ядро.</p>

<p>В системах, сожержащих процессоры UltraSPARC-1 с тактовой частотой до 200 МГц включительно,
пользователь может запустить 64-битовую программу, которая использует имеющуюся аппаратную
проблему для остановки процессора. Поскольку 64-битовые программы не могут работать на
32-битовом ядре, в качестве стандартного файла в этих системах выбирается 32-битовое
ядро.</p>

<p>Последовательность команд, вызвающая аппаратную проблему, очень нетипична, 
и маловероятно, что она будет сгенерирована компилятором. Для демонстрации проблемы
необходимо специально писать код на ассемблере. Очень маловероятно, что написанная
на ассемблере по всем правилам вручную процедура будет включать эту последовательность команд.</p>

<p>Пользователи, согласные почти на риск случайного или намеренного запуска пользователем
программы, специально созданной для остановки процессора, могут запускать 64-битовое ядро,
изменив файл режима загрузки. Отредактируйте файл <b>/platform/имя_платформы/boot.conf</b> 
так, чтобы он содержал незакомментированную строку с установкой переменной
<b>ALLOW_64BIT_KERNEL_ON_UltraSPARC_1_CPU</b> значение <b>true</b>, как показано ниже:</p>

<dl><dt></dt><dd><pre>ALLOW_64BIT_KERNEL_ON_UltraSPARC_1_CPU=true
</pre></dd></dl>

<p>Подробнее об этом см. в руководстве
<a href="http://docs.sun.com/db/doc/806-2221-10"><b>Sun Hardware Platform Guide</b></a>.</p>

<h3>Только IA</h3>

<p>Поскольку клавиша "-" на клавиатурах с национальными раскладками перенесена, необходимо
использовать альтернативную клавишу для передачи аргументов команде загрузки в
системах на основе IA, использующих такие клавиатуры. Используйте "-" на числовой клавиатуре.
Альтернативные клавиши, которые можно нажимать на таких "национальных" клавиатурах для
ввода символа "-" в процессе загрузки представлены ниже.</p>

<table cellspacing="4" width="80%" border="0">
<tbody><tr><td width="20%"><b>Клавиатура</b></td>  <td><b>Замещающая клавиша</b></td></tr>
<tr><td>итальянская</td>  <td><b>'</b></td></tr>
<tr><td>испанская</td>  <td><b>'</b></td></tr>
<tr><td>шведская</td>  <td><b>+</b></td></tr>
<tr><td>французская</td>  <td><b>?</b></td></tr>
<tr><td>немецкая</td>  <td><b>?</b></td></tr>
</tbody></table>

<p>Например, команду <b>b -r</b> необходимо на шведской клавиатуре набирать как 
<b>b  +r</b>, - на экране при этом появится <b>b -r</b>.</p>

<p align="center">Последнее изменение: 26 февраля 1999 года</p>

<p align="center"><font size="-2">
Copyright 2002 <a href="mailto:valera@openxs.kiev.ua">В. Кравчук</a>,
<a href="http://ln.com.ua/~openxs">OpenXS Initiative</a>, перевод на русский язык
</font></p> 

<br>
<form method="get" action="/search.shtml">
<font size="-1">
<font color="#555555">Поиск по тексту MAN-ов:&nbsp;</font><input size="30" name="words" value="boot" type="text">
<input name="restrict" value="/man" type="hidden">
<input value="Найти" type="submit">
</font>
<input name="method" value="and" type="hidden">
<input name="format" value="builtin-long" type="hidden">
<input name="sort" value="score" type="hidden">
</form>
<br>
<!--htdig_noindex-->
<noindex>
<br>


</noindex>
<!--/htdig_noindex-->


<!-- footer -->
<!--htdig_noindex-->
<br><br>
<div style="background-color: #E9EAD6; width:100%; height: 61px;">
<div style="margin-right: 20px; float:left; line-height: 61px; vertical-align: middle; margin-left: 10px; font-size: 120%;">
Спонсоры:
</div>
<div style="float:left; height: 60px;  line-height: 60px; margin-left: 20px;">
<a style="align: middle;" target="_blank" href="https://inferno.name/"><img src="/img/inferno2.png" alt="Inferno Solutions" height="57" width="200"></a>
</div>
<div style="float:right; height: 60px;  line-height: 60px;  margin-left: 15px;">
<a style="align: middle;" target="_blank" href="http://hoster.ru/?utm_source=site&amp;utm_medium=banner&amp;utm_campaign=opennet"><img src="/img/dh143x60t.png" alt="Hosting by Hoster.ru" height="60" width="143"></a>
</div>
<div style="float:right;  height: 60px;  line-height: 60px; vertical-align: middle;font-size: 120%;">
Хостинг:
</div>

</div>

<div style="clear: both;"></div>


<br>
<table class="ttxt" style="border-top: 3px solid #C9CaB6;">
<tbody><tr><td width="35%">
<a href="/cgi-bin/opennet/bookmark.cgi">Закладки на сайте</a><br>
<a href="/cgi-bin/opennet/bookmark.cgi?submit=add" target="blank_">Проследить за страницей</a>
</td>
<td align="RIGHT" width="65%">
Created&nbsp;1996-2021&nbsp;by <b><a href="/contact.shtml" title="email maxim.chirkov@gmail.com">Maxim&nbsp;Chirkov</a></b><br>
<a href="https://www.opennet.ru/add.shtml">Добавить</a>, <a href="https://www.opennet.ru/donate.shtml" style="color: #C00000;">Поддержать</a>, <a href="https://www.opennet.ru/banners2.shtml">Вебмастеру</a>
</td>
</tr>
</tbody></table>
<br><br>


<!--/htdig_noindex-->
<!-- end of footer -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-123449-1', 'auto');
    ga('send', 'pageview');
</script>




</body>
<!---------------------------------------------  0  ---------------------------------------------->
