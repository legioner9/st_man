
<!--+++++++++++++++++++++++++++++++++++++++++++  0  +++++++++++++++++++++++++++++++++++++++++++--->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Проект OpenNet: MAN gawk (1) Команды и прикладные программы пользовательского уровня (FreeBSD и Linux)</title><meta name="KeyWords" content="man, manual, MAN, системное руководство, linux, FreeBSD, OpenBSD, Solaris, ядро, программы, системный вызов, gawk"><meta name="viewport" content="width=device-width, initial-scale=1"></head>


<body link="#0000FF" vlink="#000080" text="#000000" bgcolor="#E3E4D0" alink="#FF00FF">
<link rel="stylesheet" href="/opennet4.css" type="text/css">
<!--htdig_noindex-->
<form method="get" action="https://www.opennet.ru/search.shtml">
<aside>
<div style="width: 100%; text-align: right; font-size: 70%; background: #E9EAD6; margin-bottom:-10px;">
Профиль: <b><a href="/~" rel="nofollow" title="/~ - сводная страница участника"><u>Аноним</u></a></b> (<a href="https://www.opennet.ru/cgi-bin/openforum/vsluhboard.cgi?az=login">вход</a> | <a href="https://www.opennet.ru/cgi-bin/openforum/vsluhboard.cgi?az=user_register">регистрация</a>)</div>

<table cellspacing="0" cellpadding="0" width="100%" border="0">
<tbody><tr>
<td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left" valign="BOTTOM" bgcolor="#E9EAD6" width="300">
<a href="https://www.opennet.ru/"><img src="/opennet2.gif" alt="The OpenNET Project" height="60" width="249" border="0"></a><br>
</td>
<td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left" bgcolor="#E9EAD6" align="CENTER" width="100">

</td><td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left;padding-bottom:10px;" bgcolor="#E9EAD6" align="CENTER" width="50%">
<table width="100%" border="0">
<tbody><tr>
<td width="22%">
 <a href="https://www.opennet.ru/opennews/" class="h"><b>НОВОСТИ</b></a> (<a href="https://www.opennet.ru/news/opennet.shtml" class="h">+</a>)
</td><td width="18%%">
  <a href="https://www.opennet.ru/mp/" class="h"><b>КОНТЕНТ</b></a>
</td><td width="14%">
  <a href="http://wiki.opennet.ru" class="h"><b>WIKI</b></a>
</td><td width="14%">
   <a href="https://www.opennet.ru/man.shtml" class="h"><b>MAN'ы</b></a>
</td><td width="16%">
   <a href="https://www.opennet.ru/forum/" class="h"><b>ФОРУМ</b></a>
</td><td width="16%">
<a href="https://www.opennet.ru/search.shtml" class="h" onmouseover="document.getElementById('form12').style.display='block';">Поиск</a>&nbsp;(<a href="https://www.opennet.ru/keywords/" class="h">теги</a>)
<input id="form12" style="display: none;" size="10" name="words" value="" title="для поиска в google наберите &quot;g фраза&quot;" type="text">
</td></tr>
</tbody></table>

</td><td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left;padding-bottom:5px;" bgcolor="#E9EAD6" align="right" width="20%">

<a href="https://www.opennet.ru/opennews/opennews_all_utf.rss"><img src="/img/rss.png" alt="RSS" title="RSS" height="16" width="16" border="0"></a>&nbsp;<a href="https://twitter.com/opennetru"><img src="/twitter.png" alt="twitter" title="Twitter" height="16" width="16" border="0"></a>&nbsp;<a href="https://vk.com/opennet"><img src="/img/vkontakte.gif" title="ВКонтакте" height="16" width="16" border="0"></a>&nbsp;<a href="https://zen.yandex.ru/opennet"><img src="/img/zen.gif" title="Yandex Zen" height="16" width="16" border="0"></a>&nbsp;<a href="https://www.facebook.com/OpenNet.News/"><img src="/img/facebook.gif" title="Facebook" height="16" width="16" border="0"></a>&nbsp;<a href="https://telegram.space/opennet_ru"><img src="/img/telegram2.png" title="Telegram" height="16" width="16" border="0"></a>
</td></tr></tbody></table>
</aside>

<style>
    .hdr_mobile {
	text-align: center; 
	display: none;
	margin: 0px;
	padding: 0px;
    }
</style>
<div class="hdr_mobile">
<div style="margin-left: auto; margin-right: auto; width: 100%; height: 70px; border:1px solid #b0b190; min-width: 360px; max-width: 600px; background: #E9EAD6 url('/back.gif') repeat-x bottom left;">
<div style="float:left; width: 249px; height: 60px; margin-top: 10px;">
<a href="https://www.opennet.ru"><img src="/opennet2_lite.gif" style="height: 60px; width: 249px; border: 1px;" alt="The OpenNET Project / Index page"></a>
</div>
<div style="float: left; text-align: center; height: 70px; width: 331px; padding: 5px; margin-left: 10px;">
<br><small>[ <a href="/opennews/">новости</a>&nbsp;/<a href="/opennews/?full_lines=15&amp;lines=15&amp;mid_lines=00">+++</a> | <a href="/forum/">форум</a> | <a href="http://wiki.opennet.ru">wiki</a> | <a href="/keywords/">теги</a>
| <a href="tg://resolve?domain=opennet_ru"><img src="/img/telegram2.png" title="Telegram" style="margin-bottom: -4px;" height="16" width="16" border="0"></a>
]</small>
</div>
</div>
</div>
<div style="clear: both;"></div>


<div style="float: left; width: 279; text-align: left;padding-right: 60px;" id="adv">
</div>
<div style="padding-top: 0px;position:absolute;left:50%;margin-left:-235px;width:470px;" id="adv2">
</div>
<div style="width: 279;float: right;" id="adv3">
</div>
<div style="clear: both;"></div>
<br>
</form>
<!--/htdig_noindex-->

<center><h3><font color="#000088">Интерактивная система просмотра системных руководств (man-ов)</font></h3></center>
<form method="GET" action="/man.shtml"> 
<table cellspacing="0" cellpadding="1" bgcolor="#B0B190" align="center" width="600" border="0">
<tbody><tr>
<td valign="TOP">

<table cellspacing="0" cellpadding="0" bgcolor="#E9EAD6" align="center" width="100%" border="0">
<tbody><tr><td>&nbsp;<font color="#555555">Тема</font></td><td><font color="#555555">Набор</font></td><td><font color="#555555">Категория</font></td><td>&nbsp;</td></tr>
<tr><td>

&nbsp;<input size="20" name="topic" value="gawk" type="text"></td><td><select name="russian">
<option value="4">Solaris man
</option><option value="1">FreeBSD man
</option><option value="3">Разные man
</option><option value="0" selected="">Русские man
</option><option value="2">Linux man
</option><option value="5">POSIX man
</option></select></td>
<td><select size="1" name="category">
	  <option value="" selected="">All
	  </option><option value="1">1
	  </option><option value="2">2
	  </option><option value="3">3
	  </option><option value="4">4
	  </option><option value="5">5
	  </option><option value="6">6
	  </option><option value="7">7
	  </option><option value="8">8
	  </option><option value="9">9
</option></select></td>

<td><input name="submit" value="Показать man" type="submit"></td></tr>
<script async="" src="https://www.google-analytics.com/analytics.js"></script><script language="JavaScript" src="/print.js"></script>
<tr><td colspan="4" align="left">&nbsp;[<a href="/man.shtml">Cписок руководств</a> | <a href="#" onclick="pr('none');">Печать</a>]</td></tr>
</tbody></table>
</td></tr></tbody></table>
</form>
<h3></h3><font size="+2">gawk (1)</font><hr><li> <a href="/man.shtml?topic=gawk&amp;category=1&amp;russian=4"><u>gawk</u></a> (1) <font color="#555555"> ( Solaris man: Команды и прикладные программы пользовательского уровня )</font></li><li>&gt;&gt; <a href="/man.shtml?topic=gawk&amp;category=1&amp;russian=0"><u>gawk</u></a> (1) <font color="#555555"> ( Русские man: Команды и прикладные программы пользовательского уровня )</font></li><li> <a href="/man.shtml?topic=gawk&amp;category=1&amp;russian=2"><u>gawk</u></a> (1) <font color="#555555"> ( Linux man: Команды и прикладные программы пользовательского уровня )</font></li>
<a name="lbAB">&nbsp;</a>
<h2>НАЗВАНИЕ</h2>

gawk - язык поиска и обработки шаблонов
<a name="lbAC">&nbsp;</a>
<h2>СИНТАКСИС</h2>

<b>gawk</b>

[ опции POSIX или GNU ]
<b>-f</b>

<i>файл-с-программой</i>

[
<b>--</b>

] файл ...
<br>

<b>gawk</b>

[ опции POSIX или GNU ]
[
<b>--</b>

]
<i>текст-программы</i>

файл ...
<a name="lbAD">&nbsp;</a>
<h2>ОПИСАНИЕ</h2>

<i>Gawk</i>

- это GNU реализация языка программирования AWK.
Она соответствует определению языка, данному в
<font size="-1">POSIX</font> 1003.2 Command Language And Utilities Standard.
Этот стандарт, в свою очередь, основан на книге
<i>The AWK Programming Language</i>,

авторы Aho, Kernighan и Weinberger. Кроме того, в
<i>gawk</i>

внесены некоторые дополнительные возможности, появившимися в версии
<i>awk</i>

для <font size="-1">UNIX</font> System V Release 4.
Поддерживаются и более поздние расширения
<i>awk</i>,

предложенные Bell Labs, а также некоторые расширения GNU.
<p>

Командная строка состоит из опций
<i>gawk</i>,

текста программы AWK (если не были указаны опции
<b>-f</b>

или
<b>--file</b>)

и значений, которые в дальнейшем будут присвоены
встроенным переменным AWK
<b>ARGC</b>

и
<b>ARGV</b>.

<a name="lbAE">&nbsp;</a>
</p><h2>ФОРМАТ ОПЦИЙ</h2>

<p>

Опции
<i>gawk</i>

могут быть указаны как в традиционном для <font size="-1">POSIX</font> однобуквенном формате,
так и в формате длинных опций GNU. Опции <font size="-1">POSIX</font> начинаются с ``-'',
а длинные опции начинаются с ``--''.
Длинные опции доступны как для специфичных для GNU возможностей,
так и для стандартных возможностей <font size="-1">POSIX</font>.
</p><p>

В соответствие со стандартом <font size="-1">POSIX</font>, опции, специфичные для
<i>gawk</i>,

должны быть указаны в качестве аргументов опции
<b>-W</b>.

Может быть указано несколько опций
<b>-W</b>.

Каждой опции
<b>-W</b>

соответсвует длинная опция (см. ниже).
Аргументы длинных опций могут быть указаны после знака
<b>=</b>

(без пробелов), либо следующим аргументом командной строки.
Длинные опции можно сокращать, при условии сохранения уникальности
опции.
<a name="lbAF">&nbsp;</a>
</p><h2>ОПЦИИ</h2>

<p>

<i>Gawk</i>

понимает следуюшие опции.
</p><dl compact="">
<dt>
</dt><dd>
<b>-F</b><i> fs</i>

</dd><dt>
</dt><dd>
<b>--field-separator</b><i> fs</i>

Использовать
<i>fs</i>

в качестве разделителя полей (значение встроенной переменной
<b>FS</b>).

</dd><dt>
</dt><dd>
<b>-v</b><i> переменная</i><b>=</b><i>значение</i>
</dd><dt>
</dt><dd>
<b>--assign </b><i>переменная</i><b>=</b><i>значение</i>
Присвоить перед выполнением программы
<i>значение</i>

<i>переменной</i>.

Такие переменные доступны в блоке
<b>BEGIN</b>

программы AWK.
</dd><dt>
</dt><dd>
<b>-f</b><i> файл-с-программой</i>

</dd><dt>
</dt><dd>
<b>--file</b><i> файл-с-программой</i>

Взять программу AWK из
<i>файла-с-программой</i>,

вместо того, чтобы брать ее из первого аргумента командной строки.
Может быть указано несколько опций
<b>-f</b>

(или
<b>--file</b>).

</dd><dt>
</dt><dd>
<b>-mf</b><i> NNN</i>

</dd><dt>
</dt><dd>
<b>-mr</b><i> NNN</i>

Установить различные ограничения памяти в
<i>NNN</i>.

Флаг 
<b>f</b>

устанавливает максимальное количество полей, а флаг
<b>r</b>

- максимальный размер записи. Эти два флага опции
<b>-m</b>

были введены в исследовательской версии Bell Labs <font size="-1">UNIX</font>
<i>awk</i>.

Они игнориуются 
<i>gawk</i>,

так как
<i>gawk</i>

не имеет предопределенных ограничений.
</dd><dt>
</dt><dd>
<b>-W traditional</b>

</dd><dt>
</dt><dd>
<b>-W compat</b>

</dd><dt>
</dt><dd>
<b>--traditional</b>

</dd><dt>
</dt><dd>
<b>--compat</b>

Работать в режиме 
<i>совместимости</i>.

В этом режиме
<i>gawk</i>

работает как <font size="-1">UNIX</font>
<i>awk</i>.

Расширения GNU не поддерживаются.
Рекомендуется включать этот режим опцией
<b>--traditional</b>.

Более подробная информация приведена ниже в разделе
<b>РАСШИРЕНИЯ GNU</b>.

</dd><dt>
</dt><dd>
<b>-W copyleft</b>

</dd><dt>
</dt><dd>
<b>-W copyright</b>

</dd><dt>
</dt><dd>
<b>--copyleft</b>

</dd><dt>
</dt><dd>
<b>--copyright</b>

Вывести краткую информацию GNU о правах и выйти.
</dd><dt>
</dt><dd>
<b>-W help</b>

</dd><dt>
</dt><dd>
<b>-W usage</b>

</dd><dt>
</dt><dd>
<b>--help</b>

</dd><dt>
</dt><dd>
<b>--usage</b>

Вывести относительно краткую справку по опциям.
(В соответствие с
<i>GNU Coding Standards</i>,

эти опции приводят к немедленному нормальному выходу.)
</dd><dt>
</dt><dd>
<b>-W lint</b>

</dd><dt>
</dt><dd>
<b>--lint</b>

Выдавать предупреждения о наличии сомнительных или
несовместих с другими версиями AWK конструкциях.
</dd><dt>
</dt><dd>
<b>-W lint-old</b>

</dd><dt>
</dt><dd>
<b>--lint-old</b>

Выдавать предупреждения о наличии конструкций,
несовместих со старыми версиями UNIX
<i>awk</i>.


</dd><dt>
</dt><dd>
<b>-W posix</b>

</dd><dt>
</dt><dd>
<b>--posix</b>

Включить режим
<i>совместимости</i>

со следующими ограничениями:
<dl compact=""><dt></dt><dd>
<dl compact="">
<dt>*</dt><dd>
Не распознаются экранирующие последовательности
<b>\x</b>.

</dd><dt>*</dt><dd>
Если значение
<b>FS</b>

- один пробел, то разделителями считаются только
пробел и символ табуляции. Символ новой строки
разделителем не считается.
</dd><dt>*</dt><dd>
Не распознается синоним
<b>func</b>

ключевого слова
<b>function</b>.

</dd><dt>*</dt><dd>
Операторы
<b>**</b>

и
<b>**=</b>

не могут быть использованы вместо
<b>^</b>

и
<b>^=</b>.

</dd><dt>*</dt><dd>
Недоступна функция
<b>fflush()</b>.

</dd></dl>
</dd></dl>

</dd><dt>
</dt><dd>
<b>-W re-interval</b>

</dd><dt>
</dt><dd>
<b>--re-interval</b>

Разрешить использование
<i>интервальных выражений</i>

в регулярных выражениях.
(см. раздел
<b>Регулярные выражения</b>

ниже).
Интервальные выражения традиционно отсутствовали в языке AWK.
Стандарт POSIX внес их для совместимости
<i>awk</i>

и
<i>egrep</i>

друг с другом.
Тем не менее, их использование может привести к ошибкам в работе
старых программ AWK, поэтому
<i>gawk</i>

распознает их только если указана эта опция или опция
<b>--posix</b>.

</dd><dt>
</dt><dd>
<b>-W source </b><i>текст-программы</i>

</dd><dt>
</dt><dd>
<b>--source</b><i> текст-программы</i>

Использовать
<i>текст-программы</i>

в качестве текста программы AWK.
Эта опция позволяет совмещать вызовы библиотечных функций (подключаемых
через опции
<b>-f</b>

и
<b>--file</b>)

с исходным кодом, вводимым в командной строке.
Эта опция, в первую очередь, предназначена для средних и больших по
размеру программ AWK, используемых в скриптах shell.
</dd><dt>
</dt><dd>
<b>-W version</b>

</dd><dt>
</dt><dd>
<b>--version</b>

Вывести информацию о версии вашей копии
<i>gawk</i>.

Эта опция может быть полезна, если вы хотите узнать, не устарел ли
<i>gawk</i>,

установленный в вашей системе, а также если вы хотите сообщить об
ошибке.
(В соответствие с
<i>GNU Coding Standards</i>,

эти опции приводят к немедленному нормальному выходу.)
</dd><dt><b>--</b>

</dt><dd>
Конец опций. Эта опция используется для возможности обработки аргументов,
начинающихся с ``-'', непосредственно программой AWK, что соответствует
соглашению об обработке аргументов, используемому большинством других
программ, совместимых со стандартом <font size="-1">POSIX</font>.
</dd></dl>
<p>

В режиме совместимости все другие опции считаются неверными и игнорируются.
В обычном режиме, если указан текст программы, неизвестные опции передаются
через массив
<b>ARGV</b>

программе AWK для обработки. Это очень удобно для запуска программ через
``#!''.
<a name="lbAG">&nbsp;</a>
</p><h2>ИСПОЛНЕНИЕ ПРОГРАММЫ AWK</h2>

<p>

Программы AWK состоит из последовательности операторов шаблон-действие и,
возможно, определений функций.
</p><dl compact=""><dt></dt><dd>
<p>

<i>шаблон</i><b> { </b><i>операторы</i><b> }</b>
<br>

<b>function </b><i>имя</i><b>(</b><i>список параметров</i><b>) { </b><i>операторы</i><b> }</b>
</p></dd></dl>

<p>

Сначала
<i>gawk</i>

читает исходный текст программы из
<i>файлов-с-программой</i>

и из аргументов опции
<b>--source</b>,

если они указаны,
или из первого аргумента командной строки, не являющегося опцией.
Опции
<b>-f</b>

и
<b>--source</b>

могут быть указаны в командной строке несколько раз.
<i>Gawk</i>

воспринимает текст программы так, как будто все
<i>файлы-с-программой</i>

были сцеплены друг с другом. Это удобно при создании библиотек функций
AWK, так как не требует явного определения функций в каждой новой программе,
использующей их. Кроме того, эта возможность позволяет совмещать
библиотечные функции с программами, указанными в командной строке.
</p><p>

Переменная окружения
<b>AWKPATH</b>

содержит путь, по которому производится поиск файлов,
указанных в качестве аргумента опции
<b>-f.</b>

Если эта переменная не указана, то, по умолчанию, используется путь
<b>".:/usr/local/share/awk"</b>.
(Путь может быть и другим, это зависит от того, как
<i>gawk</i>

был скомпилирован и установлен.)
Если имя файла, указанное в качестве аргумента опции
<b>-f</b>,

содержит символ ``/'', то поиск не производистся.
</p><p>

<i>Gawk</i>

выполняет программы следующим образом.
Сперва
производится инициализация переменных, указанных опцией
<b>-v</b>.

Далее
<i>gawk</i>

компилирует программу во внутренний формат.
Затем
<i>gawk</i>

исполняет код в блоке (блоках)
<b>BEGIN</b>,

если таковые имеются,
и начинает читать файлы, имена которых содержатся в массиве
<b>ARGV</b>.

Если в командной строке не были указаны файлы, то
<i>gawk</i>

читает стандартный поток ввода.
</p><p>

Если имя файла в командной строке имеет вид
<i>переменная</i><b>=</b><i>значение</i>,
то оно воспринимается как операция присваивания.
<i>Переменной</i>

присваивается
<i>значение</i>.

(Это происходит после выполнения блока (блоков)
<b>BEGIN</b>.)

Присваивание значений переменным в командной строке удобно для
динамической инициализации переменных, используемых AWK для определения
способа деления входного потока на поля и записи. Кроме того, оно может
пригодится в тех случаях, когда требуется несколько раз обработать один
и тот же файл.
</p><p>

Если значение какого-либо элемента
<b>ARGV</b>

пусто (<b>""</b>), то
<i>gawk</i>

пропускает его.
</p><p>

Каждую запись входного потока
<i>gawk</i>

проверяет на предмет совпадения
<i>шаблонов</i>

программы AWK.
Для каждого совпавшего шаблона выполняется соответствующее ему
<i>действие</i>.

Проверка шаблонов производится в том порядке, в каком они встречаются
в программе.
</p><p>

Наконец,
после того, как весь входной поток обработан,
<i>gawk</i>

исполняет код блока (блоков)
<b>END</b>,

если таковые имеются.
<a name="lbAH">&nbsp;</a>
</p><h2>ПЕРЕМЕННЫЕ, ЗАПИСИ И ПОЛЯ</h2>

В AWK используются динамические переменные, то есть, появляющиеся при первом
использовании. Переменные могут быть числами с плавающей запятой,
строками, или и тем, и другим, в зависимости от использования. AWK также
поддерживает одномерные массивы. Многомерные массивы могут быть
имитированы. Во время выполнения программы существуют несколько
встроенных переменных (см. ниже).
<p>
<a name="lbAI">&nbsp;</a>
</p><h3>Записи</h3>

По умолчанию записи разделяются символами новой строки. Вы можете
переопределить способ разделения записей, присвоив нужное значение
встроенной переменной
<b>RS</b>.

Если значение
<b>RS</b>

- единственный символ, то он будет использоваться для разделения
записей. В противном случае
<b>RS</b>

- регулярное выражение. Текст входного потока, совпавший с ним,
будет разделять записи. В режиме совместимости для разделения
записей будет использоваться только первый символ строки выражения.
Если
<b>RS</b>

- пустая строка, то записи будут разделяться пустыми строками.
При этом символ новой строки всегда будет работать как разделитель
полей, в дополнение к значению
<b>FS</b>.

<a name="lbAJ">&nbsp;</a>
<h3>Поля</h3>

<p>

Каждую считываемую строку
<i>gawk</i>

разбивает на
<i>поля</i>,

используя значение переменной
<b>FS</b>

в качестве разделителя.
Если значение
<b>FS</b>

- единственный символ, то поля разделяются этим символом.
Если значение
<b>FS</b>

- пустая строка, то каждый символ считается отдельным полем.
В противном случае,
<b>FS</b>

считается регулярным выражением.
Исключение составляет случай, когда значение
<b>FS</b>

- один пробел. При этом поля разделяются комбинациями пробелов
и/или символов табуляции, и/или символами новой строки.
(См. также информацию по
<b>--posix</b>

ниже.)
Заметьте, что значение
<b>IGNORECASE</b>

(см. ниже) также будет влиять на разделение полей, если
<b>FS</b>

-  регулярное выражение, и  на разделение записей, если
<b>RS</b>

- регулярное выражение.
</p><p>

Если переменная
<b>FIELDWIDTHS</b>

содержит список чисел, разделенных пробелами, то
<i>gawk</i>

считает ширину каждого поля фиксированной и разделяет запись в
соответствие c указанными значениями. Значение переменной
<b>FS</b>

в этом случае игнорируется.
Присваивание нового значения переменной
<b>FS</b>

аннулирует использование
<b>FIELDWIDTHS</b>

и восстанавливает поведение, принятое по умолчанию.
</p><p>

На любое поле входной записи можно ссылаться по его позиции -
<b>$1</b>,

<b>$2</b>

и так далее.
<b>$0</b>

ссылается на всю запись. Кроме того, любому полю можно присвоить значение.
Для ссылок на поля необязательно использовать константы. Например
</p><dl compact=""><dt></dt><dd>
<p>

<b>
n = 5
<br>

print $n
</b>
</p></dd></dl>

<p>

выведет пятое поле записи.
Переменная
<b>NF</b>

содержит количество полей входной записи.
</p><p>

Результатом ссылки на несуществующее поле (т. е. поле с номером,
превышающим
<b>$NF</b>)

является пустая строка. Присваивание значения несуществующему полю
(например,
<b>$(NF+2) = 5</b>)

увеличивает значение
<b>NF</b>

и создает промежуточные поля с пустой строкой в качестве значения.
Содержимое переменной
<b>OFS </b>

используется в качестве разделителя полей. Значение 
<b>$0</b>

вычисляется заново.
Ссылка на поля с отрицательными номерами является ошибкой.
Уменьшение значения
<b>NF</b>

вызывает потерю значений полей с номерами, превышающими новое значение.
Значение
<b>$0</b>

вычисляется заново, поля разделяются содержимым переменной
<b>OFS</b>.

<a name="lbAK">&nbsp;</a>
</p><h3>Встроенные переменные</h3>

<p>

Встроенными переменными
<i>Gawk</i>

являются:
</p><p>

</p><dl compact="">
<dt><b>ARGC</b>

</dt><dd>
Количество аргументов командной строки (исключая опции
<i>gawk</i>

и исходный текст программы).
</dd><dt><b>ARGIND</b>

</dt><dd>
Индекс массива
<b>ARGV</b>,

указывающий на обрабатываемый в данный момент файл.
</dd><dt><b>ARGV</b>

</dt><dd>
Массив аргументов командной строки. Индекс массива может принимать значения
от 0 до
<b>ARGC</b>

- 1.
Изменяя в процессе работы программы содержимое
<b>ARGV</b>,

можно контролировать, какие файлы обрабатываются.
</dd><dt><b>CONVFMT</b>

</dt><dd>
Формат преобразования чисел. По умолчанию <b>"%.6g"</b>.
</dd><dt><b>ENVIRON</b>

</dt><dd>
Массив текущих значений переменных окружения. Массив индексирован по
названиям переменных, каждый элемент содержит значение соответствующей
переменной (например, <b>ENVIRON["HOME"]</b> может иметь значение
<b>/home/arnold</b>).

Изменение содержимого этого массива не влияет на значения переменных
окружения, видимых программами, запускаемыми из
<i>gawk</i>

с помощью функции
<b>system()</b>.

(Возможно, в следующих версиях
<i>gawk</i>

это изменится.)

</dd><dt><b>ERRNO</b>

</dt><dd>
Если происходит системная ошибка при перенаправлении для
<b>getline</b>,

при чтении для 
<b>getline</b>,

или при вызове
<b>close()</b>,

то
<b>ERRNO</b>

будет содержать строку, которая описывает ошибку.
</dd><dt><b>FIELDWIDTHS</b>

</dt><dd>
Список длин полей, разделенный пробелами. Если этой переменной
присваивается новое значение, то
<i>gawk</i>

разделяет входные данные на поля фиксированной длины, при этом значение
переменной
<b>FS</b>

игнорируется.
Возможность работы с полями фиксированной длины все еще находится в
стадии проверки; семантика может поменяться в процессе развития
<i>gawk</i>.

</dd><dt><b>FILENAME</b>

</dt><dd>
Имя файла, обрабатываемого в данный момент.
Если в командной строке не было указано ни одного файла, то значение
<b>FILENAME</b>

равно ``-''.
В блоке
<b>BEGIN</b>

переменная
<b>FILENAME</b>

не определена.
</dd><dt><b>FNR</b>

</dt><dd>
Номер входной записи в текущем входном файле.
</dd><dt><b>FS</b>

</dt><dd>
Разделитель полей во входном потоке, по умолчанию пробел. Обращайтесь к
подразделу
<b>Поля</b>

выше.
</dd><dt><b>IGNORECASE</b>

</dt><dd>
Контролирует зависимость всех регулярных выражений и строковых операций
от регистра.
Если значение
<b>IGNORECASE</b>

не равно нулю, то при работе с регулярными выражениями регистр будет
игнорироваться в следующих случаях:
при сравнении строк и проверке шаблонов в правилах;
при разделении на поля с использованием значения
<b>FS</b>;

при разделении на записи с использованием значения
<b>RS</b>;

в регулярных выражениях c
<b>~</b>

и
<b>!~</b>;

во встроенных функциях
<b>gensub()</b>,

<b>gsub()</b>,

<b>index()</b>,

<b>match()</b>,

<b>split()</b>

и
<b>sub()</b>.

Таким образом, если значение
<b>IGNORECASE</b>

не равно нулю, то
<b>/aB/</b>

совпадет с любой строкой из <b>"ab"</b>, <b>"aB"</b>, <b>"Ab"</b>
или <b>"AB"</b>.
Как и у всех переменных AWK, начальное значение
<b>IGNORECASE</b>

равно 0, так что все операции со строками и регулярными выражениями
изначально чувствительны к регистру.
В Unix при игнорировании регистра используется полный набор символов ISO
8859-1 Latin-1.
<b>ПРИМЕЧАНИЕ:</b>

В версиях
<i>gawk</i>

до 3.0 значение
<b>IGNORECASE</b>

влияло только на операции с регулярными выражениями. В данный момент оно
влияет и на операции сравнения строк.
</dd><dt><b>NF</b>

</dt><dd>
Количество полей в текущей входной записи.
</dd><dt><b>NR</b>

</dt><dd>
Общее количество встреченных записей.
</dd><dt><b>OFMT</b>

</dt><dd>
Формат вывода чисел. По умолчанию <b>"%.6g"</b>.
</dd><dt><b>OFS</b>

</dt><dd>
Разделитель выходных полей. По умолчанию пробел.
</dd><dt><b>ORS</b>

</dt><dd>
Разделитель выходных записей. По умолчанию символ новой строки.
</dd><dt><b>RS</b>

</dt><dd>
Разделитель входных записей. По умолчанию символ новой строки.
</dd><dt><b>RT</b>

</dt><dd>
Конец записи.
<i>Gawk</i>

присваивает
<b>RT</b>

значение входного текста, совпавшего с символом или регулярным выражением,
содержащимся в 
<b>RS</b>.

</dd><dt><b>RSTART</b>

</dt><dd>
Индекс первого символа, совпавшего при вызове
<b>match()</b>.

0, если совпадения не было.
</dd><dt><b>RLENGTH</b>

</dt><dd>
Длина строки, совпавшей при вызове
<b>match()</b>.

-1, если совпадения не было.
</dd><dt><b>SUBSEP</b>

</dt><dd>
Символ, используемый для разделения элементов в массиве. По умолчанию
<b>"\034"</b>.
</dd></dl>
<a name="lbAL">&nbsp;</a>
<h3>Массивы</h3>

<p>

Массивы индексируются по выражению, указанному между квадратными скобками
(<b>[</b> и <b>]</b>).

Если выражение является списком выражений
(<i>выражение</i>, <i>выражение</i> ...),

то массив индексируется по строке, состоящей из сцепленных (строковых)
значений всех выражений, разделенных значением переменной 
<b>SUBSEP</b>.

Эта возможность используется для имитирования многомерных массивов. 
Например
</p><p>

</p><dl compact=""><dt></dt><dd>
<b>
i = "A"; j = "B"; k = "C"
<br>

x[i, j, k] = "hello, world\n"
</b>
</dd></dl>

<p>

присваивает элементу массива
<b>x</b>,

индексированного по строке <b>"A\034B\034C"</b>,
строку <b>"hello, world\n"</b>.
Все массивы в AWK ассоциативны, т.е. индексируются по строковым значениям.
</p><p>

Для проверки существования в массиве определенного индекса в операторах
<b>if</b>

и
<b>while</b>

может быть использован специальный оператор
<b>in</b>.

</p><p>

</p><dl compact=""><dt></dt><dd>
<b>
</b><pre>if (val in array)
        print array[val]
</pre>


</dd></dl>

<p>

Если массив многомерный, используйте
<b>(i, j) in array</b>.

</p><p>

Конструкция
<b>in</b>

может быть также использована в цикле
<b>for</b>

для перебора всех элементов массива.
</p><p>

Элемент может быть удален из массива оператором
<b>delete</b>.

Кроме того, оператор
<b>delete</b>

может быть использован для удаления всего массива. Для этого нужно указать
имя массива без индекса.
<a name="lbAM">&nbsp;</a>
</p><h3>Типы переменных и их преобразование</h3>

<p>

Переменные и поля могут быть числами с плавающей запятой, строками или и
тем, и другим одновременно. Тип переменной зависит от контекста. В числовых
выражениях переменная считается числом, в строковых - строкой.
</p><p>

Если вы хотите, чтобы переменная считалась числом, добавьте к ней 0. Если
вы хотите, чтобы переменная считалась строкой, сцепите ее с пустой строкой.
</p><p>

Конвертирование строки в число производится с помощью
<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=atof&amp;category=3">atof</a></i>(3).

Конвертирование числа в строку производится с помощью
<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=sprintf&amp;category=3">sprintf</a></i>(3),

путем использования значения
<b>CONVFMT</b>

в качестве строки форматирования, и числового значения переменной в качестве
аргумента.
Хотя все числа в AWK считаются числами с плавающей запятой, целые значения
<i>всегда</i>

преобразуются как целые. Поэтому в
</p><p>

</p><dl compact=""><dt></dt><dd>
<b>
</b><pre>CONVFMT = "%2.2f"
a = 12
b = a ""
</pre>


</dd></dl>

<p>

строковое значение переменной
<b>b</b>

будет <b>"12"</b>, а не <b>"12.00"</b>.
</p><p>

<i>Gawk</i>

выполняет сравнения следующим образом:
если две переменные имеют числовое значение, то они сравниваются как числа;
если одна переменная имеет числовое значение, а вторая является
``строкой-числом'' (т.е. строкой, состоящей из цифр), то переменные сравниваются как числа.
Во всех остальных случаях производится преобразование числа в строку, и переменные
сравниваются как строки.
Две строки, естественно, сравниваются как строки.
В соответствие со стандартом <font size="-1">POSIX</font>, даже если две строки являются ``строками-числами'',
то они сравниваются как числа. Но это, безусловно, неправильно, поэтому
<i>gawk</i>

не делает этого.
</p><p>

Заметьте, что строковые константы, такие как <b>"57"</b>,
<i>не</i>

являются ``строками-числами'', а именно строковыми константами. Термин
``строка-число'' применим лишь к полям, входным данным
<b>getline</b>,

<b>FILENAME</b>,

элементам
<b>ARGV</b>,

элементам
<b>ENVIRON</b>

и тем элементам массива, созданного
<b>split()</b>,

которые являются числовыми строками.
Основная идея в том, что таким образом интерпретируется только
<i>входная информация пользователя</i>,

выглядящая, как число.
</p><p>

Переменные, неинициализированные явно, имеют числовое значение 0 и строковое
значение "" (пустая строка).
<a name="lbAN">&nbsp;</a>
</p><h2>ШАБЛОНЫ И ДЕЙСТВИЯ</h2>

AWK - это язык, ориентированный на строки. Сперва указывается шаблон, затем
действие. Операторы действия заключаются в фигурные скобки
<b>{</b>

и
<b>}</b>.

Шаблон или действие могут быть пропущены, но, естественно, не то и другое
одновременно. Если не указан шаблон, то действие будет выполняться для
каждой входной записи. Пропущенное действие эквивалентно
<dl compact=""><dt></dt><dd>
<p>

<b>{ print }</b>

</p></dd></dl>

<p>

то есть, выводу всей записи.
</p><p>

Комментарии начинаются с символа ``#'' и продолжаются до конца строки.
Для разделения операторов могут использоваться пустые строки.
Обычно оператор заканчивается концом строки, кроме случаев, когда строки
оканчиваются символами
``,'',
<b>{</b>,

<b>?</b>,

<b>:</b>,

<b>&amp;&amp;</b>

или
<b>||</b>.

Если строка оканчивается
<b>do</b>

или
<b>else</b>,

подразумевается, что оператор продолжается в следующей строке. В других
случаях строка может быть продолжена с помощью символа ``\'', при этом
символ новой строки будет проигнорирован.
</p><p>

Несколько операторов, помещенных в одной строке, должны быть разделены
символом ``;''. Это относится как к операторам действия пары
шаблон-действие (типичный случай), так и к самим парам шаблон-действие.
<a name="lbAO">&nbsp;</a>
</p><h3>Шаблоны</h3>

Шаблоны AWK могут быть следующими:
<p>

</p><dl compact=""><dt></dt><dd>
<pre><b>BEGIN</b>
<b>END</b>
<b>/</b><i>регулярное выражение</i><b>/</b>
<i>условное выражение</i>
<i>шаблон</i><b> &amp;&amp; </b><i>шаблон</i>
<i>шаблон</i><b> || </b><i>шаблон</i>
<i>шаблон</i><b> ? </b><i>шаблон</i><b> : </b><i>шаблон</i>
<b>(</b><i>шаблон</i><b>)</b>
<b>!</b><i> шаблон</i>
<i>шаблон1</i><b>, </b><i>шаблон2</i>
</pre>

</dd></dl>

<p>

<b>BEGIN</b>

и
<b>END</b>

- два специальных шаблона, которые не проверяются на совпадение со входными
данными. Действия всех шаблонов
<b>BEGIN</b>

объединяются, как будто все операторы были указаны в одном блоке
<b>BEGIN</b>.

Операторы этих блоков выполняются перед чтением каких-либо входных данных.
Подобным образом объединяются все блоки
<b>END</b>.

Операторы этих блоков выполняются после чтения всех входных данных (или
после выполнения оператора
<b>exit</b>).

<b>BEGIN</b>

и
<b>END</b>

не могут быть объединены в шаблонных выражениях с другими шаблонами.
Действие для шаблонов
<b>BEGIN</b>

и
<b>END</b>

обязательно должно быть указано.
</p><p>

Действие, связанное с шаблонами
<b>/</b><i>регулярное выражение</i><b>/</b>

, выполняется для всех входных записей, совпавших с 
<i>регулярным выражением</i>.

Регулярные выражения те же, что и в
<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=egrep&amp;category=1">egrep</a></i>(1),

общая информация по ним дана ниже.
</p><p>

<i>Условное выражение</i>

может состоять из любых операторов, описанных ниже в разделе, посвященном
действиям. В большинстве случаев, это проверки на совпадение определенных
регулярных выражений с определенными полями.
</p><p>

Операторы
<b>&amp;&amp;</b>,

<b>||</b>

и
<b>!</b>

- это логические И, ИЛИ и НЕ, соответственно. Эти операторы
используются для объединения более простых шаблонных выражений. Как и в
большинстве языков, для изменения очередности вычислений могут применяться
круглые скобки. Как и в C, используется краткое вычисление логических
выражений.
</p><p>

Оператор
<b>?:</b>

соответствует оператору C. Если первый шаблон - истина, то для проверки
используется второй шаблон, в противном случае - третий. Вычисляется
только второй, или только третий шаблон.
</p><p>

Выражение
<i>шаблон1</i><b>, </b><i>шаблон2</i>

называется 
<i>шаблоном области</i>.

Он совпадает со всеми записями, начиная с записи, совпавшей с
<i>шаблоном1</i>,

и заканчивая  совпавшей с
<i>шаблоном2</i>,

включительно. Этот шаблон не может быть объединен с другими шаблонами.
<a name="lbAP">&nbsp;</a>
</p><h3>Регулярные выражения</h3>

Регулярные выражения AWK - это расширенная версия регулярных выражений
<i>egrep</i>.

Они составляются из символов следующим образом:
<dl compact="">
<dt><i>c</i>

</dt><dd>
совпадает с не-метасимволом
<i>c</i>.

</dd><dt><i>\c</i>

</dt><dd>
совпадает с символом
<i>c</i>.

</dd><dt><b>.</b>

</dt><dd>
совпадает с любым символом,
<i>включая</i>

символ начала строки.
</dd><dt><b>^</b>

</dt><dd>
совпадает с началом строки.
</dd><dt><b>$</b>

</dt><dd>
совпадает с концом строки.
</dd><dt><b>[</b><i>abc...</i><b>]</b>

</dt><dd>
список символов, совпадает с любыми символоми
<i>abc...</i>.

</dd><dt><b>[^</b><i>abc...</i><b>]</b>

</dt><dd>
инвертированный список символов, совпадает с любыми символами, кроме
<i>abc...</i>.

</dd><dt><i>r1</i><b>|</b><i>r2</i>

</dt><dd>
альтернатива: совпадает либо с
<i>r1</i>,

либо с
<i>r2</i>.

</dd><dt><i>r1r2</i>

</dt><dd>
сцепление: совпадает сперва с
<i>r1</i>,

затем с
<i>r2</i>.

</dd><dt><i>r</i><b>+</b>

</dt><dd>
совпадает с одним или более
<i>r</i>.

</dd><dt><i>r</i><b>*</b>

</dt><dd>
совпадает с ноль или более
<i>r</i>.

</dd><dt><i>r</i><b>?</b>

</dt><dd>
совпадает с ноль или одним
<i>r</i>.

</dd><dt><b>(</b><i>r</i><b>)</b>

</dt><dd>
группирование: совпадает с
<i>r</i>.

</dd><dt>
</dt><dd>
<i>r</i><b>{</b><i>n</i><b>}</b>

</dd><dt>
</dt><dd>
<i>r</i><b>{</b><i>n</i><b>,}</b>

</dd><dt>
</dt><dd>
<i>r</i><b>{</b><i>n</i><b>,</b><i>m</i><b>}</b>

Одно или два числа в фигурных скобках обозначают
<i>интервальное выражение</i>.

Если в скобках указано одно число, то предыдущее регулярное выражение
<i>r</i>

повторяется
<i>n</i>

раз. Если указаны два числа, разделенные запятой, то 
<i>r</i>

повторяется от
<i>n</i>

до
<i>m</i>

раз.
Если указано только одно число после запятой, то
<i>r</i>

повторяется, как минимум,
<i>n</i>

раз.
<p>
Интервальные выражения можно использовать, только если в командной строке
указана либо опция
<b>--posix</b>,

либо
<b>--re-interval</b>.

</p></dd><dt><b>\y</b>

</dt><dd>
совпадает с пустой строкой либо в начале, либо в конце слова.
</dd><dt><b>\B</b>

</dt><dd>
совпадает с пустой строкой в слове.
</dd><dt><b>\&lt;</b>

</dt><dd>
совпадает с пустой строкой в начале слова.
</dd><dt><b>\&gt;</b>

</dt><dd>
совпадает с пустой строкой в конце слова.
</dd><dt><b>\w</b>

</dt><dd>
совпадает с любым текстовым символом (буква, цифра или подчеркивание).
</dd><dt><b>\W</b>

</dt><dd>
совпадает с любым нетекстовым символом.
</dd><dt><b>\`</b>

</dt><dd>
совпадает с пустой строкой в начале буфера (строки).
</dd><dt><b>\'</b>

</dt><dd>
совпадает с пустой строкой в конце буфера.
</dd></dl>
<p>

Все экранирующие последовательности, которые могут быть использованы
в строковых константах (см. ниже), могут употребляться и в регулярных
выражениях.
</p><p>

<i>Классы символов</i>

- новая возможность, введенная стандартом POSIX.
Класс символов - это специальная система обозначений списков символов,
имеющих особый признак. При этом символы списка в разных
странах и/или в разных наборах символов (кодировках) могут различаться.
Например, понятия символов алфавита различаются в США и во Франции.
</p><p>

Классы символов можно указывать в регулярных выражениях только
<i>внутри</i>

скобок, ограничивающих список символов.
Класс символов состоит из
<b>[:</b>,

ключевого слова, обозначающего класс, и
<b>:]</b>.

Ниже приведены классы символов, определенные стандартом POSIX.
</p><dl compact="">
<dt><b>[:alnum:]</b>

</dt><dd>
Текстовые символы (буквы, цифры, подчеркивание).
</dd><dt><b>[:alpha:]</b>

</dt><dd>
Алфавитные символы.
</dd><dt><b>[:blank:]</b>

</dt><dd>
Символы пробела или табуляции.
</dd><dt><b>[:cntrl:]</b>

</dt><dd>
Управляющие символы.
</dd><dt><b>[:digit:]</b>

</dt><dd>
Символы цифр.
</dd><dt><b>[:graph:]</b>

</dt><dd>
Символы одновременно и видимые, и печатаемые.
(Пробел печатаем, но не видим, в то время, как
<b>a</b>

- и то и другое.)
</dd><dt><b>[:lower:]</b>

</dt><dd>
Алфавитные символы нижнего регистра.
</dd><dt><b>[:print:]</b>

</dt><dd>
Печатаемые символы (не являющиеся управляющими).
</dd><dt><b>[:punct:]</b>

</dt><dd>
Знаки препинания (не буквы, не цифры, не управляющие символы и не пробел).
</dd><dt><b>[:space:]</b>

</dt><dd>
Символы пробела (такие, как пробел, табуляция, перевод формата).
</dd><dt><b>[:upper:]</b>

</dt><dd>
Алфавитные символы верхнего регистра.
</dd><dt><b>[:xdigit:]</b>

</dt><dd>
Символы, являющиеся шестнадцатеричными цифрами.
</dd></dl>
<p>

Например, до появления стандарта POSIX для совпадения текстовых символов
нужно было указать
<b>/[A-Za-z0-9]/</b>.

Если набор символов (кодировка) включал в себя другие символы, то совпадения
не происходило. С классами символов POSIX вы можете написать
<b>/[[:alnum:]]/</b>,

это выражение совпадет со
<i>всеми</i>

алфавитными и цифровыми символами вашего набора символов (кодировки).
</p><p>

В списках символов могут быть указаны еще две дополнительные
последовательности. Они относятся к не-ASCII наборам символов, в которых
могут встречаться: символы (так называемые
<i>элементы сортировки</i>),

представленные более, чем одним символом;
эквивалентные, с точки зрения
<i>сортировки</i>,

символы.
(Например, во Франции, обычная ``e''
и акцентированная e` эквивалентны.)
</p><dl compact="">
<dt>Символы сортировки</dt><dd>
Символы сортировки - это многосимвольные элементы сортировки,
заключенные между
<b>[.</b>

и
<b>.]</b>.

Например, если
<b>ch</b>

- элемент сортировки, то
<b>[[.ch.]]</b>

- регулярное выражение, совпадающее с этим элементом сортировки, в то время,
как
<b>[ch]</b>

- регулярное выражение, совпадающее либо с
<b>c</b>,

либо с
<b>h</b>.

</dd><dt>Классы эквивалентности</dt><dd>
Класс эквивалентности - это зависимое от локали (locale) имя для списка
символов, являющихся эквивалентными. Имя заключается между
<b>[=</b>

и
<b>=]</b>.

Например, имя
<b>e</b>

может быть использовано для представления
``e,'' ``e`,'' и ``e`.''
В этом случае,
<b>[[=e]]</b>

- регулярное выражение, совпадающее с
<b>e</b>,

<b>e'</b>,

и
<b>e`</b>.

</dd></dl>
<p>

Эти возможности очень ценны в не-английских локалях. Библиотечные функции,
используемые
<i>gawk</i>

для работы с регулярными выражениями, в данный момент распознают только
классы символов POSIX. Они не распознают символы сортировки и классы
эквивалентности.
</p><p>

Операторы
<b>\y</b>,

<b>\B</b>,

<b>\&lt;</b>,

<b>\&gt;</b>,

<b>\w</b>,

<b>\W</b>,

<b>\`</b>

и
<b>\'</b>

являются особенностью 
<i>gawk</i>,

а именно, его расширениями, основанными на
возможностях библиотек GNU для работы с регулярными выражениями.
</p><p>

Различные опции командной строки определяют, как
<i>gawk</i>

интерпретирует символы в регулярных выражениях.
</p><dl compact="">
<dt>Без опций</dt><dd>
По умолчанию,
<i>gawk</i>

предоставляет все возможности регулярных выражений POSIX и операторов
GNU для регулярных выражений, как описано выше.  Не поддерживаются
лишь интервальные выражения.
</dd><dt><b>--posix</b>

</dt><dd>
Поддерживаются лишь регулярные выражения POSIX, операторы GNU не имеют
специального значения. (Например,
<b>\w</b>

соответствует букве
<b>w</b>).

Интервальные выражения разрешены.
</dd><dt><b>--traditional</b>

</dt><dd>
Используются традиционные регулярные выражения
Unix
<i>awk</i>.

Операторы GNU не имеют специального значения, интервальные выражения не
поддерживаются, классы символов POSIX
(<b>[[:alnum:]]</b>

и т. д.) не поддерживаются.
Символы, указанные с помощью восьмиричной или шестнадцатиричной
экранирующей последовательности, воспринимаются буквально, даже если они
представляют собой метасимволы регулярных выражений.
</dd><dt><b>--re-interval</b>

</dt><dd>
Позволяет использовать интервальные выражения, даже если указана опция
<b>--traditional</b>.

</dd></dl>
<a name="lbAQ">&nbsp;</a>
<h3>Действия</h3>

Операторы действия заключаются в фигурные скобки
<b>{</b>

и
<b>}</b>.

Операторы действия состоят из встречающихся во многих языках, 
операторов присваивания, ветвления, цикла. Операции, управляющие операторы
и операторы ввода/вывода похожи на подобные им из языка C.
<a name="lbAR">&nbsp;</a>
<h3>Операции</h3>

<p>

В AWK определены следующие операции, в порядке убывания приоритета,
</p><p>

</p><dl compact="">
<dt><b>(</b>...<b>)</b>

</dt><dd>
Группирование
</dd><dt><b>$</b>

</dt><dd>
Ссылка на поле.
</dd><dt><b>++ --</b>

</dt><dd>
Инкремент и декремент, оба могут быть префиксными и постфиксными.
</dd><dt><b>^</b>

</dt><dd>
Возведение в степень (можно также использовать <b>**</b> и <b>**=</b> с
оператором присваивания).
</dd><dt><b>+ - !</b>

</dt><dd>
Унарный плюс, унарный минус и логическое отрицание.
</dd><dt><b>* / %</b>

</dt><dd>
Умножение, деление и модуль.
</dd><dt><b>+ -</b>

</dt><dd>
Сложение и вычитание.
</dd><dt><i>пробел</i>

</dt><dd>
Сцепление строк.
</dd><dt>
</dt><dd>
<b>&lt; &gt;</b>

</dd><dt>
</dt><dd>
<b>&lt;= &gt;=</b>

</dd><dt>
</dt><dd>
<b>!= ==</b>

Обычные операции сравнения.
</dd><dt><b>~ !~</b>

</dt><dd>
Совпадение и несовпадение регулярного выражения.
<b>ПРИМЕЧАНИЕ:</b>

Не используйте регулярное выражение-константу
(<b>/foo/</b>)

слева от
<b>~</b>

или от
<b>!~</b>,

только справа.
Выражение
<b>/</b><i>foo</i><b>/~</b><i>выражение</i>

имеет то же значение, что и <b>(($0 ~ /</b><i>foo</i><b>/) ~ </b><i>выражение</i><b>)</b>.
Обычно это
<i>не</i>

то, что предполагалось.
</dd><dt><b>in</b>

</dt><dd>
Существование в массиве.
</dd><dt><b>&amp;&amp;</b>

</dt><dd>
Логическое И.
</dd><dt><b>||</b>

</dt><dd>
Логическое ИЛИ.
</dd><dt><b>?:</b>

</dt><dd>
Условное выражение C. Оно имеет вид
<i>выражение1</i><b> ? </b><i>выражение2</i><b> : </b><i>выражение3</i>. Если
<i>выражение1</i>

является истиной, то результатом является
<i>выражение2</i>,

в противном случае - 
<i>выражение3</i>.

Вычисляется либо
<i>выражение2</i>,

либо
<i>выражение3</i>.

</dd><dt>
</dt><dd>
<b>= += -=</b>

</dd><dt>
</dt><dd>
<b>*= /= %= ^=</b>

Присваивание. Поддерживается как простое присваивание
<b>(</b><i>переменная</i><b>=</b><i>значение</i><b>)</b>,
так и сложные виды присваивания (операция-присваивание).
</dd></dl>
<a name="lbAS">&nbsp;</a>
<h3>Управляющие операторы</h3>

<p>

Управляющими операторами являются:
</p><p>

</p><dl compact=""><dt></dt><dd>
<pre><b>if (</b><i>условие</i><b>) </b><i>оператор</i> [ <b>else</b><i> оператор </i>]
<b>while (</b><i>условие</i><b>) </b><i>оператор</i>
<b>do </b><i>оператор </i><b>while (</b><i>условие</i><b>)</b>
<b>for (</b><i>выражение1</i><b>; </b><i>выражение2</i><b>; </b><i>выражение3</i><b>) </b><i>оператор</i>
<b>for (</b><i>переменная </i><b>in</b><i> массив</i><b>) </b><i>оператор</i>
<b>break</b>
<b>continue</b>
<b>delete </b><i>массив</i><b>[</b><i>индекс</i><b>]</b>
<b>delete </b><i>массив</i>
<b>exit</b> [ <i>выражение</i> ]
<b>{ </b><i>операторы </i><b>}
</b></pre>

</dd></dl>

<a name="lbAT">&nbsp;</a>
<h3>Операторы ввода/вывода</h3>

<p>

Операторами ввода/вывода являются:
</p><p>

</p><dl compact="">
<dt><b>close(</b><i>файл</i><b>)</b>

</dt><dd>
Закрыть файл (или канал, см. ниже).
</dd><dt><b>getline</b>

</dt><dd>
Считать следующую запись в
<b>$0</b>.

Установить
<b>NF</b>,

<b>NR</b>,

<b>FNR</b>.

</dd><dt><b>getline &lt;</b><i>файл</i>

</dt><dd>
Считать следующую запись
<i>файла</i>

в
<b>$0</b>.

Установить
<b>NF</b>.

</dd><dt><b>getline</b><i> переменная</i>

</dt><dd>
Считать следующую запись в
<i>переменную</i>.

Установить
<b>NR</b>,

<b>FNR</b>.

</dd><dt><b>getline</b><i> переменная</i><b> &lt;</b><i>файл</i>

</dt><dd>
Считать следующую запись
<i>файла</i>

в
<i>переменную</i>.

</dd><dt><b>next</b>

</dt><dd>
Прекратить обработку текущей входной записи. Считать следующую входную
запись и начать ее обработку с первого шаблона программы AWK. Если
обработаны все входные данные, то выполнить блок(и)
<b>END</b>,

если таковые имеются.
</dd><dt><b>nextfile</b>

</dt><dd>
Прекратить обработку текущего входного файла. Следующая входная запись
будет прочитана из следующего входного файла.
<b>FILENAME</b>

и
<b>ARGIND</b>

обновляются,
<b>FNR</b>

присваивается 1, обработка начинается с первого шаблона программы AWK.
Если обработаны все входные данные, то выполнить блок(и)
<b>END</b>,

если таковые имеются.
<b>ПРИМЕЧАНИЕ:</b>

В ранних версиях gawk использовалась конструкция
<b>next file</b>

(в два слова). Хотя эта конструкция все еще распознается, выдается
предупреждающее сообщение. В конечном счете, она не будет поддерживаться.
</dd><dt><b>print</b>

</dt><dd>
Вывести текущую запись.
Запись оканчивается содержимым переменной
<b>ORS</b>.

</dd><dt><b>print</b><i> список-выражений</i>

</dt><dd>
Вывести выражения.
Выражения разделяются содержимым переменной
<b>OFS</b>.

Запись оканчивается содержимым переменной
<b>ORS</b>.

</dd><dt><b>print</b><i> список-выражений</i><b> &gt;</b><i>файл</i>

</dt><dd>
Вывести выражения в
<i>файл</i>.

Выражения разделяются содержимым переменной
<b>OFS</b>.

Запись оканчивается содержимым переменной
<b>ORS</b>.

</dd><dt><b>printf</b><i> формат, список-выражений</i>

</dt><dd>
Отформатировать и вывести.
</dd><dt><b>printf</b><i> формат, список-выражений</i><b> &gt;</b><i>файл</i>

</dt><dd>
Отформатировать и вывести в
<i>файл</i>.

</dd><dt><b>system(</b><i>командная-строка</i><b>)</b>

</dt><dd>
Выполнить команду, указанную в
<i>командной-строке</i>,

и вернуть код выхода из команды.
(Может не работать на не-<font size="-1">POSIX</font> системах.)
</dd><dt><b>fflush(</b>[<i>файл</i>]<b>)</b></dt><dd>
Сбросить буфера, связанные с открытым для записи файлом или каналом
<i>файл</i>.

Если
<i>файл</i>

не указан, происходит сброс буферов стандартного потока вывода.
Если
<i>файл</i>

- пустая строка, то происходит сброс буферов всех открытых файлов и
каналов.
</dd></dl>
<p>

Разрешены и другие перенаправления ввода/вывода. Для
<b>print</b>

и
<b>printf</b>,

<b>&gt;&gt;</b><i> файл</i>

добавит выводимые данные в
<i>файл</i>,

а
<b>|</b><i> команда</i>

выведет данные в канал.
Подобным же образом,
<i>команда</i><b> | getline</b>

позволяет
<b>getline</b>

считывать данные из канала.
Команда
<b>getline</b>

возвращает 0 по достижении конца файла и -1 при ошибке.
<a name="lbAU">&nbsp;</a>
</p><h3>Оператор <i>printf</i></h3>

<p>

AWK версии оператора
<b>printf</b>

и функции
<b>sprintf()</b>

(см. ниже)
воспринимают следующие форматы:
</p><dl compact="">
<dt><b>%c</b>

</dt><dd>
<font size="-1">ASCII</font> символ.
Если аргумент
<b>%c</b>

является числом, то он интерпретируется как символ и выводится. В противном
случае, аргумент интерпретируется как строка,
и выводится только первый символ этой строки.
</dd><dt>
</dt><dd>
<b>%d</b>

</dd><dt>
</dt><dd>
<b>%i</b>

Десятичное число (целая часть).
</dd><dt>
</dt><dd>
<b>%e</b>

</dd><dt>
</dt><dd>
<b>%E</b>

Число с плавающей запятой в виде
<b>[-]d.dddddde[+-]dd</b>.

Формат
<b>%E</b>

использует
<b>E</b>

вместо
<b>e</b>.

</dd><dt><b>%f</b>

</dt><dd>
Число с плавающей запятой в виде
<b>[-]ddd.dddddd</b>.

</dd><dt>
</dt><dd>
<b>%g</b>

</dd><dt>
</dt><dd>
<b>%G</b>

Использовать либо формат
<b>%e</b>,

либо формат
<b>%f</b>,

в зависимости от того, что короче. Незначащие нули не выводятся.
Формат
<b>%G</b>

испольует
<b>%E</b>

вместо
<b>%e</b>.

</dd><dt><b>%o</b>

</dt><dd>
Беззнаковое восьмиричное число (целое).
</dd><dt><b>%s</b>

</dt><dd>
Строка символов.
</dd><dt>
</dt><dd>
<b>%x</b>

</dd><dt>
</dt><dd>
<b>%X</b>

Шестнадцатиричное число (целое).
Формат
<b>%X</b>

использует
<b>ABCDEF</b>

вместо
<b>abcdef</b>.

</dd><dt><b>%%</b>

</dt><dd>
Один символ
<b>%</b>.

Преобразование аргумента не производится.
</dd></dl>
<p>

Возможно указание дополнительных, необязательных параметров между символом
<b>%</b>

и буквой формата:
</p><dl compact="">
<dt><b>-</b>

</dt><dd>
Выражение должно быть выравнено по левой границе поля.
</dd><dt><i>пробел</i>

</dt><dd>
Для числовых преобразований; выводить перед положительными значениями
пробел, перед отрицательными - знак минуса.
</dd><dt><b>+</b>

</dt><dd>
Знак плюса, указанный перед параметром ширины (см. ниже), предписывает
всегда выводить знак для числовых преобразований, даже если форматируемые
данные имеют положительное значение.
<b>+</b>

аннулирует параметр
<i>пробел</i>.

</dd><dt><b>#</b>

</dt><dd>
Использовать ``альтернативный вид'' для некоторых форматов.
Для
<b>%o</b>

- вывести впереди ноль.
Для
<b>%x</b>

и
<b>%X</b>

- вывести впереди
<b>0x </b>

или
<b>0X</b>,

если результат отличен от нуля. 
Для
<b>%e</b>,

<b>%E</b>

и
<b>%f</b>

- результат всегда будет содержать десятичную запятую.
Для
<b>%g </b>

и
<b>%G</b>

- конечные нули не будут убраны из результата. 
</dd><dt><b>0</b>

</dt><dd>
Ведущий
<b>0</b>

(ноль) служит признаком того, что выводимое поле должно быть заполнено нулями, а не
пробелами. Это относится ко всем нечисловым форматам вывода. Признак
влияет, только если ширина поля превышает ширину выводимого значения.
</dd><dt><i>ширина</i>

</dt><dd>
Поле должно быть заполнено до этой ширины. Обычно поле заполняется
пробелами. Если указан параметр
<b>0</b>,

то поле будет заполнено нулями. 
</dd><dt><b>.</b><i>точность</i>

</dt><dd>
Число определяет точность вывода.
Для форматов
<b>%e</b>,

<b>%E</b>

и
<b>%f </b>

указывается количество цифр, выводимых справа от десятичной запятой.
Для форматов
<b>%g</b>

и
<b>%G</b>

указывается максимальное количество значащих цифр.
Для форматов
<b>%d</b>,

<b>%o</b>,

<b>%i</b>,

<b>%u</b>,

<b>%x</b>

и
<b>%X</b>

указывается минимальное количество выводимых цифр.
Для строки указывается максимальное количество выводимых символов
строки.
</dd></dl>
<p>

Поддерживаются динамическая
<i>ширина</i>

и
<i>точность</i>

функции
<b>printf()</b>

<font size="-1">ANSI</font> C.
Если вместо
<b>ширины</b>

или
<b>точности</b>

будет указана
<b>*</b>,

то их значения будут взяты из списка аргументов
<b>printf</b>

или
<b>sprintf()</b>.

<a name="lbAV">&nbsp;</a>
</p><h3>Специальные имена файлов</h3>

<p>

При перенаправлении ввода/вывода
<b>print </b>

и
<b>printf</b>

в файл
или
<b>getline</b>

из файла,
<i>gawk</i>

распознает некоторые специальные имена файлов. Эти имена могут
использоваться для доступа к дескрипторам открытых файлов, наследованных
от процесса, породившего
<i>gawk</i>

(обычно shell).
Другие специальные имена предоставляют доступ к информации о работающем
процессе
<b>gawk</b>.

</p><dl compact="">
<dt><b>/dev/pid</b>

</dt><dd>
Чтение этого файла возвращает идентификатор текущего процесса в десятичной
системе исчисления, с символом новой строки в конце.
</dd><dt><b>/dev/ppid</b>

</dt><dd>
Чтение этого файла возвращает идентификатор процесса, породившего текущий
процесс, в десятичной системе исчисления, с символом новой строки в конце.
</dd><dt><b>/dev/pgrpid</b>

</dt><dd>
Чтение этого файла возвращает идентификатор группы текущего процесса в
десятичной системе исчисления, с символом новой строки в конце.
</dd><dt><b>/dev/user</b>

</dt><dd>
Чтение этого файла возвращает одну запись, оканчивающуюся символом
новой строки. Поля разделены пробелами.
<b>$1</b>

- значение системного вызова
<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=getuid&amp;category=2">getuid</a></i>(2),

<b>$2</b>

- значение системного вызова
<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=geteuid&amp;category=2">geteuid</a></i>(2),

<b>$3</b>

- значение системного вызова
<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=getgid&amp;category=2">getgid</a></i>(2),

и
<b>$4</b>

- значение системного вызова
<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=getegid&amp;category=2">getegid</a></i>(2).

Если имеются дополнительные поля, то они являются идентификаторами групп,
возвращенными
<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=getgroups&amp;category=2">getgroups</a></i>(2).

Множественные группы не поддерживаются во всех системах.
</dd><dt><b>/dev/stdin</b>

</dt><dd>
Стандартный поток ввода.
</dd><dt><b>/dev/stdout</b>

</dt><dd>
Стандартный поток вывода.
</dd><dt><b>/dev/stderr</b>

</dt><dd>
Стандартный поток ошибок.
</dd><dt><b>/dev/fd/</b><i>n</i>

</dt><dd>
Файл, связанный с дескриптором открытого файла
<i>n</i>.

</dd></dl>
<p>

Специальные имена файлов очень удобны для вывода сообщений об ошибках. Например:
</p><p>

</p><dl compact=""><dt></dt><dd>
<b>
print "You blew it!" &gt; "/dev/stderr"
</b>
</dd></dl>

<p>

В противном случае, пришлось бы использовать
</p><p>

</p><dl compact=""><dt></dt><dd>
<b>
print "You blew it!" | "cat 1&gt;&amp;2"
</b>
</dd></dl>

<p>

Эти имена могут быть использованы в командной строке для указания файлов
данных.
<a name="lbAW">&nbsp;</a>
</p><h3>Числовые функции</h3>

<p>

AWK имеет следующие встроенные арифметические функции:
</p><p>

</p><dl compact="">
<dt><b>atan2(</b><i>y</i><b>,</b><i> x</i><b>)</b>

</dt><dd>
возвращает арктангенс
<i>y/x</i>

в радианах.
</dd><dt><b>cos(</b><i>выражение</i><b>)</b>

</dt><dd>
возвращает косинус
<i>выражения</i>.

Выражение должно быть в радианах.
</dd><dt><b>exp(</b><i>выражение</i><b>)</b>

</dt><dd>
экспоненциальная функция.
</dd><dt><b>int(</b><i>выражение</i><b>)</b>

</dt><dd>
обрезает дробную часть.
truncates to integer.
</dd><dt><b>log(</b><i>выражение</i><b>)</b>

</dt><dd>
функция натурального логарифма.
</dd><dt><b>rand()</b>

</dt><dd>
возращает случайное число между 0 и 1.
</dd><dt><b>sin(</b><i>выражение</i><b>)</b>

</dt><dd>
возращет синус
<i>выражение</i>.

Выражение должно быть в радианах.
</dd><dt><b>sqrt(</b><i>выражение</i><b>)</b>

</dt><dd>
функция квадратного корня.
</dd><dt><b>srand(</b>[<i>выражение</i>]<b>)</b></dt><dd>
устанавливает
<i>выражение</i>

как новую базу для генератора сучайных чисел. Если
<i>выражение</i>

не указано, то используется текущее время.
Возвращаемое значение равно предыдущей базе генератора случайных
чисел.
</dd></dl>
<a name="lbAX">&nbsp;</a>
<h3>Строковые функции</h3>

<p>

<i>Gawk</i>

имеет следующие встроенные строковые функции:
</p><p>

</p><dl compact="">
<dt><b>gensub(</b><i>r</i><b>, </b><i>s</i><b>, </b><i>h </i>[<b>, </b><i>t</i>]<b>)</b></dt><dd>
ищет в строке
<i>t</i>

совпадения с регулярным выражением
<i>r</i>.

Если
<i>h</i>

является строкой, начинающейся с
<b>g</b>

или
<b>G</b>,

то заменяет все совпадения
<i>r</i>

на
<i>s</i>.

В противном случае, 
<i>h</i>

является числом, указывающим, которое по счету совпадение
<i>r</i>

заменять.
Если
<i>t</i>

не указано, то используется
<b>$0</b>.

В тексте замены
<i>s</i>

последовательность
<b>\</b><i>n</i>,

где
<i>n</i>

- это цифра от 1 до 9, может быть использована для ссылки на текст
<i>n</i>-ного,

заключенного в скобки, подвыражения. Последовательность
<b>\0</b>

ссылается на весь совпавший текст, как и символ
<b>&amp;</b>.

В отличие от
<b>sub()</b>

и
<b>gsub()</b>,

измененная строка возвращается как результат функции, а исходная
строка
<i>не</i>

изменяется. 
</dd><dt><b>gsub(</b><i>r</i><b>, </b><i>s </i>[<b>, </b><i>t</i>]<b>)</b></dt><dd>
каждую подстроку строки
<i>t</i>,

совпавшую с регулярным выражением
<i>r</i>,

заменяет на строку
<i>s</i>

и возвращает количество осуществленных замен.
Если
<i>t</i>

не указана, то используется
<b>$0</b>.

Вместо
<b>&amp;</b>

в тексте замены подставляется совпавшая строка. 
Для вывода символа
<b>&amp;</b>

используйте
<b>\&amp;</b>.

За полной информацией о правилах для
<b>&amp;</b>

и \ в тексте замены в
<b>sub()</b>,

<b>gsub()</b>

и
<b>gensub()</b>,

обращайтесь к
<i>AWK Language Programming</i>.

</dd><dt><b>index(</b><i>s</i><b>,</b><i> t</i><b>)</b>

</dt><dd>
возвращает индекс строки
<i>t</i>

в строке
<i>s</i>,

или 0, если
<i>t</i>

не найдена.
</dd><dt><b>length(</b>[<i>s</i>]<b>)</b></dt><dd><b>
возвращает длину строки
</b><i>s</i>

или, если
<i>s</i>

не указана, длину
<b>$0</b>.

</dd><dt><b>match(</b><i>s</i><b>,</b><i> r</i><b>)</b>

</dt><dd>
возвращает позицию, с которой регулярное выражение
<i>r</i>

совпадает с
<i>s</i>

или, если
<i>r</i>

не совпадает, 0. Устанавливает значения
<b>RSTART</b>

и
<b>RLENGTH</b>.

</dd><dt><b>split(</b><i>s</i><b>, </b><i>a </i>[<b>, </b><i>r</i>]<b>)</b></dt><dd>
разбивает строку
<i>s</i>

на основе регулярного выражения
<i>r</i>,

помещает результат в массив
<i>a</i>

и возвращает количество полей. Если
<i>r</i>

не указано, то используется
<b>FS</b>.

Массив
<i>a</i>

предварительно очищается.
Функция работает подобно разбивке на поля, описанной выше.
</dd><dt><b>sprintf(</b><i>fmt</i><b>,</b><i> expr-list</i><b>)</b>

</dt><dd>
выводит
<i>список-выражений</i>

в соответствии с
<i>форматом</i>

и возвращает получившуюся строку.
</dd><dt><b>sub(</b><i>r</i><b>, </b><i>s </i>[<b>, </b><i>t</i>]<b>)</b></dt><dd>
то же, что и
<b>gsub()</b>,

но заменяется только первая совпавшая подстрока.
</dd><dt><b>substr(</b><i>s</i><b>, </b><i>i </i>[<b>, </b><i>n</i>]<b>)</b></dt><dd>
возвращает
<i>n</i>-символьную

подстроку строки
<i>s</i>,

начиная с
<i>i</i>.

Если
<i>n</i>

не указано, то возвращается остаток строки
<i>s</i>.

</dd><dt><b>tolower(</b><i>строка</i><b>)</b>

</dt><dd>
возвращает копию
<i>строки</i>,

в которой все символы верхнего регистра, встречающиеся в
<i>строке</i>,

переведены в соответствующие им символы нижнего регистра.
Неалфавитные символы остаются без изменений.
</dd><dt><b>toupper(</b><i>str</i><b>)</b>

</dt><dd>
возвращает копию
<i>строки</i>,

в которой все символы нижнего регистра, встречающиеся в
<i>строке</i>,

переведены в соответствующие им символы верхнего регистра.
Неалфавитные символы остаются без изменений.
</dd></dl>
<a name="lbAY">&nbsp;</a>
<h3>Функции для работы со временем</h3>

<p>

Так как одно из основных применений программ AWK - обработка журнальных
(протокольных) файлов, содержащих отметки о времени,
<i>gawk</i>

предоставляет две функции для получения и форматирования меток времени.
</p><p>

</p><dl compact="">
<dt><b>systime()</b>

</dt><dd>
возвращает текущее время в виде количества секунд с начала эпохи
(полночь UTC, 1 января 1970 г на системах <font size="-1">POSIX</font>).
</dd><dt><b>strftime(</b>[<i>формат </i>[<b>, </b><i>время</i>]]<b>)</b></dt><dd>
форматирует
<i>время</i>

в соответствии с указанным
<i>форматом.</i>

<i>Время</i>

должно быть в виде, возвращемом
<b>systime()</b>.

Если
<i>время</i>

не указано, то использутеся текущее время.
Если не указан
<i>формат</i>,

то используется формат по умолчанию, эквивалентный выводу
<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=date&amp;category=1">date</a></i>(1).

Для гарантии правильности указываемых форматов обращайтесь
к руководствам по функции
<b>strftime()</b>

<font size="-1">ANSI</font> C. Свободно распространяемая версия
<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=strftime&amp;category=3">strftime</a></i>(3)

и руководство (man) к ней поставляются с
<i>gawk</i>.

Эта версия была использована для сборки
<i>gawk</i>,

так что все форматы, описанные в руководстве, доступны в
<i>gawk.</i>

</dd></dl>
<a name="lbAZ">&nbsp;</a>
<h3>Строковые константы</h3>

<p>

Строковыми константами в AWK являются последовательности символов,
заключенные в двойные кавычки (<b>"</b>). В строках могут быть использованы
<i>экранирующие последовательности</i>,

соответствующие языку C. К ним относятся:
</p><p>

</p><dl compact="">
<dt><b>\\</b>

</dt><dd>
обратный слэш (backslash).
</dd><dt><b>\a</b>

</dt><dd>
символ ``предупреждение''. Обычно символ <font size="-1">ASCII</font> <font size="-1">BEL</font>.
</dd><dt><b>\b</b>

</dt><dd>
забой (backspace).
</dd><dt><b>\f</b>

</dt><dd>
перевод формата (form-feed).
</dd><dt><b>\n</b>

</dt><dd>
новая строка (newline).
</dd><dt><b>\r</b>

</dt><dd>
возрат каретки (carriage return).
</dd><dt><b>\t</b>

</dt><dd>
горизонтальная табуляци (horizontal tab).
</dd><dt><b>\v</b>

</dt><dd>
вертикальная табуляция (vertical tab).
</dd><dt><b>\x</b><i>шестнадцатиричные цифры</i>

</dt><dd>
символ, соответствующий строке шестнадцатеричных цифр, следующих за
<b>\x</b>.

Как и в <font size="-1">ANSI</font> C, все шестнадцатиричные цифры считаются частью экранирующей
последовательности.
(Эта возможность кое-что говорит нам о разработке языка комитетом.)
Например, <b>"\x1B"</b> является символом <font size="-1">ASCII</font> <font size="-1">ESC</font>
(escape).
</dd><dt><b>\</b><i>ddd</i>

</dt><dd>
Символ, представленный 1-, 2- или 3-х цифровой последовательностью
восмиричных цифр. Например, <b>"\033"</b> является символом <font size="-1">ASCII</font>
<font size="-1">ESC</font> (escape).
</dd><dt><b>\</b><i>c</i>

</dt><dd>
Символ
<i>c</i>.

</dd></dl>
<p>

Экранирующие последовательности также могут быть использованы в регулярных
выражениях-константах (например,
<b>/[&nbsp;\t\f\n\r\v]/</b>

совпадает с символами пустого места).
</p><p>

В режиме совместимости символы, представленные восмиричными или
шестнадцатиричными экранирующими последовательностями, в регулярных
выражениях-константах воспринимаются буквально. Поэтому 
<b>/a\52b/</b>

соответствует
<b>/a\*b/</b>.

<a name="lbBA">&nbsp;</a>
</p><h2>ФУНКЦИИ</h2>

Функции в AWK определяются следующим образом:
<p>

</p><dl compact=""><dt></dt><dd>
<b>function </b><i>имя</i><b>(</b><i>список параметров</i><b>) { </b><i>операторы</i><b>}</b>
</dd></dl>

<p>

Функции выполняются при вызове их из выражений шаблонов или действий.
Параметры, указанные при вызове функции используются для присваивания
значений объявленным в функции формальным параметрам. Массивы всегда
передаются по ссылке, остальные переменные - по значению.
</p><p>

Так как функции изначально отсутствовали в языке AWK, поддержка локальных
переменных оставляет желать лучшего - они объявляются как дополнительные
параметры в списке параметров. Принято отделять локальные переменные в
списке параметров от настоящих параметров дополнительными пробелами.
Например:
</p><p>

</p><dl compact=""><dt></dt><dd>
<b>
</b><pre>function  f(p, q,     a, b)     # a &amp; b - локальные переменные
{
        .....
}

/abc/   { ... ; f(1, 2) ; ... }
</pre>


</dd></dl>

<p>

Левая скобка в вызове функции обязательно должна стоять сразу за именем
функции, без пробелов. Это требование введено для избежания неоднозначности
с операцией сцепления. Это ограничение не относится к встроенным функциям,
перечисленным выше.
</p><p>

Функции могут вызывать друг друга и сами себя. При вызове функций параметрам
функций, используемым как локальные переменные, присваивается
значение пустой строки и нуля.
</p><p>

Для возврата значения из функции используется
<b>return</b><i> выражение</i>

. Если возвращаемое значение не указано, то оно не определено. Оно также
не определено, если выход из функции производится по окончании тела функции. 
</p><p>

Если указана опция
<b>--lint</b>,

то
<i>gawk</i>

будет предупреждать о всех вызовах неопределенных функций не во время
работы программы, а заранее, во время предварительной обработки.
Вызов неопределенной функции во время работы программы - это непоправимая
ошибка.
</p><p>

Вместо слова
<b>function</b>

может быть использовано слово
<b>func</b>.

<a name="lbBB">&nbsp;</a>
</p><h2>ПРИМЕРЫ</h2>

<pre>Вывести и отсортировать имена всех пользователей:

<b>        BEGIN   { FS = ":" }
                { print $1 | "sort" }

</b>Подсчитать количество строк в файле:

<b>                { nlines++ }
        END     { print nlines }

</b>Вставить в файле перед каждой строкой ее номер:

<b>        { print FNR, $0 }

</b>Вариация на ту же тему:

<b>        { print NR, $0 }
</b></pre>

<a name="lbBC">&nbsp;</a>
<h2>ССЫЛКИ</h2>

<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=egrep&amp;category=1">egrep</a></i>(1),

<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=getpid&amp;category=2">getpid</a></i>(2),

<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=getppid&amp;category=2">getppid</a></i>(2),

<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=getpgrp&amp;category=2">getpgrp</a></i>(2),

<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=getuid&amp;category=2">getuid</a></i>(2),

<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=geteuid&amp;category=2">geteuid</a></i>(2),

<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=getgid&amp;category=2">getgid</a></i>(2),

<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=getegid&amp;category=2">getegid</a></i>(2),

<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=getgroups&amp;category=2">getgroups</a></i>(2)

<p>

<i>The AWK Programming Language</i>,

Alfred V. Aho, Brian W. Kernighan, Peter J. Weinberger,
Addison-Wesley, 1988. ISBN 0-201-07981-X.
</p><p>

<i>AWK Language Programming</i>,

Edition 1.0, published by the Free Software Foundation, 1995.
<a name="lbBD">&nbsp;</a>
</p><h2>СОВМЕСТИМОСТЬ С POSIX</h2>

Основная цель
<i>gawk</i>

- совместимость как со стандартом <font size="-1">POSIX</font>, так и с последними версиями
<i>awk</i>

для <font size="-1">UNIX</font>.
Для этого
<i>gawk</i>

включает в себя следующие возможности, не описанные в книге, но
входящие в версию Bell Labs 
<i>awk</i>

и стандарт POSIX.
<p>

Введена новая опция
<b>-v</b>

для присваивания значений переменным до начала выполнения программы.
В книге сказано, что присваивание значений переменным, указанным в командной
строке, происходит перед открытием
<i>awk</i>

файла, что происходит после выполнения блока
<b>BEGIN</b>.

Однако в ранних реализациях, если такое присваивание значений переменным
было указано до имен файлов, присваивание происходило 
<i>до</i>

выполнения блока
<b>BEGIN</b>.

Эта ``возможность'' стала применяться в приложениях.
После того, как
<i>awk</i>

был приведен в соответствие с документацией, для удовлетворения нужд
приложений, зависимых от старого поведения, была добавлена эта опция.
(С введением этой возможности согласились как разработчики AT&amp;T, так и GNU.)
</p><p>

Опция
<b>-W</b>

для реализации особенностей взята из стандарта <font size="-1">POSIX</font>.
</p><p>

При обработке аргументов
<i>gawk</i>

использует специальную опцию ``<b>--</b>'' для указания конца аргументов.
В режиме совместимости будет выдаваться предупреждение о существовании
неизвестных опций, но они будут игнорироваться.
В обычном режиме такие аргументы передаются для обработки программе AWK.
</p><p>

В соответствие с книгой по AWK, значение, возвращаемое
<b>srand()</b>,

не определено.
В стандарте <font size="-1">POSIX</font> возвращается предыдущее значение, что позволяет следить
за последовательностью случайных чисел. Поэтому
<b>srand()</b>

в
<i>gawk</i>

также возвращает значение текущей базы.
</p><p>

Другие новые возможности:
использование нескольких опций
<b>-f</b>

(из MKS
<i>awk</i>);

массив
<b>ENVIRON</b>;

экранирующие последовательности
<b>\a</b>

и
<b>\v</b>

(изначально появившиеся в
<i>gawk</i>

и затем включенные в AT&amp;T); функции
<b>tolower()</b>

и
<b>toupper()</b>

(из AT&amp;T); параметры форматирования <font size="-1">ANSI</font> C
<b>printf</b>

(впервые появившиеся в версии AT&amp;T').
<a name="lbBE">&nbsp;</a>
</p><h2>РАСШИРЕНИЯ GNU</h2>

<i>Gawk</i>

имеет ряд расширений по сравнению с <font size="-1">POSIX</font>
<i>awk</i>.

Они описаны в этом разделе. Все расширения, описанные здесь, могут быть
выключены запуском
<i>gawk</i>

с опцией
<b>--traditional</b>.

<p>

Следующие опции
<i>gawk</i>

отсутствуют в <font size="-1">POSIX</font>
<i>awk</i>.

</p><dl compact=""><dt></dt><dd>
<dl compact="">
<dt>*</dt><dd>
Экранирующая последовательность
<b>\x</b>.

(Отключается с
<b>--posix</b>.)

</dd><dt>*</dt><dd>
Функция
<b>fflush()</b>.

(Отключается с
<b>--posix</b>.)

</dd><dt>*</dt><dd>
Функции
<b>systime(),</b>

<b>strftime()</b>

и
<b>gensub()</b>.

</dd><dt>*</dt><dd>
Специальные имена файлов для перенаправления ввода/вывода не распознаются.
</dd><dt>*</dt><dd>
Переменные
<b>ARGIND</b>,

<b>ERRNO</b>

и
<b>RT</b>

не имеют специального значения.
</dd><dt>*</dt><dd>
Переменная
<b>IGNORECASE</b>

и ее эффекты отстутствуют.
</dd><dt>*</dt><dd>
Переменная
<b>FIELDWIDTHS</b>

и разделение на поля фиксированной ширины.
</dd><dt>*</dt><dd>
Использование
<b>RS</b>

как регулярного выражения.
</dd><dt>*</dt><dd>
Возможность разделения на отдельные символы путем присваивания
пустого значения переменной
<b>FS</b>

или третьему аргументу
<b>split()</b>.

</dd><dt>*</dt><dd>
Не производится поиск по пути файлов, указанных через опцию
<b>-f</b>.

Как следствие, переменная окружения
<b>AWKPATH</b>

не имеет специального значения.
</dd><dt>*</dt><dd>
Использование
<b>nextfile</b>

для прерывания обработки текущего входного файла.
</dd><dt>*</dt><dd>
Использование
<b>delete</b><i> array</i>

для удаления содержимого всего массива.
</dd></dl>
</dd></dl>

<p>

Книга по AWK не определяет значений, возвращаемых функцией
<b>close()</b>.

Функция 
<b>close()</b>

<i>Gawk</i>

возвращает значение, которое вернула функция
<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=fclose&amp;category=3">fclose</a></i>(3)

или
<i><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=pclose&amp;category=3">pclose</a></i>(3)

при закрытии файла или канала соответственно.
</p><p>

Если при запуске
<i>gawk</i>

с опцией
<b>--traditional</b>,

аргумент
<i>fs</i>

опции
<b>-F</b>

имеет значение ``t'', то значением
<b>FS</b>

будет символ табуляции.
Заметьте, что
<b>gawk -F\t ...</b>

приведет лишь к экранированию символа ``t'', а не к передаче
``\t'' опции
<b>-F</b>.

Так как это довольно специфический случай, то он не является поведением
по умолчанию. Он также не будет работать, если указана опция
<b>--posix</b>.

Если вам действительно нужно использовать символ табуляции в качестве
разделителя полей, то лучше всего воспользоваться кавычками:
<b>gawk -F'\t' ...</b>.


<a name="lbBF">&nbsp;</a>
</p><h2>ИСТОРИЧЕСКИЕ ВОЗМОЖНОСТИ</h2>

<i>gawk</i>

Поддерживаются две возможности, существовавшие в ранних версиях AWK.
Во-первых, встроенная функция
<b>length()</b>

может быть вызвана не только без аргумента, но и скобок.
То есть,
<dl compact=""><dt></dt><dd>
<p>

<b>
a = length<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt># Holy Algol 60, Batman!<br>
</b>
</p></dd></dl>

<p>

является тем же самым, что и
</p><dl compact=""><dt></dt><dd>
<p>

<b>
a = length()
<br>

a = length($0)
</b>
</p></dd></dl>

<p>

Эта возможность ``осуждается'' в стандарте <font size="-1">POSIX</font>, и
<i>gawk</i>

с опцией
<b>--lint</b>

будет выдавать об этом предупреждение.
</p><p>

Вторая возможность - это использование операторов
<b>continue</b>

и
<b>break</b>

вне тела циклов
<b>while</b>,

<b>for </b>

или
<b>do</b>.

Традиционные реализации AWK воспринимали подобное использование
этих операторов как эквивалент оператору
<b>next</b>.

<i>Gawk</i>

поддерживает такое использование, если указана опция
<b>--traditional</b>.

<a name="lbBG">&nbsp;</a>
</p><h2>ПЕРЕМЕННЫЕ ОКРУЖЕНИЯ</h2>

Если в окружении существует переменная
<b>POSIXLY_CORRECT</b>,

то 
<i>gawk</i>

будет вести себя так, как если бы в командной строке была указана опция 
<b>--posix</b>.

Если указана опция
<b>--lint</b>,

то
<i>gawk</i>

выдаст об этом предупреждающее сообщение.
<p>

Переменная окружения
<b>AWKPATH</b>

может быть использована для указания списка каталогов, в которых
<i>gawk</i>

будет искать файлы, указанные через опции
<b>-f</b>

и
<b>--file</b>.

<a name="lbBH">&nbsp;</a>
</p><h2>ЗАМЕЧАНИЯ</h2>

Опцию
<b>-F</b>

не обязательно указывать в командной строке. Она поддерживается лишь для
совместимости. 
<p>

Если ваша система имеет поддержку файлов
<b>/dev/fd ,</b>

<b>/dev/stdin</b>,

<b>/dev/stdout</b>

и
<b>/dev/stderr</b>,

то вы можете получить от
<i>gawk</i>

несколько другие данные, нежели в системе без этих файлов. Если
непосредственно
<i>gawk</i>

обрабатывает эти файлы, то производится синхронизация вывода в стандартный
поток вывода с записью в
<b>/dev/stdout</b>,

в то время, как на системе с этими файлами вывод происходит в
другие файлы.
</p><p>

Короткие программы, содержащие синтаксические ошибки, имеют тенденцию
переполнять стек обработки, что приводит к выдаче мало помогающего
сообщения. В общем случае, на удивление сложно проводить диагностику
таких программ, и усилия, затраченные на это, обычно того не стоят.
<a name="lbBI">&nbsp;</a>
</p><h2>ИНФОРМАЦИЯ О ВЕРСИИ</h2>

Это руководство описывает
<i>gawk</i>

версии 3.0.4.
<a name="lbBJ">&nbsp;</a>
<h2>АВТОРЫ</h2>

Исходная версия <font size="-1">UNIX</font>
<i>awk</i>

была разработана и реализована Альфредом Ахо (Alfred Aho), Петером 
Вейнбергером (Peter Weinberger) и Брайаном Керниганом (Brian Kernighan) в
AT&amp;T Bell Labs. Брайан Керниган продолжает поддерживается и улучшать ее.
<p>

Пол Рубин (Paul Rubin) и Джей Фенласон (Jay Fenlason), Free Software
Foundation, написали
<i>gawk</i>,

совместимый с исходной версией
<i>awk</i>,

вошедшей в состав седьмой редакции <font size="-1">UNIX</font>.
Джон Вудс (John Woods) исправил ряд ошибок.
Дэвид Трумэн (David Trueman), совместно с Арнольдом Роббинсом, сделал
<i>gawk</i>

совместимым с новой версией <font size="-1">UNIX</font>
<i>awk</i>.

В данный момент поддержка осуществляется Арнольдом Роббинсом.
</p><p>

Первый перенос на DOS был сделан Конрадм Квоком (Conrad Kwok) и Скоттом
Гарфинклом (Scott Garfinkle).
Поддержка версии для DOS в текущее время осуществляется Скоттом Дэйфиком
(Scott Deifik). Пэт Рэнкин (Pat Rankin) перенес программу на VMS,
Майкл Джагермэнн (Michal Jaegermann) - на Atari ST. Перенос на OS/2 был
осуществлен Каем Уве Роммелем (Kai Uwe Rommel), совместно и с помощью
Даррела Ханкерсона (Darrel Hankerson). Фред Фиш (Fred Fish) предоставил
поддержку для Amiga.
<a name="lbBK">&nbsp;</a>
</p><h2>ПЕРЕВОД</h2>

Перевод на русский язык осуществил Денис Дементьев &lt;<a href="mailto:denm@asp-linux.com">denm@asp-linux.com</a>&gt;,
SW Soft Pte, Ltd.
<a name="lbBL">&nbsp;</a>
<h2>СООБЩЕНИЯ ОБ ОШИБКАХ</h2>

Если вы обнаружите ошибку в
<i>gawk</i>,

пожалуйста, вышлите электронной почтой сообщение на
<b><a href="mailto:bug-gnu-utils@gnu.org">bug-gnu-utils@gnu.org</a></b>,

<i>с</i>

копией на 
<b><a href="mailto:arnold@gnu.org">arnold@gnu.org</a></b>.

Пожалуйста, укажите версию вашей операционной системы, версию
<i>gawk</i>,

какой вы использовали компилятор, а также тестовую программу и данные,
минимально возможного для выявления ошибки размера.
<p>

Перед тем, как выслать сообщение об ошибке, пожалуйста, сделайте две
вещи. Во-первых, удостоверьтесь, что у вас установлена последняя версия
<i>gawk</i>.

Многие ошибки (обычно весьма тонкие) исправляются в каждой новой версии и,
возможно, ваша проблема уже решена. Во-вторых, пожалуйста, внимательно 
прочитайте это руководство, а также те, на которые в нем имеются ссылки,
чтобы быть уверенным в том, что это действительно ошибка, а не причуда
языка.
</p><p>

Чтобы вы не делали,
<b>НЕ</b>

посылайте сообщение об ошибке в
<b>comp.lang.awk</b>.

Хотя разработчики
<i>gawk</i>

время от времени читают эту конференцию, отправка в нее сообщения об ошибке
- ненадежный способ. Вместо этого, сообщите о ней электронной почтой по
вышеуказанным адресам.
<a name="lbBM">&nbsp;</a>
</p><h2>БЛАГОДАРНОСТИ</h2>

Брайан Керниган из Bell Labs предоставил ценную помощь во время
тестирования и отладки. Мы благодарим его.
<a name="lbBN">&nbsp;</a>
<h2>ПРАВА</h2>

Copyright ©) 1996,97,98,99 Free Software Foundation, Inc.
<p>

Permission is granted to make and distribute verbatim copies of
this manual page provided the copyright notice and this permission
notice are preserved on all copies.

</p><p>

Permission is granted to copy and distribute modified versions of this
manual page under the conditions for verbatim copying, provided that
the entire resulting derived work is distributed under the terms of a
permission notice identical to this one.
</p><p>

Permission is granted to copy and distribute translations of this
manual page into another language, under the above conditions for
modified versions, except that this permission notice may be stated in
a translation approved by the Foundation.
</p><p>
</p><p>
</p><p>

</p><hr>
<a name="index">&nbsp;</a><h2>Index</h2>
<dl>
<dt><a href="#lbAB">НАЗВАНИЕ</a></dt><dd>
</dd><dt><a href="#lbAC">СИНТАКСИС</a></dt><dd>
</dd><dt><a href="#lbAD">ОПИСАНИЕ</a></dt><dd>
</dd><dt><a href="#lbAE">ФОРМАТ ОПЦИЙ</a></dt><dd>
</dd><dt><a href="#lbAF">ОПЦИИ</a></dt><dd>
</dd><dt><a href="#lbAG">ИСПОЛНЕНИЕ ПРОГРАММЫ AWK</a></dt><dd>
</dd><dt><a href="#lbAH">ПЕРЕМЕННЫЕ, ЗАПИСИ И ПОЛЯ</a></dt><dd>
<dl>
<dt><a href="#lbAI">Записи</a></dt><dd>
</dd><dt><a href="#lbAJ">Поля</a></dt><dd>
</dd><dt><a href="#lbAK">Встроенные переменные</a></dt><dd>
</dd><dt><a href="#lbAL">Массивы</a></dt><dd>
</dd><dt><a href="#lbAM">Типы переменных и их преобразование</a></dt><dd>
</dd></dl>
</dd><dt><a href="#lbAN">ШАБЛОНЫ И ДЕЙСТВИЯ</a></dt><dd>
<dl>
<dt><a href="#lbAO">Шаблоны</a></dt><dd>
</dd><dt><a href="#lbAP">Регулярные выражения</a></dt><dd>
</dd><dt><a href="#lbAQ">Действия</a></dt><dd>
</dd><dt><a href="#lbAR">Операции</a></dt><dd>
</dd><dt><a href="#lbAS">Управляющие операторы</a></dt><dd>
</dd><dt><a href="#lbAT">Операторы ввода/вывода</a></dt><dd>
</dd><dt><a href="#lbAU">Оператор <i>printf</i></a></dt><dd>
</dd><dt><a href="#lbAV">Специальные имена файлов</a></dt><dd>
</dd><dt><a href="#lbAW">Числовые функции</a></dt><dd>
</dd><dt><a href="#lbAX">Строковые функции</a></dt><dd>
</dd><dt><a href="#lbAY">Функции для работы со временем</a></dt><dd>
</dd><dt><a href="#lbAZ">Строковые константы</a></dt><dd>
</dd></dl>
</dd><dt><a href="#lbBA">ФУНКЦИИ</a></dt><dd>
</dd><dt><a href="#lbBB">ПРИМЕРЫ</a></dt><dd>
</dd><dt><a href="#lbBC">ССЫЛКИ</a></dt><dd>
</dd><dt><a href="#lbBD">СОВМЕСТИМОСТЬ С POSIX</a></dt><dd>
</dd><dt><a href="#lbBE">РАСШИРЕНИЯ GNU</a></dt><dd>
</dd><dt><a href="#lbBF">ИСТОРИЧЕСКИЕ ВОЗМОЖНОСТИ</a></dt><dd>
</dd><dt><a href="#lbBG">ПЕРЕМЕННЫЕ ОКРУЖЕНИЯ</a></dt><dd>
</dd><dt><a href="#lbBH">ЗАМЕЧАНИЯ</a></dt><dd>
</dd><dt><a href="#lbBI">ИНФОРМАЦИЯ О ВЕРСИИ</a></dt><dd>
</dd><dt><a href="#lbBJ">АВТОРЫ</a></dt><dd>
</dd><dt><a href="#lbBK">ПЕРЕВОД</a></dt><dd>
</dd><dt><a href="#lbBL">СООБЩЕНИЯ ОБ ОШИБКАХ</a></dt><dd>
</dd><dt><a href="#lbBM">БЛАГОДАРНОСТИ</a></dt><dd>
</dd><dt><a href="#lbBN">ПРАВА</a></dt><dd>
</dd></dl>
<hr>
<br>
<form method="get" action="/search.shtml">
<font size="-1">
<font color="#555555">Поиск по тексту MAN-ов:&nbsp;</font><input size="30" name="words" value="gawk" type="text">
<input name="restrict" value="/man" type="hidden">
<input value="Найти" type="submit">
</font>
<input name="method" value="and" type="hidden">
<input name="format" value="builtin-long" type="hidden">
<input name="sort" value="score" type="hidden">
</form>
<br>
<!--htdig_noindex-->
<noindex>
<br>


</noindex>
<!--/htdig_noindex-->


<!-- footer -->
<!--htdig_noindex-->
<br><br>
<div style="background-color: #E9EAD6; width:100%; height: 61px;">
<div style="margin-right: 20px; float:left; line-height: 61px; vertical-align: middle; margin-left: 10px; font-size: 120%;">
Спонсоры:
</div>
<div style="float:left; height: 60px;  line-height: 60px; margin-left: 20px;">
<a style="align: middle;" target="_blank" href="https://inferno.name/"><img src="/img/inferno2.png" alt="Inferno Solutions" height="57" width="200"></a>
</div>
<div style="float:right; height: 60px;  line-height: 60px;  margin-left: 15px;">
<a style="align: middle;" target="_blank" href="http://hoster.ru/?utm_source=site&amp;utm_medium=banner&amp;utm_campaign=opennet"><img src="/img/dh143x60t.png" alt="Hosting by Hoster.ru" height="60" width="143"></a>
</div>
<div style="float:right;  height: 60px;  line-height: 60px; vertical-align: middle;font-size: 120%;">
Хостинг:
</div>

</div>

<div style="clear: both;"></div>


<br>
<table class="ttxt" style="border-top: 3px solid #C9CaB6;">
<tbody><tr><td width="35%">
<a href="/cgi-bin/opennet/bookmark.cgi">Закладки на сайте</a><br>
<a href="/cgi-bin/opennet/bookmark.cgi?submit=add" target="blank_">Проследить за страницей</a>
</td>
<td align="RIGHT" width="65%">
Created&nbsp;1996-2021&nbsp;by <b><a href="/contact.shtml" title="email maxim.chirkov@gmail.com">Maxim&nbsp;Chirkov</a></b><br>
<a href="https://www.opennet.ru/add.shtml">Добавить</a>, <a href="https://www.opennet.ru/donate.shtml" style="color: #C00000;">Поддержать</a>, <a href="https://www.opennet.ru/banners2.shtml">Вебмастеру</a>
</td>
</tr>
</tbody></table>
<br><br>


<!--/htdig_noindex-->
<!-- end of footer -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-123449-1', 'auto');
    ga('send', 'pageview');
</script>




</body>
<!---------------------------------------------  0  ---------------------------------------------->
