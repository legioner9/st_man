
<!--+++++++++++++++++++++++++++++++++++++++++++  0  +++++++++++++++++++++++++++++++++++++++++++--->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Проект OpenNet: MAN slapo-dds (5) Форматы файлов (FreeBSD и Linux)</title><meta name="KeyWords" content="man, manual, MAN, системное руководство, linux, FreeBSD, OpenBSD, Solaris, ядро, программы, системный вызов, slapo-dds"><meta name="viewport" content="width=device-width, initial-scale=1"></head>


<body link="#0000FF" vlink="#000080" text="#000000" bgcolor="#E3E4D0" alink="#FF00FF">
<link rel="stylesheet" href="/opennet4.css" type="text/css">
<!--htdig_noindex-->
<form method="get" action="https://www.opennet.ru/search.shtml">
<aside>
<div style="width: 100%; text-align: right; font-size: 70%; background: #E9EAD6; margin-bottom:-10px;">
Профиль: <b><a href="/~" rel="nofollow" title="/~ - сводная страница участника"><u>Аноним</u></a></b> (<a href="https://www.opennet.ru/cgi-bin/openforum/vsluhboard.cgi?az=login">вход</a> | <a href="https://www.opennet.ru/cgi-bin/openforum/vsluhboard.cgi?az=user_register">регистрация</a>)</div>

<table cellspacing="0" cellpadding="0" width="100%" border="0">
<tbody><tr>
<td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left" valign="BOTTOM" bgcolor="#E9EAD6" width="300">
<a href="https://www.opennet.ru/"><img src="/opennet2.gif" alt="The OpenNET Project" height="60" width="249" border="0"></a><br>
</td>
<td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left" bgcolor="#E9EAD6" align="CENTER" width="100">

</td><td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left;padding-bottom:10px;" bgcolor="#E9EAD6" align="CENTER" width="50%">
<table width="100%" border="0">
<tbody><tr>
<td width="22%">
 <a href="https://www.opennet.ru/opennews/" class="h"><b>НОВОСТИ</b></a> (<a href="https://www.opennet.ru/news/opennet.shtml" class="h">+</a>)
</td><td width="18%%">
  <a href="https://www.opennet.ru/mp/" class="h"><b>КОНТЕНТ</b></a>
</td><td width="14%">
  <a href="http://wiki.opennet.ru" class="h"><b>WIKI</b></a>
</td><td width="14%">
   <a href="https://www.opennet.ru/man.shtml" class="h"><b>MAN'ы</b></a>
</td><td width="16%">
   <a href="https://www.opennet.ru/forum/" class="h"><b>ФОРУМ</b></a>
</td><td width="16%">
<a href="https://www.opennet.ru/search.shtml" class="h" onmouseover="document.getElementById('form12').style.display='block';">Поиск</a>&nbsp;(<a href="https://www.opennet.ru/keywords/" class="h">теги</a>)
<input id="form12" style="display: none;" size="10" name="words" value="" title="для поиска в google наберите &quot;g фраза&quot;" type="text">
</td></tr>
</tbody></table>

</td><td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left;padding-bottom:5px;" bgcolor="#E9EAD6" align="right" width="20%">

<a href="https://www.opennet.ru/opennews/opennews_all_utf.rss"><img src="/img/rss.png" alt="RSS" title="RSS" height="16" width="16" border="0"></a>&nbsp;<a href="https://twitter.com/opennetru"><img src="/twitter.png" alt="twitter" title="Twitter" height="16" width="16" border="0"></a>&nbsp;<a href="https://vk.com/opennet"><img src="/img/vkontakte.gif" title="ВКонтакте" height="16" width="16" border="0"></a>&nbsp;<a href="https://zen.yandex.ru/opennet"><img src="/img/zen.gif" title="Yandex Zen" height="16" width="16" border="0"></a>&nbsp;<a href="https://www.facebook.com/OpenNet.News/"><img src="/img/facebook.gif" title="Facebook" height="16" width="16" border="0"></a>&nbsp;<a href="https://telegram.space/opennet_ru"><img src="/img/telegram2.png" title="Telegram" height="16" width="16" border="0"></a>
</td></tr></tbody></table>
</aside>

<style>
    .hdr_mobile {
	text-align: center; 
	display: none;
	margin: 0px;
	padding: 0px;
    }
</style>
<div class="hdr_mobile">
<div style="margin-left: auto; margin-right: auto; width: 100%; height: 70px; border:1px solid #b0b190; min-width: 360px; max-width: 600px; background: #E9EAD6 url('/back.gif') repeat-x bottom left;">
<div style="float:left; width: 249px; height: 60px; margin-top: 10px;">
<a href="https://www.opennet.ru"><img src="/opennet2_lite.gif" style="height: 60px; width: 249px; border: 1px;" alt="The OpenNET Project / Index page"></a>
</div>
<div style="float: left; text-align: center; height: 70px; width: 331px; padding: 5px; margin-left: 10px;">
<br><small>[ <a href="/opennews/">новости</a>&nbsp;/<a href="/opennews/?full_lines=15&amp;lines=15&amp;mid_lines=00">+++</a> | <a href="/forum/">форум</a> | <a href="http://wiki.opennet.ru">wiki</a> | <a href="/keywords/">теги</a>
| <a href="tg://resolve?domain=opennet_ru"><img src="/img/telegram2.png" title="Telegram" style="margin-bottom: -4px;" height="16" width="16" border="0"></a>
]</small>
</div>
</div>
</div>
<div style="clear: both;"></div>


<div style="float: left; width: 279; text-align: left;padding-right: 60px;" id="adv">
</div>
<div style="padding-top: 0px;position:absolute;left:50%;margin-left:-235px;width:470px;" id="adv2">
</div>
<div style="width: 279;float: right;" id="adv3">
</div>
<div style="clear: both;"></div>
<br>
</form>
<!--/htdig_noindex-->

<center><h3><font color="#000088">Интерактивная система просмотра системных руководств (man-ов)</font></h3></center>
<form method="GET" action="/man.shtml"> 
<table cellspacing="0" cellpadding="1" bgcolor="#B0B190" align="center" width="600" border="0">
<tbody><tr>
<td valign="TOP">

<table cellspacing="0" cellpadding="0" bgcolor="#E9EAD6" align="center" width="100%" border="0">
<tbody><tr><td>&nbsp;<font color="#555555">Тема</font></td><td><font color="#555555">Набор</font></td><td><font color="#555555">Категория</font></td><td>&nbsp;</td></tr>
<tr><td>

&nbsp;<input size="20" name="topic" value="slapo-dds" type="text"></td><td><select name="russian">
<option value="4">Solaris man
</option><option value="1">FreeBSD man
</option><option value="3">Разные man
</option><option value="0" selected="">Русские man
</option><option value="2">Linux man
</option><option value="5">POSIX man
</option></select></td>
<td><select size="1" name="category">
	  <option value="" selected="">All
	  </option><option value="1">1
	  </option><option value="2">2
	  </option><option value="3">3
	  </option><option value="4">4
	  </option><option value="5">5
	  </option><option value="6">6
	  </option><option value="7">7
	  </option><option value="8">8
	  </option><option value="9">9
</option></select></td>

<td><input name="submit" value="Показать man" type="submit"></td></tr>
<script async="" src="https://www.google-analytics.com/analytics.js"></script><script language="JavaScript" src="/print.js"></script>
<tr><td colspan="4" align="left">&nbsp;[<a href="/man.shtml">Cписок руководств</a> | <a href="#" onclick="pr('none');">Печать</a>]</td></tr>
</tbody></table>
</td></tr></tbody></table>
</form>
<h3></h3><font size="+2">slapo-dds (5)</font><hr><li>&gt;&gt; <a href="/man.shtml?topic=slapo-dds&amp;category=5&amp;russian=0"><u>slapo-dds</u></a> (5) <font color="#555555"> ( Русские man: Форматы файлов )</font></li>


<a name="lbAB">&nbsp;</a>
<h2>НАЗВАНИЕ</h2>

slapo-dds - наложение динамических служб каталогов для slapd
<a name="lbAC">&nbsp;</a>
<h2>ОБЗОР</h2>

/usr/local/etc/openldap/slapd.conf
<a name="lbAD">&nbsp;</a>
<h2>ОПИСАНИЕ</h2>

Наложение
<b>dds</b>

для
<b><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=slapd&amp;category=8">slapd</a></b>(8)

реализует динамические объекты, описанные в RFC 2589. Название наложения
<b>dds</b>

представляет собой аббревиатуру термина <i>Динамические службы каталогов</i>
(<i>Dynamic Directory Services</i>).
Наложение позволяет определять динамические объекты, характеризуемые наличием объектного класса
<b>dynamicObject</b>.

<p>
Динамические объекты имеют ограниченное время существования, определяемое временем жизни (TTL),
которое можно перезапустить посредством специальной операции-расширения
<b>refresh</b>.

Эта операция позволяет задать так называемый клиентский период подновления (Client Refresh Period, CRP),
то есть промежуток времени, через который требуется выполнять подновления во избежание устаревания
динамического объекта. Время устаревания вычисляется путём прибавления запрашиваемого TTL к текущему
времени. Когда время жизни динамических объектов заканчивается и очередного подновления не происходит,
они автоматически удаляются. Не гарантируется, что удаление будет выполняться немедленно, поэтому
клиенты не должны на это рассчитывать.
</p><p>
У динамических объектов могут быть подчиненные объекты, при условии, что они также являются динамическими
объектами. В RFC 2589 не определяется поведение динамической службы каталогов при устаревании
динамического объекта, у которого есть подчинённые (динамические) объекты. В этой реализации время
жизни динамического объекта, у которого есть подчинённые объекты, пролонгируется до тех пор, пока не
закончится время жизни всех его подчинённых динамических объектов.
</p><p>
<a name="lbAE">&nbsp;</a>
</p><h2>КОНФИГУРАЦИЯ</h2>

Данная директива конфигурации
<b><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=slapd.conf&amp;category=5">slapd.conf</a></b>(5)

добавляет наложение
<b>dds</b>

к текущей базе данных:
<p>
</p><dl compact="">
<dt><b>overlay dds</b>

</dt><dd>
<p>
</p></dd></dl>
<p>

В базе данных должно быть настроено
<b>rootdn</b>,

в противном случае наложение
<b>dds</b>

не сможет удалять объекты, у которых превышено время жизни. Наложение
<b>dds</b>

может использоваться с любым механизмом манипуляции данными, реализующим операции
<b>add</b>,

<b>modify</b>,

<b>search</b>

и
<b>delete</b>.

Поскольку при использовании этого наложения могут происходить многочисленные внутренние поиски записей,
а также добавления и удаления объектов, лучше всего применять его вместе с механизмами, имеющими
достаточно хорошую производительность при выполнении операций записи.
</p><p>
</p><p>

Специфичные для наложения
<b>dds</b>

директивы конфигурации должны иметь префикс
<b>dds-</b>,

во избежание потенциальных конфликтов с директивами базы данных, к которой применяется это наложение,
или с другими наложениями, применяемыми к той же базе данных.
</p><p>
</p><dl compact="">
<dt><b>dds-max-ttl &lt;ttl&gt;</b>

</dt><dd>
Определяет максимальное значение TTL в секундах. Также это значение является TTL по умолчанию, которое
получают вновь создаваемые динамические объекты, если не задана директива
<b>dds-default-ttl</b>.

Когда клиент запрашивает в расширенной операции refresh значение TTL, большее, чем задано в этой
директиве, ему возвращается ошибка sizeLimitExceeded. Задаваемое значение должно быть в промежутке от
86400 секунд (1 день, значение по умолчанию) до 31557600 секунд (1 год и 6 часов, согласно требованиям RFC 2589).
<p>
</p></dd><dt><b>dds-min-ttl &lt;ttl&gt;</b>

</dt><dd>
Определяет минимальное значение TTL в секундах; клиенты, запрашивающие в расширенной операции refresh
значение TTL, меньшее, чем задано в этой директиве, фактически получают это значение в качестве CRP.
Указание в директиве значения 0 (по умолчанию), говорит о том, что нижняя граница TTL не устанавливается.
<p>
</p></dd><dt><b>dds-default-ttl &lt;ttl&gt;</b>

</dt><dd>
Определяет значение TTL по умолчанию, которое получают вновь созданные динамические объекты. Если
значение задано в 0 (по умолчанию), используется значение из директивы
<b>dds-max-ttl</b>.

<p>
</p></dd><dt><b>dds-interval &lt;ttl&gt;</b>

</dt><dd>
Определяет интервал между выполнением проверок на устаревание динамических объектов; по умолчанию - 1 час.
<p>
</p></dd><dt><b>dds-tolerance &lt;ttl&gt;</b>

</dt><dd>
Определяет дополнительное время, которое добавляется ко времени таймера, фактически запускающего поток,
удаляющий просроченные динамические объекты. Итак, номинальное время жизни записи - то, что указано в атрибуте
<b>entryTtl</b>,

но фактически оно будет равно сумме
<b>entryTtl + tolerance</b>.

Имейте ввиду, что не даётся гарантий на то, что время жизни динамического объекта будет
<i>в точности соответствовать</i>

запрашиваемому TTL; в зависимости от деталей реализации оно может быть больше, что позволяется в
RFC 2589. По умолчанию допустимый временной зазор - 0.
<p>
</p></dd><dt><b>dds-max-dynamicObjects &lt;num&gt;</b>

</dt><dd>
Определяет максимальное число динамических объектов, которые могут одновременно существовать в пределах
одного контекста именования. Данная настройка позволяет ограничить количество ресурсов, используемых
динамическими объектами (главным образом с точки зрения размера очереди выполнения). По умолчанию
ограничений не устанавливается.
<p>
</p></dd><dt><b>dds-state {TRUE|false}</b>

</dt><dd>
Определяет, включена ли функция динамических служб каталогов или нет. По умолчанию включена; однако,
от прокси-сервера не требуется отслеживать динамические объекты, он должен только сообщить механизму
frontend, что поддержка динамических объектов доступна.
<p>
</p></dd></dl>
<a name="lbAF">&nbsp;</a>
<h2>КОНТРОЛЬ ДОСТУПА</h2>

Наложение
<b>dds</b>

накладывает ограничение на выполнение операции refresh, требуя наличия привилегий доступа
<b>manage</b>

к атрибуту
<b>entryTtl</b>

(подробнее о привилегиях доступа
<b>manage</b>

смотрите в man-странице
<b><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=slapd.access&amp;category=5">slapd.access</a></b>(5)).

Поскольку атрибут
<b>entryTtl</b>

является операционным (NO-USER-MODIFICATION), прямой доступ на запись к нему невозможен. Поэтому наложение
<b>dds</b>

преобразует расширенную операцию refresh во внутреннюю операцию модификации значения атрибута
<b>entryTtl</b>

с установленным элементом управления
<b>relax</b>.

<p>
В RFC 2589 рекомендуется не давать доступ на подновление динамических объектов анонимным клиентам.
Это можно реализовать путём надлежащей настройки контроля доступа для получения желаемого эффекта.
</p><p>
Пример: разрешить выполнение подновлений только аутентифицированным клиентам
</p><p>
</p><dl compact=""><dt></dt><dd>
<pre>access to attrs=entryTtl
        by users manage
        by * read

</pre>

</dd></dl>

Пример: разрешить выполнение подновлений только создателю динамического объекта
<p>
</p><dl compact=""><dt></dt><dd>
<pre>access to attrs=entryTtl
        by dnattr=creatorsName manage
        by * read

</pre>

</dd></dl>

Другой предложенный вариант использования динамических объектов - реализация динамических собраний;
в этом случае всем участникам собрания разрешено подновлять объект этого собрания, но только создателю
объекта можно его удалить (в противном случае оно будет удалено по истечении TTL).
<p>
Пример: подразумевая, что <i>participant</i> является валидным атрибутом, имеющим в качестве значений DN,
разрешим пользователям начинать собрание и присоединяться к нему; разрешим выполнять операцию подновления
только участникам собрания; разрешим удалять объект собрания только его создателю
</p><p>
</p><dl compact=""><dt></dt><dd>
<pre>access to dn.base="cn=Meetings"
                attrs=children
        by users write

access to dn.onelevel="cn=Meetings"
                attrs=entry
        by dnattr=creatorsName write
        by * read

access to dn.onelevel="cn=Meetings"
                attrs=participant
        by dnattr=creatorsName write
        by users selfwrite
        by * read

access to dn.onelevel="cn=Meetings"
                attrs=entryTtl
        by dnattr=participant manage
        by * read

</pre>

</dd></dl>

<p>
<a name="lbAG">&nbsp;</a>
</p><h2>РЕПЛИКАЦИЯ</h2>

Данная реализация RFC 2589 обеспечивает ограниченную интерпретацию того, как должны реплицироваться
динамические объекты. Только главный сервер репликации заботится об обработке устаревания динамических
объектов, а реплики просто рассматривают динамические объекты как обычные объекты.
<p>
При репликации таких объектов требуется явно исключать объектный класс
<b>dynamicObject</b>

и атрибут
<b>entryTtl</b>.

В данной реализации RFC 2589 представлен новый операционный атрибут
<b>entryExpireTimestamp</b>,

в котором содержится отметка времени устаревания. Он также должен быть исключён из репликации.
</p><p>
Быстрое и грубое решение - задать
<b>schemacheck=off</b>

в конфигурации syncrepl и, опционально, исключить эти операционные атрибуты из репликации с помощью настройки
</p><p>
</p><dl compact=""><dt></dt><dd>
<pre>syncrepl ...
        exattrs=entryTtl,entryExpireTimestamp
</pre>

</dd></dl>

<p>
В любом случае, чтобы потребитель репликации знал об операционном атрибуте
<b>entryExpireTimestamp</b>,

наложение должно быть либо статически встроено в slapd, либо загружено во время исполнения; однако,
оно не должно быть сконфигурировано в базе данных потребителя репликации. В настоящий момент нет
возможности удалить из записи объектный класс
<b>dynamicObject</b>;

это можно рассматривать как дополнительный функционал, поскольку этот класс позволяет увидеть
динамические свойства объекта.
</p><p>
<a name="lbAH">&nbsp;</a>
</p><h2>ФАЙЛЫ</h2>

<dl compact="">
<dt>/usr/local/etc/openldap/slapd.conf</dt><dd>
конфигурационный файл slapd по умолчанию.
</dd></dl>
<a name="lbAI">&nbsp;</a>
<h2>СМОТРИТЕ ТАКЖЕ</h2>

<b><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=slapd.conf&amp;category=5">slapd.conf</a></b>(5),

<b><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=slapd-config&amp;category=5">slapd-config</a></b>(5),

<b><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=slapd&amp;category=8">slapd</a></b>(8).

<a name="lbAJ">&nbsp;</a>
<h2>АВТОР</h2>

Реализовано Pierangelo Masarati.
<p>

</p><hr>
<a name="index">&nbsp;</a><h2>Index</h2>
<dl>
<dt><a href="#lbAB">НАЗВАНИЕ</a></dt><dd>
</dd><dt><a href="#lbAC">ОБЗОР</a></dt><dd>
</dd><dt><a href="#lbAD">ОПИСАНИЕ</a></dt><dd>
</dd><dt><a href="#lbAE">КОНФИГУРАЦИЯ</a></dt><dd>
</dd><dt><a href="#lbAF">КОНТРОЛЬ ДОСТУПА</a></dt><dd>
</dd><dt><a href="#lbAG">РЕПЛИКАЦИЯ</a></dt><dd>
</dd><dt><a href="#lbAH">ФАЙЛЫ</a></dt><dd>
</dd><dt><a href="#lbAI">СМОТРИТЕ ТАКЖЕ</a></dt><dd>
</dd><dt><a href="#lbAJ">АВТОР</a></dt><dd>
</dd></dl>
<hr>
<br>
<form method="get" action="/search.shtml">
<font size="-1">
<font color="#555555">Поиск по тексту MAN-ов:&nbsp;</font><input size="30" name="words" value="slapo-dds" type="text">
<input name="restrict" value="/man" type="hidden">
<input value="Найти" type="submit">
</font>
<input name="method" value="and" type="hidden">
<input name="format" value="builtin-long" type="hidden">
<input name="sort" value="score" type="hidden">
</form>
<br>
<!--htdig_noindex-->
<noindex>
<br>


</noindex>
<!--/htdig_noindex-->


<!-- footer -->
<!--htdig_noindex-->
<br><br>
<div style="background-color: #E9EAD6; width:100%; height: 61px;">
<div style="margin-right: 20px; float:left; line-height: 61px; vertical-align: middle; margin-left: 10px; font-size: 120%;">
Спонсоры:
</div>
<div style="float:left; height: 60px;  line-height: 60px; margin-left: 20px;">
<a style="align: middle;" target="_blank" href="https://inferno.name/"><img src="/img/inferno2.png" alt="Inferno Solutions" height="57" width="200"></a>
</div>
<div style="float:right; height: 60px;  line-height: 60px;  margin-left: 15px;">
<a style="align: middle;" target="_blank" href="http://hoster.ru/?utm_source=site&amp;utm_medium=banner&amp;utm_campaign=opennet"><img src="/img/dh143x60t.png" alt="Hosting by Hoster.ru" height="60" width="143"></a>
</div>
<div style="float:right;  height: 60px;  line-height: 60px; vertical-align: middle;font-size: 120%;">
Хостинг:
</div>

</div>

<div style="clear: both;"></div>


<br>
<table class="ttxt" style="border-top: 3px solid #C9CaB6;">
<tbody><tr><td width="35%">
<a href="/cgi-bin/opennet/bookmark.cgi">Закладки на сайте</a><br>
<a href="/cgi-bin/opennet/bookmark.cgi?submit=add" target="blank_">Проследить за страницей</a>
</td>
<td align="RIGHT" width="65%">
Created&nbsp;1996-2021&nbsp;by <b><a href="/contact.shtml" title="email maxim.chirkov@gmail.com">Maxim&nbsp;Chirkov</a></b><br>
<a href="https://www.opennet.ru/add.shtml">Добавить</a>, <a href="https://www.opennet.ru/donate.shtml" style="color: #C00000;">Поддержать</a>, <a href="https://www.opennet.ru/banners2.shtml">Вебмастеру</a>
</td>
</tr>
</tbody></table>
<br><br>


<!--/htdig_noindex-->
<!-- end of footer -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-123449-1', 'auto');
    ga('send', 'pageview');
</script>




</body>
<!---------------------------------------------  0  ---------------------------------------------->
