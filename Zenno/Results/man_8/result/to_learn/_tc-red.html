
<!--+++++++++++++++++++++++++++++++++++++++++++  0  +++++++++++++++++++++++++++++++++++++++++++--->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Проект OpenNet: MAN tc-red (8) Команды системного администрирования (FreeBSD и Linux)</title><meta name="KeyWords" content="man, manual, MAN, системное руководство, linux, FreeBSD, OpenBSD, Solaris, ядро, программы, системный вызов, tc-red"><meta name="viewport" content="width=device-width, initial-scale=1"></head>


<body link="#0000FF" vlink="#000080" text="#000000" bgcolor="#E3E4D0" alink="#FF00FF">
<link rel="stylesheet" href="/opennet4.css" type="text/css">
<!--htdig_noindex-->
<form method="get" action="https://www.opennet.ru/search.shtml">
<aside>
<div style="width: 100%; text-align: right; font-size: 70%; background: #E9EAD6; margin-bottom:-10px;">
Профиль: <b><a href="/~" rel="nofollow" title="/~ - сводная страница участника"><u>Аноним</u></a></b> (<a href="https://www.opennet.ru/cgi-bin/openforum/vsluhboard.cgi?az=login">вход</a> | <a href="https://www.opennet.ru/cgi-bin/openforum/vsluhboard.cgi?az=user_register">регистрация</a>)</div>

<table cellspacing="0" cellpadding="0" width="100%" border="0">
<tbody><tr>
<td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left" valign="BOTTOM" bgcolor="#E9EAD6" width="300">
<a href="https://www.opennet.ru/"><img src="/opennet2.gif" alt="The OpenNET Project" height="60" width="249" border="0"></a><br>
</td>
<td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left" bgcolor="#E9EAD6" align="CENTER" width="100">

</td><td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left;padding-bottom:10px;" bgcolor="#E9EAD6" align="CENTER" width="50%">
<table width="100%" border="0">
<tbody><tr>
<td width="22%">
 <a href="https://www.opennet.ru/opennews/" class="h"><b>НОВОСТИ</b></a> (<a href="https://www.opennet.ru/news/opennet.shtml" class="h">+</a>)
</td><td width="18%%">
  <a href="https://www.opennet.ru/mp/" class="h"><b>КОНТЕНТ</b></a>
</td><td width="14%">
  <a href="http://wiki.opennet.ru" class="h"><b>WIKI</b></a>
</td><td width="14%">
   <a href="https://www.opennet.ru/man.shtml" class="h"><b>MAN'ы</b></a>
</td><td width="16%">
   <a href="https://www.opennet.ru/forum/" class="h"><b>ФОРУМ</b></a>
</td><td width="16%">
<a href="https://www.opennet.ru/search.shtml" class="h" onmouseover="document.getElementById('form12').style.display='block';">Поиск</a>&nbsp;(<a href="https://www.opennet.ru/keywords/" class="h">теги</a>)
<input id="form12" style="display: none;" size="10" name="words" value="" title="для поиска в google наберите &quot;g фраза&quot;" type="text">
</td></tr>
</tbody></table>

</td><td style="background: #E9EAD6 url('/back.gif') repeat-x bottom left;padding-bottom:5px;" bgcolor="#E9EAD6" align="right" width="20%">

<a href="https://www.opennet.ru/opennews/opennews_all_utf.rss"><img src="/img/rss.png" alt="RSS" title="RSS" height="16" width="16" border="0"></a>&nbsp;<a href="https://twitter.com/opennetru"><img src="/twitter.png" alt="twitter" title="Twitter" height="16" width="16" border="0"></a>&nbsp;<a href="https://vk.com/opennet"><img src="/img/vkontakte.gif" title="ВКонтакте" height="16" width="16" border="0"></a>&nbsp;<a href="https://zen.yandex.ru/opennet"><img src="/img/zen.gif" title="Yandex Zen" height="16" width="16" border="0"></a>&nbsp;<a href="https://www.facebook.com/OpenNet.News/"><img src="/img/facebook.gif" title="Facebook" height="16" width="16" border="0"></a>&nbsp;<a href="https://telegram.space/opennet_ru"><img src="/img/telegram2.png" title="Telegram" height="16" width="16" border="0"></a>
</td></tr></tbody></table>
</aside>

<style>
    .hdr_mobile {
	text-align: center; 
	display: none;
	margin: 0px;
	padding: 0px;
    }
</style>
<div class="hdr_mobile">
<div style="margin-left: auto; margin-right: auto; width: 100%; height: 70px; border:1px solid #b0b190; min-width: 360px; max-width: 600px; background: #E9EAD6 url('/back.gif') repeat-x bottom left;">
<div style="float:left; width: 249px; height: 60px; margin-top: 10px;">
<a href="https://www.opennet.ru"><img src="/opennet2_lite.gif" style="height: 60px; width: 249px; border: 1px;" alt="The OpenNET Project / Index page"></a>
</div>
<div style="float: left; text-align: center; height: 70px; width: 331px; padding: 5px; margin-left: 10px;">
<br><small>[ <a href="/opennews/">новости</a>&nbsp;/<a href="/opennews/?full_lines=15&amp;lines=15&amp;mid_lines=00">+++</a> | <a href="/forum/">форум</a> | <a href="http://wiki.opennet.ru">wiki</a> | <a href="/keywords/">теги</a>
| <a href="tg://resolve?domain=opennet_ru"><img src="/img/telegram2.png" title="Telegram" style="margin-bottom: -4px;" height="16" width="16" border="0"></a>
]</small>
</div>
</div>
</div>
<div style="clear: both;"></div>


<div style="float: left; width: 279; text-align: left;padding-right: 60px;" id="adv">
</div>
<div style="padding-top: 0px;position:absolute;left:50%;margin-left:-235px;width:470px;" id="adv2">
</div>
<div style="width: 279;float: right;" id="adv3">
</div>
<div style="clear: both;"></div>
<br>
</form>
<!--/htdig_noindex-->

<center><h3><font color="#000088">Интерактивная система просмотра системных руководств (man-ов)</font></h3></center>
<form method="GET" action="/man.shtml"> 
<table cellspacing="0" cellpadding="1" bgcolor="#B0B190" align="center" width="600" border="0">
<tbody><tr>
<td valign="TOP">

<table cellspacing="0" cellpadding="0" bgcolor="#E9EAD6" align="center" width="100%" border="0">
<tbody><tr><td>&nbsp;<font color="#555555">Тема</font></td><td><font color="#555555">Набор</font></td><td><font color="#555555">Категория</font></td><td>&nbsp;</td></tr>
<tr><td>

&nbsp;<input size="20" name="topic" value="tc-red" type="text"></td><td><select name="russian">
<option value="4">Solaris man
</option><option value="1">FreeBSD man
</option><option value="3">Разные man
</option><option value="0" selected="">Русские man
</option><option value="2">Linux man
</option><option value="5">POSIX man
</option></select></td>
<td><select size="1" name="category">
	  <option value="" selected="">All
	  </option><option value="1">1
	  </option><option value="2">2
	  </option><option value="3">3
	  </option><option value="4">4
	  </option><option value="5">5
	  </option><option value="6">6
	  </option><option value="7">7
	  </option><option value="8">8
	  </option><option value="9">9
</option></select></td>

<td><input name="submit" value="Показать man" type="submit"></td></tr>
<script async="" src="https://www.google-analytics.com/analytics.js"></script><script language="JavaScript" src="/print.js"></script>
<tr><td colspan="4" align="left">&nbsp;[<a href="/man.shtml">Cписок руководств</a> | <a href="#" onclick="pr('none');">Печать</a>]</td></tr>
</tbody></table>
</td></tr></tbody></table>
</form>
<h3></h3><font size="+2">tc-red (8)</font><hr><li>&gt;&gt; <a href="/man.shtml?topic=tc-red&amp;category=8&amp;russian=0"><u>tc-red</u></a> (8) <font color="#555555"> ( Русские man: Команды системного администрирования )</font></li><li> <a href="/man.shtml?topic=tc-red&amp;category=8&amp;russian=2"><u>tc-red</u></a> (8) <font color="#555555"> ( Linux man: Команды системного администрирования )</font></li>
<a name="lbAB">&nbsp;</a>
<h2>ИМЯ</h2>

red - Random Early Detection (случайное раннее обнаружение)
<a name="lbAC">&nbsp;</a>
<h2>ОБЗОР</h2>

<b>tc qdisc ... red</b>

<b>limit </b>

количество_байтов
<b>min</b>

количество_байтов 
<b>max  </b>

количество_байтов 
<b>avpkt</b>

количество_байтов
<b>burst </b>

количество_пакетов
<b>[ ecn ] [ bandwidth</b>

скорость
<b>] probability</b>

вероятность
<p>
<a name="lbAD">&nbsp;</a>
</p><h2>ОПИСАНИЕ</h2>

Случайное раннее обнаружение - это бесклассовая очередь, которая
управляет размером очереди "интеллектуальным" методом. Стандартные очереди просто
отбрасывают пакеты с "хвоста" очереди, если очередь заполнена, что не
обязательно является оптимальным поведением. RED также отбрасывает пакеты с
конца очереди, но делает это выборочно.
<p>
Как только очередь достигает заданной средней длины, пакеты, находящиеся
в ней, получают настраиваемый шанс быть отмеченными ("отброшенными").
<br>&nbsp;Этот&nbsp;шанс&nbsp;увеличивается&nbsp;линейно&nbsp;до&nbsp;точки,&nbsp;называемой
<b>максимальной  (max)</b>

средней длины очереди (хотя очередь на самом деле может
превысить этот лимит).
</p><p>
Этот метод имеет ряд преимуществ по сравнению с простым отбрасыванием пакетов
из конца очереди, и в то же время не требует интенсивного использования
процессора. Этот метод предотвращает синхронные повторные отправки данных после
взрывного (burst) увеличения трафика, что может спровоцировать дальнейшие
повторные отправки, и т.д.
</p><p>
Задача - получить очередь небольшого размера (что хорошо для интерактивности),
не беспокоя при этом TCP/IP трафик неожиданными отклонениями большого
числа пакетов после взрывного увеличения трафика.
</p><p>
В зависимости от того, сконфигурирован ECN или нет, отметка пакета обозначает
либо отброс пакета, либо просто пометку пакета как превышающего лимит.
<a name="lbAE">&nbsp;</a>
</p><h2>АЛГОРИТМ</h2>

Средний размер очереди используется для определения вероятности пометки
пакета, которая вычисляется при помощи экспоненциального взвешенного
движущегося среднего (Exponential Weighted Moving
Average), которое может быть более или менее чувствительно к взрывному
увеличения трафика.
<p>
Когда средний размер очереди меньше
<b>минимума (min)</b>

байтов, ни один пакет никогда не будет отмечен. Когда размер превышает
<b>минимум (min) , </b>

вероятность пометки пакета увеличивается линейно, вплоть до достижения
значения
<b>вероятность (probability), </b>

а также до момента, когда средний размер очереди достигнет размера
<b>максимум (max)</b>

байтов. Поскольку в нормальных случаях
<b>вероятность (probability)</b>

не устанавливается в значения больше 100%, размер очереди может
предположительно превысить 
<b>максимум (max)</b>

байтов. Поэтому задается параметр
<b>предел (limit) ,</b>

который задает жесткий максимальный размер очереди.
</p><p>
<a name="lbAF">&nbsp;</a>
</p><h2>ОПЦИИ</h2>

<dl compact="">
<dt>min</dt><dd>
Средний размер очереди, по достижении которого возникает вероятность
отметки пакета.
</dd><dt>max</dt><dd>
По достижении этого среднего размера очереди, вероятность пометки пакета
максимальная. Значение должно быть как минимум вдвое больше, чем
<b>min, </b>

чтобы предотвратить синхронные повторные пересылки, причем должно быть выше
для более низких значениях 
<b>min.</b>

</dd><dt>probability</dt><dd>
Максимальная вероятность пометки, указанная как число с плавающей точкой, от
0.0 до 1.0. Рекомендуемые значения - 0.01 или 0.02 (1 или 2%, соответственно).
</dd><dt>limit</dt><dd>
Жесткий предел реального (не среднего) размера очереди в байтах. По
достижении этого размера все лишние пакеты будут отброшены. Должен
быть больше, чем max+burst. Рекомендуется устанавливать значение в
несколько раз больше, чем 
<b>max .</b>

</dd><dt>burst</dt><dd>
Используется для определения того, как реальный размер очереди начинает влиять
на средний размер очереди. Более высокие значения делают изменение более вялым,
что разрешает более длительные взрывные увеличения трафика прежде, чем начнется
пометка пакетов. Эксперименты, проведенные в реальных условиях, выдают
следующие рекомендации для расчета этого значения: (min+min+max)/(3*avpkt).
</dd><dt>avpkt</dt><dd>
Указывается в байтах. Используется вместе с burst для определения временной
константы для вычисления среднего размера очереди. 1000 - неплохое значение.
</dd><dt>bandwidth</dt><dd>
Этот параметр используется для расчета среднего размера очереди после простоя в
течение некоторого времени. Должно быть равным значению пропускной способности
интерфейса. Не влияет на параметр пропускной скорости интерфейса. Необязательное
значение.
</dd><dt>ecn</dt><dd>
Как уже было указано, RED может либо "отметить", либо "отбросить" пакет.
Явное уведомление о переполнении (Explicit Congestion Notification)
позволяет RED уведомить удаленные хосты, что частота отсылки ими сообщений
превышает доступную пропускную способность. Не поддерживающие ECN
хосты могут быть уведомлены только отбросом пакета. Если этот параметр
указан, пакеты, сообщающие о том, что их отправитель придерживается ECN будут только
помечены, но не отброшены, кроме случаев, когда размер очереди достигает 
<b>предела (limit). </b>

Требует tc с вкомпилированной поддержкой RED. Рекомендуется.
<p>
</p></dd></dl>
<a name="lbAG">&nbsp;</a>
<h2>СМ. ТАКЖЕ</h2>

<b><a href="https://www.opennet.ru/cgi-bin/opennet/man.cgi?topic=tc&amp;category=8">tc</a></b>(8)

<p>
<a name="lbAH">&nbsp;</a>
</p><h2>ИСТОЧНИКИ</h2>

<dl compact="">
<dt>o</dt><dd>
Floyd, S., and Jacobson, V., Random Early Detection gateways for
Congestion Avoidance. <a href="http://www.aciri.org/floyd/papers/red/red.html">http://www.aciri.org/floyd/papers/red/red.html</a>
</dd><dt>o</dt><dd>
Некоторые изменения в алгоритме были сделаны Алексеем Кузнецовым.
<p>
</p></dd></dl>
<a name="lbAI">&nbsp;</a>
<h2>АВТОРЫ</h2>

Алексей Кузнецов &lt;<a href="mailto:kuznet@ms2.inr.ac.ru">kuznet@ms2.inr.ac.ru</a>&gt;,  Алексей Макаренко
&lt;<a href="mailto:makar@phoenix.kharkov.ua">makar@phoenix.kharkov.ua</a>&gt;, J Hadi Salim &lt;<a href="mailto:hadi@nortelnetworks.com">hadi@nortelnetworks.com</a>&gt;.  
Эта страница руководства поддерживается Бертом Хубертом (Bert Hubert) &lt;<a href="mailto:ahu@ds9a.nl">ahu@ds9a.nl</a>&gt;
<p>
<a name="lbAJ">&nbsp;</a>
</p><h2>ПЕРЕВОД</h2>

Перевод с английского Виктор Ерёмин &lt;<a href="mailto:ErV2005@rambler.ru">ErV2005@rambler.ru</a>&gt; 2007
<p>

</p><hr>
<a name="index">&nbsp;</a><h2>Index</h2>
<dl>
<dt><a href="#lbAB">ИМЯ</a></dt><dd>
</dd><dt><a href="#lbAC">ОБЗОР</a></dt><dd>
</dd><dt><a href="#lbAD">ОПИСАНИЕ</a></dt><dd>
</dd><dt><a href="#lbAE">АЛГОРИТМ</a></dt><dd>
</dd><dt><a href="#lbAF">ОПЦИИ</a></dt><dd>
</dd><dt><a href="#lbAG">СМ. ТАКЖЕ</a></dt><dd>
</dd><dt><a href="#lbAH">ИСТОЧНИКИ</a></dt><dd>
</dd><dt><a href="#lbAI">АВТОРЫ</a></dt><dd>
</dd><dt><a href="#lbAJ">ПЕРЕВОД</a></dt><dd>
</dd></dl>
<hr>
<br>
<form method="get" action="/search.shtml">
<font size="-1">
<font color="#555555">Поиск по тексту MAN-ов:&nbsp;</font><input size="30" name="words" value="tc-red" type="text">
<input name="restrict" value="/man" type="hidden">
<input value="Найти" type="submit">
</font>
<input name="method" value="and" type="hidden">
<input name="format" value="builtin-long" type="hidden">
<input name="sort" value="score" type="hidden">
</form>
<br>
<!--htdig_noindex-->
<noindex>
<br>


</noindex>
<!--/htdig_noindex-->


<!-- footer -->
<!--htdig_noindex-->
<br><br>
<div style="background-color: #E9EAD6; width:100%; height: 61px;">
<div style="margin-right: 20px; float:left; line-height: 61px; vertical-align: middle; margin-left: 10px; font-size: 120%;">
Спонсоры:
</div>
<div style="float:left; height: 60px;  line-height: 60px; margin-left: 20px;">
<a style="align: middle;" target="_blank" href="https://inferno.name/"><img src="/img/inferno2.png" alt="Inferno Solutions" height="57" width="200"></a>
</div>
<div style="float:right; height: 60px;  line-height: 60px;  margin-left: 15px;">
<a style="align: middle;" target="_blank" href="http://hoster.ru/?utm_source=site&amp;utm_medium=banner&amp;utm_campaign=opennet"><img src="/img/dh143x60t.png" alt="Hosting by Hoster.ru" height="60" width="143"></a>
</div>
<div style="float:right;  height: 60px;  line-height: 60px; vertical-align: middle;font-size: 120%;">
Хостинг:
</div>

</div>

<div style="clear: both;"></div>


<br>
<table class="ttxt" style="border-top: 3px solid #C9CaB6;">
<tbody><tr><td width="35%">
<a href="/cgi-bin/opennet/bookmark.cgi">Закладки на сайте</a><br>
<a href="/cgi-bin/opennet/bookmark.cgi?submit=add" target="blank_">Проследить за страницей</a>
</td>
<td align="RIGHT" width="65%">
Created&nbsp;1996-2021&nbsp;by <b><a href="/contact.shtml" title="email maxim.chirkov@gmail.com">Maxim&nbsp;Chirkov</a></b><br>
<a href="https://www.opennet.ru/add.shtml">Добавить</a>, <a href="https://www.opennet.ru/donate.shtml" style="color: #C00000;">Поддержать</a>, <a href="https://www.opennet.ru/banners2.shtml">Вебмастеру</a>
</td>
</tr>
</tbody></table>
<br><br>


<!--/htdig_noindex-->
<!-- end of footer -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-123449-1', 'auto');
    ga('send', 'pageview');
</script>




</body>
<!---------------------------------------------  0  ---------------------------------------------->
