
<!--+++++++++++++++++++++++++++++++++++++++++++  0  +++++++++++++++++++++++++++++++++++++++++++--->
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-49925874-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-49925874-3');
  </script>

  <meta charset="utf-8">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  <title>Git - git-http-backend Documentation</title>

  <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">

  <link rel="stylesheet" media="screen" href="/assets/application-3fb605347038cd5206e27d1f90829d3159e0de904e21be188a31e8f8c27c42a8.css">
  <script src="/assets/modernize-b3ebe0c31c24f230dc62179d3e1030d2e57a53b1668d9382c0a27dbd44a94beb.js"></script>
  <!--[if (gte IE 6)&(lte IE 8)]>
  <script src="/javascripts/selectivizr-min.js"></script>
  <![endif]-->

</head>

<body id="documentation">

  <div class="inner">
    <header>

  <a href="/"><img src="/images/logo@2x.png" alt="Git" height="46" width="110"></a>
  <span id="tagline">--local-branching-on-the-cheap</span>
  <script type="text/javascript">
    var taglines = ["fast-version-control","everything-is-local","distributed-even-if-your-workflow-isnt","local-branching-on-the-cheap","distributed-is-the-new-centralized"];
    var tagline = taglines[Math.floor(Math.random() * taglines.length)];
    document.getElementById('tagline').innerHTML = '--' + tagline;
  </script>
  <form id="search" action="/search/results">
    <input id="search-text" name="search" placeholder="Search entire site..." autocomplete="off" type="text">
  </form>
  <div id="search-results"></div>

</header>

  </div> <!-- .inner -->

    <div class="inner">
      <div id="content-wrapper">
        <aside class="sidebar">
  <nav>
    <ul>
      <li>
        <a href="/about">About</a>
        <ul class="">
          <li>
            <a href="/about">Branching and Merging</a>
          </li>
          <li>
            <a href="/about/small-and-fast">Small and Fast</a>
          </li>
          <li>
            <a href="/about/distributed">Distributed</a>
          </li>
          <li>
            <a href="/about/info-assurance">Data Assurance</a>
          </li>
          <li>
            <a href="/about/staging-area">Staging Area</a>
          </li>
          <li>
            <a href="/about/free-and-open-source">Free and Open Source</a>
          </li>
          <li>
            <a href="/about/trademark">Trademark</a>
          </li>
        </ul>
      </li>
      <li>
        <a class="active" href="/doc">Documentation</a>
        <ul class="expanded">
          <li>
            <a class="active" href="/docs">Reference</a>
          </li>
          <li>
            <a href="/book">Book</a>
          </li>
          <li>
            <a href="/videos">Videos</a>
          </li>
          <li>
            <a href="/doc/ext">External Links</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="/downloads">Downloads</a>
        <ul class="">
          <li>
            <a href="/downloads/guis">GUI Clients</a>
          </li>
          <li>
            <a href="/downloads/logos">Logos</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="/community">Community</a>
      </li>
    </ul>
  </nav>
</aside>

        <div id="content">
          
  <div id="reference-version">
    <a class="dropdown-trigger" id="reference-languages-trigger" data-panel-id="l10n-versions-dropdown" href="#">
  English ▾</a>
<div class="dropdown-panel right" id="l10n-versions-dropdown">
  <header>Localized versions of <strong>git-http-backend</strong> manual</header>
  <ol class="reference-previous-versions">
      <li>
        <a href="/docs/git-http-backend/en"><span class="version">English</span>
        </a>
        </li>
      <li>
        <a href="/docs/git-http-backend/pt_BR"><span class="version">Português (Brasil)</span>
        </a>
        </li>
  </ol>
  <footer>
    Want to read in your language or fix typos?<br> <a href="https://github.com/jnavila/git-manpages-l10n">You can help translate this page</a>.
  </footer>
</div>

    <a class="dropdown-trigger" id="reference-topics-trigger" data-panel-id="topics-dropdown" href="#">Topics ▾</a>
<div class="dropdown-panel right" id="topics-dropdown">
  <div class="three-column">
    <div class="column-left">
      <h3 class="setup">Setup and Config</h3>
<ul class="unstyled">
  <li><a href="/docs/git">git</a></li>
  <li><a href="/docs/git-config">config</a></li>
  <li><a href="/docs/git-help">help</a></li>
  <li><a href="/docs/git-bugreport">bugreport</a></li>
</ul>

      <h3 class="projects">Getting and Creating Projects</h3>
<ul class="unstyled">
  <li><a href="/docs/git-init">init</a></li>
  <li><a href="/docs/git-clone">clone</a></li>
</ul>

      <h3 class="snapshotting">Basic Snapshotting</h3>
<ul class="unstyled">
  <li><a href="/docs/git-add">add</a></li>
  <li><a href="/docs/git-status">status</a></li>
  <li><a href="/docs/git-diff">diff</a></li>
  <li><a href="/docs/git-commit">commit</a></li>
  <li><a href="/docs/git-notes">notes</a></li>
  <li><a href="/docs/git-restore">restore</a></li>
  <li><a href="/docs/git-reset">reset</a></li>
  <li><a href="/docs/git-rm">rm</a></li>
  <li><a href="/docs/git-mv">mv</a></li>
</ul>

      <h3 class="branching">Branching and Merging</h3>
<ul class="unstyled">
  <li><a href="/docs/git-branch">branch</a></li>
  <li><a href="/docs/git-checkout">checkout</a></li>
  <li><a href="/docs/git-switch">switch</a></li>
  <li><a href="/docs/git-merge">merge</a></li>
  <li><a href="/docs/git-mergetool">mergetool</a></li>
  <li><a href="/docs/git-log">log</a></li>
  <li><a href="/docs/git-stash">stash</a></li>
  <li><a href="/docs/git-tag">tag</a></li>
  <li><a href="/docs/git-worktree">worktree</a></li>
</ul>

      <h3 class="sharing">Sharing and Updating Projects</h3>
<ul class="unstyled">
  <li><a href="/docs/git-fetch">fetch</a></li>
  <li><a href="/docs/git-pull">pull</a></li>
  <li><a href="/docs/git-push">push</a></li>
  <li><a href="/docs/git-remote">remote</a></li>
  <li><a href="/docs/git-submodule">submodule</a></li>
</ul>

    </div>
    <div class="column-middle">
      <h3 class="inspection">Inspection and Comparison</h3>
<ul class="unstyled">
  <li><a href="/docs/git-show">show</a></li>
  <li><a href="/docs/git-log">log</a></li>
  <li><a href="/docs/git-diff">diff</a></li>
  <li><a href="/docs/git-difftool">difftool</a></li>
  <li><a href="/docs/git-range-diff">range-diff</a></li>
  <li><a href="/docs/git-shortlog">shortlog</a></li>
  <li><a href="/docs/git-describe">describe</a></li>
</ul>

      <h3 class="patching">Patching</h3>
<ul class="unstyled">
  <li><a href="/docs/git-apply">apply</a></li>
  <li><a href="/docs/git-cherry-pick">cherry-pick</a></li>
  <li><a href="/docs/git-diff">diff</a></li>
  <li><a href="/docs/git-rebase">rebase</a></li>
  <li><a href="/docs/git-revert">revert</a></li>
</ul>

      <h3 class="debugging">Debugging</h3>
<ul class="unstyled">
  <li><a href="/docs/git-bisect">bisect</a></li>
  <li><a href="/docs/git-blame">blame</a></li>
  <li><a href="/docs/git-grep">grep</a></li>
</ul>

      <h3 class="email">Email</h3>
<ul class="unstyled">
  <li><a href="/docs/git-am">am</a></li>
  <li><a href="/docs/git-apply">apply</a></li>
  <li><a href="/docs/git-format-patch">format-patch</a></li>
  <li><a href="/docs/git-send-email">send-email</a></li>
  <li><a href="/docs/git-request-pull">request-pull</a></li>
</ul>

      <h3 class="external">External Systems</h3>
<ul class="unstyled">
  <li><a href="/docs/git-svn">svn</a></li>
  <li><a href="/docs/git-fast-import">fast-import</a></li>
</ul>

      <h3 class="server-admin">Server Admin</h3>
<ul class="unstyled">
  <li><a href="/docs/git-daemon">daemon</a></li>
  <li><a href="/docs/git-update-server-info">update-server-info</a></li>
</ul>

    </div>
    <div class="column-right">
      <h3 class="guides">Guides</h3>
<ul class="unstyled">
  <li><a href="/docs/gitattributes">gitattributes</a></li>
  <li><a href="/docs/gitcli">Command-line interface conventions</a></li>
  <li><a href="/docs/giteveryday">Everyday Git</a></li>
  <li><a href="/docs/gitfaq">Frequently Asked Questions (FAQ)</a></li>
  <li><a href="/docs/gitglossary">Glossary</a></li>
  <li><a href="/docs/githooks">Hooks</a></li>
  <li><a href="/docs/gitignore">gitignore</a></li>
  <li><a href="/docs/gitmodules">gitmodules</a></li>
  <li><a href="/docs/gitrevisions">Revisions</a></li>
  <li><a href="/docs/gitsubmodules">Submodules</a></li>
  <li><a href="/docs/gittutorial">Tutorial</a></li>
  <li><a href="/docs/gitworkflows">Workflows</a></li>
  <li><a href="/docs/git#_guides">All guides...</a></li>
</ul>

      <h3 class="admin">Administration</h3>
<ul class="unstyled">
  <li><a href="/docs/git-clean">clean</a></li>
  <li><a href="/docs/git-gc">gc</a></li>
  <li><a href="/docs/git-fsck">fsck</a></li>
  <li><a href="/docs/git-reflog">reflog</a></li>
  <li><a href="/docs/git-filter-branch">filter-branch</a></li>
  <li><a href="/docs/git-instaweb">instaweb</a></li>
  <li><a href="/docs/git-archive">archive</a></li>
  <li><a href="/docs/git-bundle">bundle</a></li>
</ul>

      <h3 class="plumbing">Plumbing Commands</h3>
<ul class="unstyled">
  <li><a href="/docs/git-cat-file">cat-file</a></li>
  <li><a href="/docs/git-check-ignore">check-ignore</a></li>
  <li><a href="/docs/git-checkout-index">checkout-index</a></li>
  <li><a href="/docs/git-commit-tree">commit-tree</a></li>
  <li><a href="/docs/git-count-objects">count-objects</a></li>
  <li><a href="/docs/git-diff-index">diff-index</a></li>
  <li><a href="/docs/git-for-each-ref">for-each-ref</a></li>
  <li><a href="/docs/git-hash-object">hash-object</a></li>
  <li><a href="/docs/git-ls-files">ls-files</a></li>
  <li><a href="/docs/git-ls-tree">ls-tree</a></li>
  <li><a href="/docs/git-merge-base">merge-base</a></li>
  <li><a href="/docs/git-read-tree">read-tree</a></li>
  <li><a href="/docs/git-rev-list">rev-list</a></li>
  <li><a href="/docs/git-rev-parse">rev-parse</a></li>
  <li><a href="/docs/git-show-ref">show-ref</a></li>
  <li><a href="/docs/git-symbolic-ref">symbolic-ref</a></li>
  <li><a href="/docs/git-update-index">update-index</a></li>
  <li><a href="/docs/git-update-ref">update-ref</a></li>
  <li><a href="/docs/git-verify-pack">verify-pack</a></li>
  <li><a href="/docs/git-write-tree">write-tree</a></li>
</ul>

    </div>
  </div>
</div>

    <a class="dropdown-trigger" id="reference-versions-trigger" data-panel-id="previous-versions-dropdown" href="#">
    Version 2.22.0
 ▾ </a>
<span class="light">git-http-backend last updated in 2.33.0</span>
<div class="dropdown-panel left" id="previous-versions-dropdown">
  <header>Changes in the <strong>git-http-backend</strong> manual</header>
  <ol class="reference-previous-versions">
        <li class="no-change"><span>2.22.1 → 2.33.0 no changes</span></li>
        <li>
        <a href="/docs/git-http-backend/2.22.0"><span class="version">2.22.0</span>
          <span class="diff">
              <img src="/images/icons/green-dot.png">
              <img src="/images/icons/red-dot.png">
              <img src="/images/icons/grey-dot.png">
              <img src="/images/icons/grey-dot.png">
              <img src="/images/icons/grey-dot.png">
              <img src="/images/icons/grey-dot.png">
              <img src="/images/icons/grey-dot.png">
              <img src="/images/icons/grey-dot.png">
          </span>
          <em class="date">06/07/19</em>
        </a>
        </li>
        <li class="no-change"><span>2.10.5 → 2.21.4 no changes</span></li>
        <li>
        <a href="/docs/git-http-backend/2.9.5"><span class="version">2.9.5</span>
          <span class="diff">
              <img src="/images/icons/green-dot.png">
              <img src="/images/icons/green-dot.png">
              <img src="/images/icons/green-dot.png">
              <img src="/images/icons/green-dot.png">
              <img src="/images/icons/red-dot.png">
              <img src="/images/icons/red-dot.png">
              <img src="/images/icons/red-dot.png">
              <img src="/images/icons/red-dot.png">
          </span>
          <em class="date">07/30/17</em>
        </a>
        </li>
        <li class="no-change"><span>2.5.6 → 2.8.6 no changes</span></li>
        <li>
        <a href="/docs/git-http-backend/2.4.12"><span class="version">2.4.12</span>
          <span class="diff">
              <img src="/images/icons/green-dot.png">
              <img src="/images/icons/green-dot.png">
              <img src="/images/icons/green-dot.png">
              <img src="/images/icons/green-dot.png">
              <img src="/images/icons/green-dot.png">
              <img src="/images/icons/green-dot.png">
              <img src="/images/icons/green-dot.png">
              <img src="/images/icons/red-dot.png">
          </span>
          <em class="date">05/05/17</em>
        </a>
        </li>
    <li>&nbsp;</li>
    <!-- <li><a class="more" href="#">See more previous releases →</a></li> -->
  </ol>
  <footer>
    <p>Check your version of git by running</p>
    <code class="command">git --version</code>
  </footer>
</div>

  </div>

  <div id="main">
    <div class="sect1">
<h2 id="_name"><a class="anchor" href="#_name"></a>NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-http-backend - Server side implementation of Git over HTTP</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis"><a class="anchor" href="#_synopsis"></a>SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git http-backend</em></pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description"><a class="anchor" href="#_description"></a>DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A simple CGI program to serve the contents of a Git repository to Git
clients accessing the repository over http:// and https:// protocols.
The program supports clients fetching using both the smart HTTP protocol
and the backwards-compatible dumb HTTP protocol, as well as clients
pushing using the smart HTTP protocol.</p>
</div>
<div class="paragraph">
<p>It verifies that the directory has the magic file
"git-daemon-export-ok", and it will refuse to export any Git directory
that hasn’t explicitly been marked for export this way (unless the
<code>GIT_HTTP_EXPORT_ALL</code> environmental variable is set).</p>
</div>
<div class="paragraph">
<p>By default, only the <code>upload-pack</code> service is enabled, which serves
<em>git fetch-pack</em> and <em>git ls-remote</em> clients, which are invoked from
<em>git fetch</em>, <em>git pull</em>, and <em>git clone</em>.  If the client is authenticated,
the <code>receive-pack</code> service is enabled, which serves <em>git send-pack</em>
clients, which is invoked from <em>git push</em>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_services"><a class="anchor" href="#_services"></a>SERVICES</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These services can be enabled/disabled using the per-repository
configuration file:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="Documentation/git-http-backend.txt-httpgetanyfile"> <a class="anchor" href="#Documentation/git-http-backend.txt-httpgetanyfile"></a>http.getanyfile </dt>
<dd>
<p>This serves Git clients older than version 1.6.6 that are unable to use the
upload pack service.  When enabled, clients are able to read
any file within the repository, including objects that are
no longer reachable from a branch but are still present.
It is enabled by default, but a repository can disable it
by setting this configuration item to <code>false</code>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-http-backend.txt-httpuploadpack"> <a class="anchor" href="#Documentation/git-http-backend.txt-httpuploadpack"></a>http.uploadpack </dt>
<dd>
<p>This serves <em>git fetch-pack</em> and <em>git ls-remote</em> clients.
It is enabled by default, but a repository can disable it
by setting this configuration item to <code>false</code>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-http-backend.txt-httpreceivepack"> <a class="anchor" href="#Documentation/git-http-backend.txt-httpreceivepack"></a>http.receivepack </dt>
<dd>
<p>This serves <em>git send-pack</em> clients, allowing push.  It is
disabled by default for anonymous users, and enabled by
default for users authenticated by the web server.  It can be
disabled by setting this item to <code>false</code>, or enabled for all
users, including anonymous users, by setting it to <code>true</code>.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_url_translation"><a class="anchor" href="#_url_translation"></a>URL TRANSLATION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To determine the location of the repository on disk, <em>git http-backend</em>
concatenates the environment variables PATH_INFO, which is set
automatically by the web server, and GIT_PROJECT_ROOT, which must be set
manually in the web server configuration.  If GIT_PROJECT_ROOT is not
set, <em>git http-backend</em> reads PATH_TRANSLATED, which is also set
automatically by the web server.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples"><a class="anchor" href="#_examples"></a>EXAMPLES</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All of the following examples map <code>http://$hostname/git/foo/bar.git</code>
to <code>/var/www/git/foo/bar.git</code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="Documentation/git-http-backend.txt-Apache2x"> <a class="anchor" href="#Documentation/git-http-backend.txt-Apache2x"></a>Apache 2.x </dt>
<dd>
<p>Ensure mod_cgi, mod_alias, and mod_env are enabled, set
GIT_PROJECT_ROOT (or DocumentRoot) appropriately, and
create a ScriptAlias to the CGI:</p>
<div class="listingblock">
<div class="content">
<pre>SetEnv GIT_PROJECT_ROOT /var/www/git
SetEnv GIT_HTTP_EXPORT_ALL
ScriptAlias /git/ /usr/libexec/git-core/git-http-backend/</pre>
</div>
</div>
<div class="paragraph">
<p>To enable anonymous read access but authenticated write access,
require authorization for both the initial ref advertisement (which we
detect as a push via the service parameter in the query string), and the
receive-pack invocation itself:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>RewriteCond %{QUERY_STRING} service=git-receive-pack [OR]
RewriteCond %{REQUEST_URI} /git-receive-pack$
RewriteRule ^/git/ - [E=AUTHREQUIRED:yes]

&lt;LocationMatch "^/git/"&gt;
	Order Deny,Allow
	Deny from env=AUTHREQUIRED

	AuthType Basic
	AuthName "Git Access"
	Require group committers
	Satisfy Any
	...
&lt;/LocationMatch&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>If you do not have <code>mod_rewrite</code> available to match against the query
string, it is sufficient to just protect <code>git-receive-pack</code> itself,
like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;LocationMatch "^/git/.*/git-receive-pack$"&gt;
	AuthType Basic
	AuthName "Git Access"
	Require group committers
	...
&lt;/LocationMatch&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>In this mode, the server will not request authentication until the
client actually starts the object negotiation phase of the push, rather
than during the initial contact.  For this reason, you must also enable
the <code>http.receivepack</code> config option in any repositories that should
accept a push. The default behavior, if <code>http.receivepack</code> is not set,
is to reject any pushes by unauthenticated users; the initial request
will therefore report <code>403 Forbidden</code> to the client, without even giving
an opportunity for authentication.</p>
</div>
<div class="paragraph">
<p>To require authentication for both reads and writes, use a Location
directive around the repository, or one of its parent directories:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;Location /git/private&gt;
	AuthType Basic
	AuthName "Private Git Access"
	Require group committers
	...
&lt;/Location&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>To serve gitweb at the same url, use a ScriptAliasMatch to only
those URLs that <em>git http-backend</em> can handle, and forward the
rest to gitweb:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ScriptAliasMatch \
	"(?x)^/git/(.*/(HEAD | \
			info/refs | \
			objects/(info/[^/]+ | \
				 [0-9a-f]{2}/[0-9a-f]{38} | \
				 pack/pack-[0-9a-f]{40}\.(pack|idx)) | \
			git-(upload|receive)-pack))$" \
	/usr/libexec/git-core/git-http-backend/$1

ScriptAlias /git/ /var/www/cgi-bin/gitweb.cgi/</pre>
</div>
</div>
<div class="paragraph">
<p>To serve multiple repositories from different <a href="/docs/gitnamespaces">gitnamespaces[7]</a> in a
single repository:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SetEnvIf Request_URI "^/git/([^/]*)" GIT_NAMESPACE=$1
ScriptAliasMatch ^/git/[^/]*(.*) /usr/libexec/git-core/git-http-backend/storage.git$1</pre>
</div>
</div>
</dd>
<dt class="hdlist1" id="Documentation/git-http-backend.txt-AcceleratedstaticApache2x"> <a class="anchor" href="#Documentation/git-http-backend.txt-AcceleratedstaticApache2x"></a>Accelerated static Apache 2.x </dt>
<dd>
<p>Similar to the above, but Apache can be used to return static
files that are stored on disk.  On many systems this may
be more efficient as Apache can ask the kernel to copy the
file contents from the file system directly to the network:</p>
<div class="listingblock">
<div class="content">
<pre>SetEnv GIT_PROJECT_ROOT /var/www/git

AliasMatch ^/git/(.*/objects/[0-9a-f]{2}/[0-9a-f]{38})$          /var/www/git/$1
AliasMatch ^/git/(.*/objects/pack/pack-[0-9a-f]{40}.(pack|idx))$ /var/www/git/$1
ScriptAlias /git/ /usr/libexec/git-core/git-http-backend/</pre>
</div>
</div>
<div class="paragraph">
<p>This can be combined with the gitweb configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SetEnv GIT_PROJECT_ROOT /var/www/git

AliasMatch ^/git/(.*/objects/[0-9a-f]{2}/[0-9a-f]{38})$          /var/www/git/$1
AliasMatch ^/git/(.*/objects/pack/pack-[0-9a-f]{40}.(pack|idx))$ /var/www/git/$1
ScriptAliasMatch \
	"(?x)^/git/(.*/(HEAD | \
			info/refs | \
			objects/info/[^/]+ | \
			git-(upload|receive)-pack))$" \
	/usr/libexec/git-core/git-http-backend/$1
ScriptAlias /git/ /var/www/cgi-bin/gitweb.cgi/</pre>
</div>
</div>
</dd>
<dt class="hdlist1" id="Documentation/git-http-backend.txt-Lighttpd"> <a class="anchor" href="#Documentation/git-http-backend.txt-Lighttpd"></a>Lighttpd </dt>
<dd>
<p>Ensure that <code>mod_cgi</code>, <code>mod_alias</code>, <code>mod_auth</code>, <code>mod_setenv</code> are
loaded, then set <code>GIT_PROJECT_ROOT</code> appropriately and redirect
all requests to the CGI:</p>
<div class="listingblock">
<div class="content">
<pre>alias.url += ( "/git" =&gt; "/usr/lib/git-core/git-http-backend" )
$HTTP["url"] =~ "^/git" {
	cgi.assign = ("" =&gt; "")
	setenv.add-environment = (
		"GIT_PROJECT_ROOT" =&gt; "/var/www/git",
		"GIT_HTTP_EXPORT_ALL" =&gt; ""
	)
}</pre>
</div>
</div>
<div class="paragraph">
<p>To enable anonymous read access but authenticated write access:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$HTTP["querystring"] =~ "service=git-receive-pack" {
	include "git-auth.conf"
}
$HTTP["url"] =~ "^/git/.*/git-receive-pack$" {
	include "git-auth.conf"
}</pre>
</div>
</div>
<div class="paragraph">
<p>where <code>git-auth.conf</code> looks something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>auth.require = (
	"/" =&gt; (
		"method" =&gt; "basic",
		"realm" =&gt; "Git Access",
		"require" =&gt; "valid-user"
	       )
)
# ...and set up auth.backend here</pre>
</div>
</div>
<div class="paragraph">
<p>To require authentication for both reads and writes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$HTTP["url"] =~ "^/git/private" {
	include "git-auth.conf"
}</pre>
</div>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_environment"><a class="anchor" href="#_environment"></a>ENVIRONMENT</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>git http-backend</em> relies upon the <code>CGI</code> environment variables set
by the invoking web server, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>PATH_INFO (if GIT_PROJECT_ROOT is set, otherwise PATH_TRANSLATED)</p>
</li>
<li>
<p>REMOTE_USER</p>
</li>
<li>
<p>REMOTE_ADDR</p>
</li>
<li>
<p>CONTENT_TYPE</p>
</li>
<li>
<p>QUERY_STRING</p>
</li>
<li>
<p>REQUEST_METHOD</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>GIT_HTTP_EXPORT_ALL</code> environmental variable may be passed to
<em>git-http-backend</em> to bypass the check for the "git-daemon-export-ok"
file in each repository before allowing export of that repository.</p>
</div>
<div class="paragraph">
<p>The <code>GIT_HTTP_MAX_REQUEST_BUFFER</code> environment variable (or the
<code>http.maxRequestBuffer</code> config variable) may be set to change the
largest ref negotiation request that git will handle during a fetch; any
fetch requiring a larger buffer will not succeed.  This value should not
normally need to be changed, but may be helpful if you are fetching from
a repository with an extremely large number of refs.  The value can be
specified with a unit (e.g., <code>100M</code> for 100 megabytes). The default is
10 megabytes.</p>
</div>
<div class="paragraph">
<p>The backend process sets GIT_COMMITTER_NAME to <em>$REMOTE_USER</em> and
GIT_COMMITTER_EMAIL to <em>${REMOTE_USER}@http.${REMOTE_ADDR}</em>,
ensuring that any reflogs created by <em>git-receive-pack</em> contain some
identifying information of the remote user who performed the push.</p>
</div>
<div class="paragraph">
<p>All <code>CGI</code> environment variables are available to each of the hooks
invoked by the <em>git-receive-pack</em>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Part of the <a href="/docs/git">git[1]</a> suite</p>
</div>
</div>
</div>
  </div>

        </div>
      </div>
      <footer>
  <div class="site-source">
    <a href="/site">About this site</a><br>
    Patches, suggestions, and comments are welcome.
  </div>
  <div class="sfc-member">
    Git is a member of <a href="/sfc">Software Freedom Conservancy</a>
  </div>
</footer>

<script src="/assets/application-8f00caf205cd147207c24e44516f18312442fd845fad0725e748f19cad311d0d.js"></script>

    </div>



</body>
<!---------------------------------------------  0  ---------------------------------------------->
